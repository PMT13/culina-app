(self["webpackChunkrecipe_tracker"]=self["webpackChunkrecipe_tracker"]||[]).push([[998],{3736:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):i&&(u=s?function(){i.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,u):[u]}return{exports:t,options:c}}n.d(e,{Z:function(){return r}})},9662:function(t,e,n){var r=n(7854),i=n(614),o=n(6330),a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not a function")}},6077:function(t,e,n){var r=n(7854),i=n(614),o=r.String,a=r.TypeError;t.exports=function(t){if("object"==typeof t||i(t))return t;throw a("Can't set "+o(t)+" as a prototype")}},1223:function(t,e,n){var r=n(5112),i=n(30),o=n(3070),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&o.f(s,a,{configurable:!0,value:i(null)}),t.exports=function(t){s[a][t]=!0}},5787:function(t,e,n){var r=n(7854),i=n(7976),o=r.TypeError;t.exports=function(t,e){if(i(e,t))return t;throw o("Incorrect invocation")}},9670:function(t,e,n){var r=n(7854),i=n(111),o=r.String,a=r.TypeError;t.exports=function(t){if(i(t))return t;throw a(o(t)+" is not an object")}},4019:function(t){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(t,e,n){"use strict";var r,i,o,a=n(4019),s=n(9781),u=n(7854),c=n(614),l=n(111),f=n(2597),h=n(648),p=n(6330),d=n(8880),v=n(1320),g=n(3070).f,m=n(7976),y=n(9518),_=n(7674),b=n(5112),w=n(9711),E=u.Int8Array,I=E&&E.prototype,T=u.Uint8ClampedArray,k=T&&T.prototype,C=E&&y(E),S=I&&y(I),A=Object.prototype,x=u.TypeError,N=b("toStringTag"),O=w("TYPED_ARRAY_TAG"),R=w("TYPED_ARRAY_CONSTRUCTOR"),P=a&&!!_&&"Opera"!==h(u.opera),D=!1,L={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},j=function(t){if(!l(t))return!1;var e=h(t);return"DataView"===e||f(L,e)||f(M,e)},F=function(t){if(!l(t))return!1;var e=h(t);return f(L,e)||f(M,e)},U=function(t){if(F(t))return t;throw x("Target is not a typed array")},q=function(t){if(c(t)&&(!_||m(C,t)))return t;throw x(p(t)+" is not a typed array constructor")},V=function(t,e,n,r){if(s){if(n)for(var i in L){var o=u[i];if(o&&f(o.prototype,t))try{delete o.prototype[t]}catch(a){try{o.prototype[t]=e}catch(c){}}}S[t]&&!n||v(S,t,n?e:P&&I[t]||e,r)}},B=function(t,e,n){var r,i;if(s){if(_){if(n)for(r in L)if(i=u[r],i&&f(i,t))try{delete i[t]}catch(o){}if(C[t]&&!n)return;try{return v(C,t,n?e:P&&C[t]||e)}catch(o){}}for(r in L)i=u[r],!i||i[t]&&!n||v(i,t,e)}};for(r in L)i=u[r],o=i&&i.prototype,o?d(o,R,i):P=!1;for(r in M)i=u[r],o=i&&i.prototype,o&&d(o,R,i);if((!P||!c(C)||C===Function.prototype)&&(C=function(){throw x("Incorrect invocation")},P))for(r in L)u[r]&&_(u[r],C);if((!P||!S||S===A)&&(S=C.prototype,P))for(r in L)u[r]&&_(u[r].prototype,S);if(P&&y(k)!==S&&_(k,S),s&&!f(S,N))for(r in D=!0,g(S,N,{get:function(){return l(this)?this[O]:void 0}}),L)u[r]&&d(u[r],O,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_CONSTRUCTOR:R,TYPED_ARRAY_TAG:D&&O,aTypedArray:U,aTypedArrayConstructor:q,exportTypedArrayMethod:V,exportTypedArrayStaticMethod:B,isView:j,isTypedArray:F,TypedArray:C,TypedArrayPrototype:S}},1318:function(t,e,n){var r=n(5656),i=n(1400),o=n(6244),a=function(t){return function(e,n,a){var s,u=r(e),c=o(u),l=i(a,c);if(t&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},206:function(t,e,n){var r=n(1702);t.exports=r([].slice)},4326:function(t,e,n){var r=n(1702),i=r({}.toString),o=r("".slice);t.exports=function(t){return o(i(t),8,-1)}},648:function(t,e,n){var r=n(7854),i=n(1694),o=n(614),a=n(4326),s=n(5112),u=s("toStringTag"),c=r.Object,l="Arguments"==a(function(){return arguments}()),f=function(t,e){try{return t[e]}catch(n){}};t.exports=i?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=f(e=c(t),u))?n:l?a(e):"Object"==(r=a(e))&&o(e.callee)?"Arguments":r}},7741:function(t,e,n){var r=n(1702),i=r("".replace),o=function(t){return String(Error(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,s=a.test(o);t.exports=function(t,e){if(s&&"string"==typeof t)while(e--)t=i(t,a,"");return t}},9920:function(t,e,n){var r=n(2597),i=n(3887),o=n(1236),a=n(3070);t.exports=function(t,e,n){for(var s=i(e),u=a.f,c=o.f,l=0;l<s.length;l++){var f=s[l];r(t,f)||n&&r(n,f)||u(t,f,c(e,f))}}},8544:function(t,e,n){var r=n(7293);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},8880:function(t,e,n){var r=n(9781),i=n(3070),o=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9781:function(t,e,n){var r=n(7293);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){var r=n(7854),i=n(111),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},3678:function(t){t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},6833:function(t,e,n){var r=n(8113);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},5268:function(t,e,n){var r=n(4326),i=n(7854);t.exports="process"==r(i.process)},8113:function(t,e,n){var r=n(5005);t.exports=r("navigator","userAgent")||""},7392:function(t,e,n){var r,i,o=n(7854),a=n(8113),s=o.process,u=o.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(r=l.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),t.exports=i},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(t,e,n){var r=n(7293),i=n(9114);t.exports=!r((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",i(1,7)),7!==t.stack)}))},2109:function(t,e,n){var r=n(7854),i=n(1236).f,o=n(8880),a=n(1320),s=n(3505),u=n(9920),c=n(4705);t.exports=function(t,e){var n,l,f,h,p,d,v=t.target,g=t.global,m=t.stat;if(l=g?r:m?r[v]||s(v,{}):(r[v]||{}).prototype,l)for(f in e){if(p=e[f],t.noTargetGet?(d=i(l,f),h=d&&d.value):h=l[f],n=c(g?f:v+(m?".":"#")+f,t.forced),!n&&void 0!==h){if(typeof p==typeof h)continue;u(p,h)}(t.sham||h&&h.sham)&&o(p,"sham",!0),a(l,f,p,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},2104:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.apply,a=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?a.bind(o):function(){return a.apply(o,arguments)})},9974:function(t,e,n){var r=n(1702),i=n(9662),o=n(4374),a=r(r.bind);t.exports=function(t,e){return i(t),void 0===e?t:o?a(t,e):function(){return t.apply(e,arguments)}}},4374:function(t,e,n){var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){var r=n(4374),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(t,e,n){var r=n(9781),i=n(2597),o=Function.prototype,a=r&&Object.getOwnPropertyDescriptor,s=i(o,"name"),u=s&&"something"===function(){}.name,c=s&&(!r||r&&a(o,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},1702:function(t,e,n){var r=n(4374),i=Function.prototype,o=i.bind,a=i.call,s=r&&o.bind(a,a);t.exports=r?function(t){return t&&s(t)}:function(t){return t&&function(){return a.apply(t,arguments)}}},5005:function(t,e,n){var r=n(7854),i=n(614),o=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t]):r[t]&&r[t][e]}},8173:function(t,e,n){var r=n(9662);t.exports=function(t,e){var n=t[e];return null==n?void 0:r(n)}},7854:function(t,e,n){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(t,e,n){var r=n(1702),i=n(7908),o=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return o(i(t),e)}},3501:function(t){t.exports={}},490:function(t,e,n){var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){var r=n(9781),i=n(7293),o=n(317);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){var r=n(7854),i=n(1702),o=n(7293),a=n(4326),s=r.Object,u=i("".split);t.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?u(t,""):s(t)}:s},9587:function(t,e,n){var r=n(614),i=n(111),o=n(7674);t.exports=function(t,e,n){var a,s;return o&&r(a=e.constructor)&&a!==n&&i(s=a.prototype)&&s!==n.prototype&&o(t,s),t}},2788:function(t,e,n){var r=n(1702),i=n(614),o=n(5465),a=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(t){return a(t)}),t.exports=o.inspectSource},8340:function(t,e,n){var r=n(111),i=n(8880);t.exports=function(t,e){r(e)&&"cause"in e&&i(t,"cause",e.cause)}},9909:function(t,e,n){var r,i,o,a=n(8536),s=n(7854),u=n(1702),c=n(111),l=n(8880),f=n(2597),h=n(5465),p=n(6200),d=n(3501),v="Object already initialized",g=s.TypeError,m=s.WeakMap,y=function(t){return o(t)?i(t):r(t,{})},_=function(t){return function(e){var n;if(!c(e)||(n=i(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return n}};if(a||h.state){var b=h.state||(h.state=new m),w=u(b.get),E=u(b.has),I=u(b.set);r=function(t,e){if(E(b,t))throw new g(v);return e.facade=t,I(b,t,e),e},i=function(t){return w(b,t)||{}},o=function(t){return E(b,t)}}else{var T=p("state");d[T]=!0,r=function(t,e){if(f(t,T))throw new g(v);return e.facade=t,l(t,T,e),e},i=function(t){return f(t,T)?t[T]:{}},o=function(t){return f(t,T)}}t.exports={set:r,get:i,has:o,enforce:y,getterFor:_}},614:function(t){t.exports=function(t){return"function"==typeof t}},4705:function(t,e,n){var r=n(7293),i=n(614),o=/#|\.prototype\./,a=function(t,e){var n=u[s(t)];return n==l||n!=c&&(i(e)?r(e):!!e)},s=a.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},111:function(t,e,n){var r=n(614);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){t.exports=!1},2190:function(t,e,n){var r=n(7854),i=n(5005),o=n(614),a=n(7976),s=n(3307),u=r.Object;t.exports=s?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return o(e)&&a(e.prototype,u(t))}},6244:function(t,e,n){var r=n(7466);t.exports=function(t){return r(t.length)}},133:function(t,e,n){var r=n(7392),i=n(7293);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:function(t,e,n){var r=n(7854),i=n(614),o=n(2788),a=r.WeakMap;t.exports=i(a)&&/native code/.test(o(a))},6277:function(t,e,n){var r=n(1340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:r(t)}},30:function(t,e,n){var r,i=n(9670),o=n(6048),a=n(748),s=n(3501),u=n(490),c=n(317),l=n(6200),f=">",h="<",p="prototype",d="script",v=l("IE_PROTO"),g=function(){},m=function(t){return h+d+f+t+h+"/"+d+f},y=function(t){t.write(m("")),t.close();var e=t.parentWindow.Object;return t=null,e},_=function(){var t,e=c("iframe"),n="java"+d+":";return e.style.display="none",u.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(m("document.F=Object")),t.close(),t.F},b=function(){try{r=new ActiveXObject("htmlfile")}catch(e){}b="undefined"!=typeof document?document.domain&&r?y(r):_():y(r);var t=a.length;while(t--)delete b[p][a[t]];return b()};s[v]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(g[p]=i(t),n=new g,g[p]=null,n[v]=t):n=b(),void 0===e?n:o.f(n,e)}},6048:function(t,e,n){var r=n(9781),i=n(3353),o=n(3070),a=n(9670),s=n(5656),u=n(1956);e.f=r&&!i?Object.defineProperties:function(t,e){a(t);var n,r=s(e),i=u(e),c=i.length,l=0;while(c>l)o.f(t,n=i[l++],r[n]);return t}},3070:function(t,e,n){var r=n(7854),i=n(9781),o=n(4664),a=n(3353),s=n(9670),u=n(4948),c=r.TypeError,l=Object.defineProperty,f=Object.getOwnPropertyDescriptor,h="enumerable",p="configurable",d="writable";e.f=i?a?function(t,e,n){if(s(t),e=u(e),s(n),"function"===typeof t&&"prototype"===e&&"value"in n&&d in n&&!n[d]){var r=f(t,e);r&&r[d]&&(t[e]=n.value,n={configurable:p in n?n[p]:r[p],enumerable:h in n?n[h]:r[h],writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(s(t),e=u(e),s(n),o)try{return l(t,e,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){var r=n(9781),i=n(6916),o=n(5296),a=n(9114),s=n(5656),u=n(4948),c=n(2597),l=n(4664),f=Object.getOwnPropertyDescriptor;e.f=r?f:function(t,e){if(t=s(t),e=u(e),l)try{return f(t,e)}catch(n){}if(c(t,e))return a(!i(o.f,t,e),t[e])}},8006:function(t,e,n){var r=n(6324),i=n(748),o=i.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,n){var r=n(7854),i=n(2597),o=n(614),a=n(7908),s=n(6200),u=n(8544),c=s("IE_PROTO"),l=r.Object,f=l.prototype;t.exports=u?l.getPrototypeOf:function(t){var e=a(t);if(i(e,c))return e[c];var n=e.constructor;return o(n)&&e instanceof n?n.prototype:e instanceof l?f:null}},7976:function(t,e,n){var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){var r=n(1702),i=n(2597),o=n(5656),a=n(1318).indexOf,s=n(3501),u=r([].push);t.exports=function(t,e){var n,r=o(t),c=0,l=[];for(n in r)!i(s,n)&&i(r,n)&&u(l,n);while(e.length>c)i(r,n=e[c++])&&(~a(l,n)||u(l,n));return l}},1956:function(t,e,n){var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},7674:function(t,e,n){var r=n(1702),i=n(9670),o=n(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(n,[]),e=n instanceof Array}catch(a){}return function(n,r){return i(n),o(r),e?t(n,r):n.__proto__=r,n}}():void 0)},2140:function(t,e,n){var r=n(7854),i=n(6916),o=n(614),a=n(111),s=r.TypeError;t.exports=function(t,e){var n,r;if("string"===e&&o(n=t.toString)&&!a(r=i(n,t)))return r;if(o(n=t.valueOf)&&!a(r=i(n,t)))return r;if("string"!==e&&o(n=t.toString)&&!a(r=i(n,t)))return r;throw s("Can't convert object to primitive value")}},3887:function(t,e,n){var r=n(5005),i=n(1702),o=n(8006),a=n(5181),s=n(9670),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(s(t)),n=a.f;return n?u(e,n(t)):e}},1320:function(t,e,n){var r=n(7854),i=n(614),o=n(2597),a=n(8880),s=n(3505),u=n(2788),c=n(9909),l=n(6530).CONFIGURABLE,f=c.get,h=c.enforce,p=String(String).split("String");(t.exports=function(t,e,n,u){var c,f=!!u&&!!u.unsafe,d=!!u&&!!u.enumerable,v=!!u&&!!u.noTargetGet,g=u&&void 0!==u.name?u.name:e;i(n)&&("Symbol("===String(g).slice(0,7)&&(g="["+String(g).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!o(n,"name")||l&&n.name!==g)&&a(n,"name",g),c=h(n),c.source||(c.source=p.join("string"==typeof g?g:""))),t!==r?(f?!v&&t[e]&&(d=!0):delete t[e],d?t[e]=n:a(t,e,n)):d?t[e]=n:s(e,n)})(Function.prototype,"toString",(function(){return i(this)&&f(this).source||u(this)}))},4488:function(t,e,n){var r=n(7854),i=r.TypeError;t.exports=function(t){if(void 0==t)throw i("Can't call method on "+t);return t}},3505:function(t,e,n){var r=n(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},6200:function(t,e,n){var r=n(2309),i=n(9711),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},5465:function(t,e,n){var r=n(7854),i=n(3505),o="__core-js_shared__",a=r[o]||i(o,{});t.exports=a},2309:function(t,e,n){var r=n(1913),i=n(5465);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.21.1",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.21.1/LICENSE",source:"https://github.com/zloirock/core-js"})},261:function(t,e,n){var r,i,o,a,s=n(7854),u=n(2104),c=n(9974),l=n(614),f=n(2597),h=n(7293),p=n(490),d=n(206),v=n(317),g=n(8053),m=n(6833),y=n(5268),_=s.setImmediate,b=s.clearImmediate,w=s.process,E=s.Dispatch,I=s.Function,T=s.MessageChannel,k=s.String,C=0,S={},A="onreadystatechange";try{r=s.location}catch(P){}var x=function(t){if(f(S,t)){var e=S[t];delete S[t],e()}},N=function(t){return function(){x(t)}},O=function(t){x(t.data)},R=function(t){s.postMessage(k(t),r.protocol+"//"+r.host)};_&&b||(_=function(t){g(arguments.length,1);var e=l(t)?t:I(t),n=d(arguments,1);return S[++C]=function(){u(e,void 0,n)},i(C),C},b=function(t){delete S[t]},y?i=function(t){w.nextTick(N(t))}:E&&E.now?i=function(t){E.now(N(t))}:T&&!m?(o=new T,a=o.port2,o.port1.onmessage=O,i=c(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&r&&"file:"!==r.protocol&&!h(R)?(i=R,s.addEventListener("message",O,!1)):i=A in v("script")?function(t){p.appendChild(v("script"))[A]=function(){p.removeChild(this),x(t)}}:function(t){setTimeout(N(t),0)}),t.exports={set:_,clear:b}},1400:function(t,e,n){var r=n(9303),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},5656:function(t,e,n){var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9303:function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){var r=+t;return r!==r||0===r?0:(r>0?n:e)(r)}},7466:function(t,e,n){var r=n(9303),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},7908:function(t,e,n){var r=n(7854),i=n(4488),o=r.Object;t.exports=function(t){return o(i(t))}},4590:function(t,e,n){var r=n(7854),i=n(3002),o=r.RangeError;t.exports=function(t,e){var n=i(t);if(n%e)throw o("Wrong offset");return n}},3002:function(t,e,n){var r=n(7854),i=n(9303),o=r.RangeError;t.exports=function(t){var e=i(t);if(e<0)throw o("The argument can't be less than 0");return e}},7593:function(t,e,n){var r=n(7854),i=n(6916),o=n(111),a=n(2190),s=n(8173),u=n(2140),c=n(5112),l=r.TypeError,f=c("toPrimitive");t.exports=function(t,e){if(!o(t)||a(t))return t;var n,r=s(t,f);if(r){if(void 0===e&&(e="default"),n=i(r,t,e),!o(n)||a(n))return n;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),u(t,e)}},4948:function(t,e,n){var r=n(7593),i=n(2190);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},1694:function(t,e,n){var r=n(5112),i=r("toStringTag"),o={};o[i]="z",t.exports="[object z]"===String(o)},1340:function(t,e,n){var r=n(7854),i=n(648),o=r.String;t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},6330:function(t,e,n){var r=n(7854),i=r.String;t.exports=function(t){try{return i(t)}catch(e){return"Object"}}},9711:function(t,e,n){var r=n(1702),i=0,o=Math.random(),a=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++i+o,36)}},3307:function(t,e,n){var r=n(133);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){var r=n(9781),i=n(7293);t.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8053:function(t,e,n){var r=n(7854),i=r.TypeError;t.exports=function(t,e){if(t<e)throw i("Not enough arguments");return t}},5112:function(t,e,n){var r=n(7854),i=n(2309),o=n(2597),a=n(9711),s=n(133),u=n(3307),c=i("wks"),l=r.Symbol,f=l&&l["for"],h=u?l:l&&l.withoutSetter||a;t.exports=function(t){if(!o(c,t)||!s&&"string"!=typeof c[t]){var e="Symbol."+t;s&&o(l,t)?c[t]=l[t]:c[t]=u&&f?f(e):h(e)}return c[t]}},9191:function(t,e,n){"use strict";var r=n(5005),i=n(2597),o=n(8880),a=n(7976),s=n(7674),u=n(9920),c=n(9587),l=n(6277),f=n(8340),h=n(7741),p=n(2914),d=n(1913);t.exports=function(t,e,n,v){var g=v?2:1,m=t.split("."),y=m[m.length-1],_=r.apply(null,m);if(_){var b=_.prototype;if(!d&&i(b,"cause")&&delete b.cause,!n)return _;var w=r("Error"),E=e((function(t,e){var n=l(v?e:t,void 0),r=v?new _(t):new _;return void 0!==n&&o(r,"message",n),p&&o(r,"stack",h(r.stack,2)),this&&a(b,this)&&c(r,this,E),arguments.length>g&&f(r,arguments[g]),r}));if(E.prototype=b,"Error"!==y&&(s?s(E,w):u(E,w,{name:!0})),u(E,_),!d)try{b.name!==y&&o(b,"name",y),b.constructor=E}catch(I){}return E}}},2262:function(t,e,n){"use strict";var r=n(2109),i=n(7908),o=n(6244),a=n(9303),s=n(1223);r({target:"Array",proto:!0},{at:function(t){var e=i(this),n=o(e),r=a(t),s=r>=0?r:n+r;return s<0||s>=n?void 0:e[s]}}),s("at")},1703:function(t,e,n){var r=n(2109),i=n(7854),o=n(2104),a=n(9191),s="WebAssembly",u=i[s],c=7!==Error("e",{cause:7}).cause,l=function(t,e){var n={};n[t]=a(t,e,c),r({global:!0,forced:c},n)},f=function(t,e){if(u&&u[t]){var n={};n[t]=a(s+"."+t,e,c),r({target:s,stat:!0,forced:c},n)}};l("Error",(function(t){return function(e){return o(t,this,arguments)}})),l("EvalError",(function(t){return function(e){return o(t,this,arguments)}})),l("RangeError",(function(t){return function(e){return o(t,this,arguments)}})),l("ReferenceError",(function(t){return function(e){return o(t,this,arguments)}})),l("SyntaxError",(function(t){return function(e){return o(t,this,arguments)}})),l("TypeError",(function(t){return function(e){return o(t,this,arguments)}})),l("URIError",(function(t){return function(e){return o(t,this,arguments)}})),f("CompileError",(function(t){return function(e){return o(t,this,arguments)}})),f("LinkError",(function(t){return function(e){return o(t,this,arguments)}})),f("RuntimeError",(function(t){return function(e){return o(t,this,arguments)}}))},4506:function(t,e,n){"use strict";var r=n(2109),i=n(1702),o=n(4488),a=n(9303),s=n(1340),u=n(7293),c=i("".charAt),l=u((function(){return"\ud842"!=="𠮷".at(-2)}));r({target:"String",proto:!0,forced:l},{at:function(t){var e=s(o(this)),n=e.length,r=a(t),i=r>=0?r:n+r;return i<0||i>=n?void 0:c(e,i)}})},8675:function(t,e,n){"use strict";var r=n(260),i=n(6244),o=n(9303),a=r.aTypedArray,s=r.exportTypedArrayMethod;s("at",(function(t){var e=a(this),n=i(e),r=o(t),s=r>=0?r:n+r;return s<0||s>=n?void 0:e[s]}))},3462:function(t,e,n){"use strict";var r=n(7854),i=n(6916),o=n(260),a=n(6244),s=n(4590),u=n(7908),c=n(7293),l=r.RangeError,f=r.Int8Array,h=f&&f.prototype,p=h&&h.set,d=o.aTypedArray,v=o.exportTypedArrayMethod,g=!c((function(){var t=new Uint8ClampedArray(2);return i(p,t,{length:1,0:3},1),3!==t[1]})),m=g&&o.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var t=new f(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));v("set",(function(t){d(this);var e=s(arguments.length>1?arguments[1]:void 0,1),n=u(t);if(g)return i(p,this,n,e);var r=this.length,o=a(n),c=0;if(o+e>r)throw l("Wrong length");while(c<o)this[e+c]=n[c++]}),!g||m)},2801:function(t,e,n){"use strict";var r=n(2109),i=n(5005),o=n(9114),a=n(3070).f,s=n(2597),u=n(5787),c=n(9587),l=n(6277),f=n(3678),h=n(7741),p=n(1913),d="DOMException",v=i("Error"),g=i(d),m=function(){u(this,y);var t=arguments.length,e=l(t<1?void 0:arguments[0]),n=l(t<2?void 0:arguments[1],"Error"),r=new g(e,n),i=v(e);return i.name=d,a(r,"stack",o(1,h(i.stack,1))),c(r,this,m),r},y=m.prototype=g.prototype,_="stack"in v(d),b="stack"in new g(1,2),w=_&&!b;r({global:!0,forced:p||w},{DOMException:w?m:g});var E=i(d),I=E.prototype;if(I.constructor!==E)for(var T in p||a(I,"constructor",o(1,E)),f)if(s(f,T)){var k=f[T],C=k.s;s(E,C)||a(E,C,o(6,k.c))}},4633:function(t,e,n){var r=n(2109),i=n(7854),o=n(261),a=!i.setImmediate||!i.clearImmediate;r({global:!0,bind:!0,enumerable:!0,forced:a},{setImmediate:o.set,clearImmediate:o.clear})},389:function(t,e,n){"use strict";n(1703);var r=n(8866),i=n(6037),o=n(4270),a=n(9556),s=n(2864);function u(t){return t&&"object"===typeof t&&"default"in t?t:{default:t}}var c,l=u(r),f=(c={},c["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),h=new a.ErrorFactory("appCheck","AppCheck",f),p=new Map,d={activated:!1,tokenObservers:[]},v={enabled:!1};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(t){return p.get(t)||d}function m(t,e){p.set(t,e)}function y(){return v}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _="https://content-firebaseappcheck.googleapis.com/v1beta",b="exchangeRecaptchaToken",w="exchangeDebugToken",E={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4},I=function(){function t(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return t.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},t.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},t.prototype.isRunning=function(){return!!this.pending},t.prototype.process=function(t){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,T(this.getNextRun(t))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return e=n.sent(),this.retryPolicy(e)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}}))}))},t.prototype.getNextRun=function(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e},t}();function T(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k(){return self.grecaptcha}function C(t){if(!g(t).activated)throw h.create("use-before-activation",{appName:t.name})}function S(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)}))}function A(t){return a.base64.encodeString(JSON.stringify(t),!1)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x(t,e){var n=t.url,r=t.body;return o.__awaiter(this,void 0,void 0,(function(){var t,i,a,s,u,c,l,f,p,d;return o.__generator(this,(function(o){switch(o.label){case 0:t={"Content-Type":"application/json"},i=e.getImmediate({optional:!0}),i&&(t["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:t},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),h.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw h.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),h.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(f=c.ttl.match(/^([\d.]+)(s)$/),!f||!f[2]||isNaN(Number(f[1])))throw h.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return p=1e3*Number(f[1]),d=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:d+p,issuedAtTimeMillis:d}]}}))}))}function N(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:_+"/projects/"+r+"/apps/"+i+":"+b+"?key="+o,body:{recaptcha_token:e}}}function O(t,e){var n=t.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:_+"/projects/"+r+"/apps/"+i+":"+w+"?key="+o,body:{debug_token:e}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var R="firebase-app-check-database",P=1,D="firebase-app-check-store",L="debug-token",M=null;function j(){return M||(M=new Promise((function(t,e){try{var n=indexedDB.open(R,P);n.onsuccess=function(e){t(e.target.result)},n.onerror=function(t){var n;e(h.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(D,{keyPath:"compositeKey"})}}}catch(r){e(h.create("storage-open",{originalErrorMessage:r.message}))}})),M)}function F(t){return K(z(t))}function U(t,e){return B(z(t),e)}function q(t){return B(L,t)}function V(){return K(L)}function B(t,e){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,j()];case 1:return n=o.sent(),r=n.transaction(D,"readwrite"),i=r.objectStore(D),a=i.put({compositeKey:t,value:e}),[2,new Promise((function(t,e){a.onsuccess=function(e){t()},r.onerror=function(t){var n;e(h.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function K(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,j()];case 1:return e=o.sent(),n=e.transaction(D,"readonly"),r=n.objectStore(D),i=r.get(t),[2,new Promise((function(t,e){i.onsuccess=function(e){var n=e.target.result;t(n?n.value:void 0)},n.onerror=function(t){var n;e(h.create("storage-get",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function z(t){return t.options.appId+"-"+t.name}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H=new s.Logger("@firebase/app-check");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];e=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,F(t)];case 2:return e=r.sent(),[3,4];case 3:return n=r.sent(),H.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,e];case 5:return[2,void 0]}}))}))}function G(t,e){return a.isIndexedDBAvailable()?U(t,e).catch((function(t){H.warn("Failed to write token to indexeddb. Error: "+t)})):Promise.resolve()}function $(){return o.__awaiter(this,void 0,void 0,(function(){var t,e;return o.__generator(this,(function(n){switch(n.label){case 0:t=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,V()];case 2:return t=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return t?[2,t]:(e=S(),q(e).catch((function(t){return H.warn("Failed to persist debug token to indexeddb. Error: "+t)})),console.log("AppCheck debug token: "+e+". You will need to whitelist it in the Firebase console for it to work"),[2,e])}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(){var t=y();return t.enabled}function Q(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){if(t=y(),t.enabled&&t.token)return[2,t.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}function X(){var t=a.getGlobal();if("string"===typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===t.FIREBASE_APPCHECK_DEBUG_TOKEN){var e=y();e.enabled=!0;var n=new a.Deferred;e.token=n,"string"===typeof t.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(t.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve($())}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var J={error:"UNKNOWN_ERROR"};function Z(t,e,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,f,h,p;return o.__generator(this,(function(d){switch(d.label){case 0:return C(t),r=g(t),i=r.token,a=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:s=d.sent(),s&&it(s)&&(i=s,m(t,o.__assign(o.__assign({},r),{token:i})),rt(t,{token:i.token})),d.label=2;case 2:return!n&&i&&it(i)?[2,{token:i.token}]:Y()?(c=x,l=O,f=[t],[4,Q()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,f.concat([d.sent()])),e])];case 4:return u=d.sent(),[4,G(t,u)];case 5:return d.sent(),m(t,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return d.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=d.sent(),[3,9];case 8:return h=d.sent(),H.error(h),a=h,[3,9];case 9:return i?[3,10]:(p=ot(a),[3,12]);case 10:return p={token:i.token},m(t,o.__assign(o.__assign({},r),{token:i})),[4,G(t,i)];case 11:d.sent(),d.label=12;case 12:return rt(t,p),[2,p]}}))}))}function tt(t,e,n,r,i){var a=g(t),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=nt(t,e);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&it(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(t){t&&it(t)&&r({token:t.token})})).catch((function(){}));m(t,u)}function et(t,e){var n=g(t),r=n.tokenObservers.filter((function(t){return t.next!==e}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),m(t,o.__assign(o.__assign({},n),{tokenObservers:r}))}function nt(t,e){var n=this;return new I((function(){return o.__awaiter(n,void 0,void 0,(function(){var n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return n=g(t),n.token?[3,2]:[4,Z(t,e)];case 1:return r=i.sent(),[3,4];case 2:return[4,Z(t,e,!0)];case 3:r=i.sent(),i.label=4;case 4:if(r.error)throw r.error;return[2]}}))}))}),(function(){return!0}),(function(){var e=g(t);if(e.token){var n=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5,r=e.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),E.RETRIAL_MIN_WAIT,E.RETRIAL_MAX_WAIT)}function rt(t,e){for(var n=g(t).tokenObservers,r=0,i=n;r<i.length;r++){var o=i[r];try{"EXTERNAL"===o.type&&null!=e.error?o.error(e.error):o.next(e)}catch(a){}}}function it(t){return t.expireTimeMillis-Date.now()>0}function ot(t){return{token:A(J),error:t}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at="https://www.google.com/recaptcha/api.js";function st(t,e){var n=g(t),r=new a.Deferred;m(t,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+t.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=k();return u?u.ready((function(){ct(t,e,u,i),r.resolve(u)})):lt((function(){var n=k();if(!n)throw new Error("no recaptcha");n.ready((function(){ct(t,e,n,i),r.resolve(n)}))})),r.promise}function ut(t){return o.__awaiter(this,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return C(t),e=g(t).reCAPTCHAState,[4,e.initialized.promise];case 1:return n=r.sent(),[2,new Promise((function(e,r){var i=g(t).reCAPTCHAState;n.ready((function(){e(n.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function ct(t,e,n,r){var i=n.render(r,{sitekey:e,size:"invisible"}),a=g(t);m(t,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}function lt(t){var e=document.createElement("script");e.src=""+at,e.onload=t,document.head.appendChild(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft=function(){function t(t){this._siteKey=t}return t.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(e){switch(e.label){case 0:if(!this._app||!this._platformLoggerProvider)throw h.create("use-before-activation",{appName:""});e.label=1;case 1:return e.trys.push([1,3,,4]),[4,ut(this._app)];case 2:return t=e.sent(),[3,4];case 3:throw e.sent(),h.create("recaptcha-error");case 4:return[2,x(N(this._app,t),this._platformLoggerProvider)]}}))}))},t.prototype.initialize=function(t,e){this._app=t,this._platformLoggerProvider=e,st(t,this._siteKey).catch((function(){}))},t}(),ht=function(){function t(t){this._customProviderOptions=t}return t.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,e,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw h.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return t=r.sent(),e=a.issuedAtTime(t.token),n=null!==e&&e<Date.now()&&e>0?1e3*e:Date.now(),[2,o.__assign(o.__assign({},t),{issuedAtTimeMillis:n})]}}))}))},t.prototype.initialize=function(t){this._app=t},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function pt(t,e,n,r){var i=g(t);if(i.activated)throw h.create("already-activated",{appName:t.name});var a=o.__assign(o.__assign({},i),{activated:!0});a.cachedTokenPromise=W(t).then((function(e){return e&&it(e)&&m(t,o.__assign(o.__assign({},g(t)),{token:e})),e})),a.provider="string"===typeof e?new ft(e):e instanceof ft||e instanceof ht?e:new ht({getToken:e.getToken}),a.isTokenAutoRefreshEnabled=void 0===r?t.automaticDataCollectionEnabled:r,m(t,a),a.provider.initialize(t,n)}function dt(t,e){var n=g(t);n.tokenRefresher&&(!0===e?n.tokenRefresher.start():n.tokenRefresher.stop()),m(t,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:e}))}function vt(t,e,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,Z(t,e,n)];case 1:if(r=i.sent(),r.error)throw r.error;return[2,{token:r.token}]}}))}))}function gt(t,e,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),tt(t,e,"EXTERNAL",o,a),function(){return et(t,o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t,e){return{app:t,activate:function(n,r){return pt(t,n,e,r)},setTokenAutoRefreshEnabled:function(e){return dt(t,e)},getToken:function(n){return vt(t,e,n)},onTokenChanged:function(n,r,i){return gt(t,e,n,r)},INTERNAL:{delete:function(){for(var e=g(t).tokenObservers,n=0,r=e;n<r.length;n++){var i=r[n];et(t,i.next)}return Promise.resolve()}}}}function yt(t,e){return{getToken:function(n){return Z(t,e,n)},addTokenListener:function(n){return tt(t,e,"INTERNAL",n)},removeTokenListener:function(e){return et(t,e)}}}var _t="@firebase/app-check",bt="0.3.2",wt="appCheck",Et="app-check-internal";function It(t){t.INTERNAL.registerComponent(new i.Component(wt,(function(t){var e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger");return mt(e,n)}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:ft,CustomProvider:ht}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(t,e,n){var r=t.getProvider(Et);r.initialize()}))),t.INTERNAL.registerComponent(new i.Component(Et,(function(t){var e=t.getProvider("app").getImmediate(),n=t.getProvider("platform-logger");return yt(e,n)}),"PUBLIC").setInstantiationMode("EXPLICIT")),t.registerVersion(_t,bt)}It(l["default"]),X()},8866:function(t,e,n){"use strict";n.r(e),n.d(e,{firebase:function(){return F}});var r,i,o=n(4270),a=n(9556),s=n(6037),u=n(2864),c=(r={},r["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),f="@firebase/app",h="0.6.30",p="@firebase/analytics",d="@firebase/app-check",v="@firebase/auth",g="@firebase/database",m="@firebase/functions",y="@firebase/installations",_="@firebase/messaging",b="@firebase/performance",w="@firebase/remote-config",E="@firebase/storage",I="@firebase/firestore",T="firebase-wrapper",k="[DEFAULT]",C=(i={},i[f]="fire-core",i[p]="fire-analytics",i[d]="fire-app-check",i[v]="fire-auth",i[g]="fire-rtdb",i[m]="fire-fn",i[y]="fire-iid",i[_]="fire-fcm",i[b]="fire-perf",i[w]="fire-rc",i[E]="fire-gcs",i[I]="fire-fst",i["fire-js"]="fire-js",i[T]="fire-js-all",i),S=new u.Logger("@firebase/app"),A=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(t),this.container=new s.ComponentContainer(e.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=k),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=k),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){S.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();A.prototype.name&&A.prototype.options||A.prototype.delete||console.log("dc");var x="8.10.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(t){var e={},n=new Map,r={__esModule:!0,initializeApp:c,app:o,registerVersion:p,setLogLevel:u.setLogLevel,onLog:d,apps:null,SDK_VERSION:x,INTERNAL:{registerComponent:h,removeApp:i,components:n,useAsService:v}};function i(t){delete e[t]}function o(t){if(t=t||k,!(0,a.contains)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(n,i){if(void 0===i&&(i={}),"object"!==typeof i||null===i){var o=i;i={name:o}}var s=i;void 0===s.name&&(s.name=k);var u=s.name;if("string"!==typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if((0,a.contains)(e,u))throw l.create("duplicate-app",{appName:u});var c=new t(n,s,r);return e[u]=c,c}function f(){return Object.keys(e).map((function(t){return e[t]}))}function h(i){var s=i.name;if(n.has(s))return S.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===i.type?r[s]:null;if(n.set(s,i),"PUBLIC"===i.type){var u=function(t){if(void 0===t&&(t=o()),"function"!==typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==i.serviceProps&&(0,a.deepExtend)(u,i.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,s);return n.apply(this,i.multipleInstances?t:[])}}for(var c=0,f=Object.keys(e);c<f.length;c++){var h=f[c];e[h]._addComponent(i)}return"PUBLIC"===i.type?r[s]:null}function p(t,e,n){var r,i=null!==(r=C[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void S.warn(u.join(" "))}h(new s.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))}function d(t,e){if(null!==t&&"function"!==typeof t)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(t,e)}function v(t,e){if("serverAuth"===e)return null;var n=e;return n}return r["default"]=r,Object.defineProperty(r,"apps",{get:f}),o["App"]=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(){var t=N(A);function e(e){(0,a.deepExtend)(t,e)}return t.INTERNAL=(0,o.__assign)((0,o.__assign)({},t.INTERNAL),{createFirebaseNamespace:O,extendNamespace:e,createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}var R=O(),P=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){var t=this.container.getProviders();return t.map((function(t){if(D(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(t,e){t.INTERNAL.registerComponent(new s.Component("platform-logger",(function(t){return new P(t)}),"PRIVATE")),t.registerVersion(f,h,e),t.registerVersion("fire-js","")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,a.isBrowser)()&&void 0!==self.firebase){S.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var M=self.firebase.SDK_VERSION;M&&M.indexOf("LITE")>=0&&S.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var j=R.initializeApp;R.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,a.isNode)()&&S.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),j.apply(void 0,t)};var F=R;L(F),e["default"]=F},7771:function(t,e,n){"use strict";n(1703),n(4633),n(8675),n(3462);var r=n(8866);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};function i(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}var o=i(this);function a(t,n){if(n){var r=o;t=t.split(".");for(var i=0;i<t.length-1;i++){var a=t[i];a in r||(r[a]={}),r=r[a]}t=t[t.length-1],i=r[t],n=n(i),n!=i&&null!=n&&e(r,t,{configurable:!0,writable:!0,value:n})}}function s(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function u(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:s(t)}}a("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var i=o.setTimeout;n.prototype.c=function(t){i(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new n;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=u(t),o=i.next();!o.done;o=i.next())r(o.value).Ra(e,n)}))},e.all=function(t){var n=u(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,s--,0==s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ra(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var c=c||{},l=this||self,f=/^[\w+/_-]+[=]{0,2}$/,h=null;function p(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&f.test(t)?t:""}function d(){}function v(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function g(t){var e=v(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){return"function"==v(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function _(t){return Object.prototype.hasOwnProperty.call(t,b)&&t[b]||(t[b]=++w)}var b="closure_uid_"+(1e9*Math.random()>>>0),w=0;function E(t,e,n){return t.call.apply(t.bind,arguments)}function I(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function T(t,e,n){return T=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?E:I,T.apply(null,arguments)}function k(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var C=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function A(t){return t}function x(t,e,n){this.code=R+t,this.message=e||P[t]||"",this.a=n||null}function N(t){var e=t&&t.code;return e?new x(e.substring(R.length),t.message,t.serverResponse):null}S(x,Error),x.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},x.prototype.toJSON=function(){return this.w()};var O,R="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function L(t){for(var e in D)if(D[e].id===t)return t=D[e],{firebaseEndpoint:t.Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function M(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function j(t){if(Error.captureStackTrace)Error.captureStackTrace(this,j);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function F(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");j.call(this,n+t[r])}function U(t,e){throw new F("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function q(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function V(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function B(){this.b=this.a=null}O=L("__EID__")?"__EID__":void 0,S(j,Error),j.prototype.name="CustomError",S(F,j),F.prototype.name="AssertionError",q.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var K=new q((function(){return new H}),(function(t){t.reset()}));function z(){var t=Oe,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function H(){this.next=this.b=this.a=null}B.prototype.add=function(t,e){var n=K.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},H.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},H.prototype.reset=function(){this.next=this.b=this.a=null};var W=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},G=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function $(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}var Y=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},Q=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},X=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function J(t){t:{for(var e=os,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function Z(t,e){return 0<=W(t,e)}function tt(t,e){var n;return e=W(t,e),(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function et(t,e){$(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function nt(t){return Array.prototype.concat.apply([],arguments)}function rt(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var it,ot=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},at=/&/g,st=/</g,ut=/>/g,ct=/"/g,lt=/'/g,ft=/\x00/g,ht=/[\x00&<>"']/;function pt(t,e){return-1!=t.indexOf(e)}function dt(t,e){return t<e?-1:t>e?1:0}t:{var vt=l.navigator;if(vt){var gt=vt.userAgent;if(gt){it=gt;break t}}it=""}function mt(t){return pt(it,t)}function yt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function _t(t){for(var e in t)return!1;return!0}function bt(t){var e,n={};for(e in t)n[e]=t[e];return n}var wt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Et(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<wt.length;o++)n=wt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function It(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if(r=r||l,r.Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;U("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function Tt(t,e){this.a=t===At&&e||"",this.b=St}function kt(t){return t instanceof Tt&&t.constructor===Tt&&t.b===St?t.a:(U("expected object of type Const, got '"+t+"'"),"type_error:Const")}Tt.prototype.ta=!0,Tt.prototype.sa=function(){return this.a},Tt.prototype.toString=function(){return"Const{"+this.a+"}"};var Ct,St={},At={};function xt(){if(void 0===Ct){var t=null,e=l.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:A,createScript:A,createScriptURL:A})}catch(n){l.console&&l.console.error(n.message)}Ct=t}else Ct=t}return Ct}function Nt(t,e){this.a=e===Lt?t:""}function Ot(t){return t instanceof Nt&&t.constructor===Nt?t.a:(U("expected object of type TrustedResourceUrl, got '"+t+"' of type "+v(t)),"type_error:TrustedResourceUrl")}function Rt(t,e){var n=kt(t);if(!Dt.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Pt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof Tt?kt(t):encodeURIComponent(String(t))})),Mt(t)}Nt.prototype.ta=!0,Nt.prototype.sa=function(){return this.a.toString()},Nt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Pt=/%{(\w+)}/g,Dt=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Lt={};function Mt(t){var e=xt();return t=e?e.createScriptURL(t):t,new Nt(t,Lt)}function jt(t,e){this.a=e===zt?t:""}function Ft(t){return t instanceof jt&&t.constructor===jt?t.a:(U("expected object of type SafeUrl, got '"+t+"' of type "+v(t)),"type_error:SafeUrl")}jt.prototype.ta=!0,jt.prototype.sa=function(){return this.a.toString()},jt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Ut=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,qt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Vt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Bt(t){if(t instanceof jt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Vt.test(t))t=new jt(t,zt);else{t=String(t),t=t.replace(/(%0A|%0D)/g,"");var e=t.match(qt);t=e&&Ut.test(e[1])?new jt(t,zt):null}return t}function Kt(t){return t instanceof jt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Vt.test(t)||(t="about:invalid#zClosurez"),new jt(t,zt))}var zt={},Ht=new jt("about:invalid#zClosurez",zt);function Wt(t,e,n){this.a=n===$t?t:""}function Gt(t){return t instanceof Wt&&t.constructor===Wt?t.a:(U("expected object of type SafeHtml, got '"+t+"' of type "+v(t)),"type_error:SafeHtml")}Wt.prototype.ta=!0,Wt.prototype.sa=function(){return this.a.toString()},Wt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var $t={};function Yt(t,e){It(t,"HTMLScriptElement"),t.src=Ot(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=l?e=p(e.document):(null===h&&(h=p(l.document)),e=h),e&&t.setAttribute("nonce",e)}function Qt(t,e,n,r){return t=t instanceof jt?t:Kt(t),e=e||l,n=n instanceof Tt?kt(n):n||"",e.open(Ft(t),n,r,void 0)}function Xt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Jt(t){return ht.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(at,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(st,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(ut,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ct,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(lt,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(ft,"&#0;"))),t}function Zt(t){return Zt[" "](t),t}function te(t,e){var n=pe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Zt[" "]=d;var ee,ne=mt("Opera"),re=mt("Trident")||mt("MSIE"),ie=mt("Edge"),oe=ie||re,ae=mt("Gecko")&&!(pt(it.toLowerCase(),"webkit")&&!mt("Edge"))&&!(mt("Trident")||mt("MSIE"))&&!mt("Edge"),se=pt(it.toLowerCase(),"webkit")&&!mt("Edge");function ue(){var t=l.document;return t?t.documentMode:void 0}t:{var ce="",le=function(){var t=it;return ae?/rv:([^\);]+)(\)|;)/.exec(t):ie?/Edge\/([\d\.]+)/.exec(t):re?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):se?/WebKit\/(\S+)/.exec(t):ne?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(le&&(ce=le?le[1]:""),re){var fe=ue();if(null!=fe&&fe>parseFloat(ce)){ee=String(fe);break t}}ee=ce}var he,pe={};function de(t){return te(t,(function(){for(var e=0,n=ot(String(ee)).split("."),r=ot(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=dt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||dt(0==a[2].length,0==s[2].length)||dt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(l.document&&re){var ve=ue();he=ve||(parseInt(ee,10)||void 0)}else he=void 0;var ge=he;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(td){}var me=!re||9<=Number(ge);function ye(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function _e(t,e){yt(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Ee.hasOwnProperty(n)?t.setAttribute(Ee[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var be,we,Ee={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Ie(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!me&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Jt(a.name),'"'),a.type){o.push(' type="',Jt(a.type),'"');var s={};Et(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ke(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):_e(o,a)),2<r.length&&Te(i,o,r),o}function Te(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!g(o)||y(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(y(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(m(o)){a="function"==typeof o.item;break t}}a=!1}G(a?rt(o):o,r)}}}function ke(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function Ce(t){l.setTimeout((function(){throw t}),0)}function Se(){var t=l.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!mt("Presto")&&(t=function(){var t=ke(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=T((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!mt("Trident")&&!mt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){l.setTimeout(t,0)}}function Ae(t,e){we||xe(),Ne||(we(),Ne=!0),Oe.add(t,e)}function xe(){if(l.Promise&&l.Promise.resolve){var t=l.Promise.resolve(void 0);we=function(){t.then(Re)}}else we=function(){var t=Re;!m(l.setImmediate)||l.Window&&l.Window.prototype&&!mt("Edge")&&l.Window.prototype.setImmediate==l.setImmediate?(be||(be=Se()),be(t)):l.setImmediate(t)}}var Ne=!1,Oe=new B;function Re(){for(var t;t=z();){try{t.a.call(t.b)}catch(e){Ce(e)}V(K,t)}Ne=!1}function Pe(t,e){if(this.a=De,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=d)try{var n=this;t.call(e,(function(t){$e(n,Le,t)}),(function(t){if(!(t instanceof rn))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}$e(n,Me,t)}))}catch(r){$e(this,Me,r)}}var De=0,Le=2,Me=3;function je(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}je.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Fe=new q((function(){return new je}),(function(t){t.reset()}));function Ue(t,e,n){var r=Fe.get();return r.g=t,r.b=e,r.f=n,r}function qe(t){if(t instanceof Pe)return t;var e=new Pe(d);return $e(e,Le,t),e}function Ve(t){return new Pe((function(e,n){n(t)}))}function Be(t,e,n){Ye(t,e,n,null)||Ae(k(e,t))}function Ke(t){return new Pe((function(e,n){var r=t.length,i=[];if(r)for(var o,a=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},u=0;u<t.length;u++)o=t[u],Be(o,k(a,u),s);else e(i)}))}function ze(t){return new Pe((function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},a=0;a<t.length;a++)i=t[a],Be(i,k(o,a,!0),k(o,a,!1));else e(r)}))}function He(t,e){if(t.a==De)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==De&&1==r?He(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):Je(n),Ze(n,i,Me,e)))}t.c=null}else $e(t,Me,e)}function We(t,e){t.b||t.a!=Le&&t.a!=Me||Xe(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ge(t,e,n,r){var i=Ue(null,null,null);return i.a=new Pe((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof rn?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,We(t,i),i.a}function $e(t,e,n){t.a==De&&(t===n&&(e=Me,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Ye(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Xe(t),e!=Me||n instanceof rn||en(t,n)))}function Ye(t,e,n,r){if(t instanceof Pe)return We(t,Ue(e||d,n||null,r)),!0;if(M(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(m(i))return Qe(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Qe(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}function Xe(t){t.h||(t.h=!0,Ae(t.gc,t))}function Je(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Ze(t,e,n,r){if(n==Me&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,tn(e,n,r);else try{e.c?e.g.call(e.f):tn(e,n,r)}catch(i){nn.call(null,i)}V(Fe,e)}function tn(t,e,n){e==Le?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function en(t,e){t.g=!0,Ae((function(){t.g&&nn.call(null,e)}))}Pe.prototype.then=function(t,e,n){return Ge(this,m(t)?t:null,m(e)?e:null,n)},Pe.prototype.$goog_Thenable=!0,t=Pe.prototype,t.oa=function(t,e){return t=Ue(t,t,e),t.c=!0,We(this,t),this},t.o=function(t,e){return Ge(this,null,t,e)},t.cancel=function(t){if(this.a==De){var e=new rn(t);Ae((function(){He(this,e)}),this)}},t.$c=function(t){this.a=De,$e(this,Le,t)},t.ad=function(t){this.a=De,$e(this,Me,t)},t.gc=function(){for(var t;t=Je(this);)Ze(this,t,this.a,this.i);this.h=!1};var nn=Ce;function rn(t){j.call(this,t)}function on(){0!=an&&(sn[_(this)]=this),this.ya=this.ya,this.pa=this.pa}S(rn,j),rn.prototype.name="cancel";var an=0,sn={};function un(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=an)){var e=_(t);if(0!=an&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete sn[e]}}on.prototype.ya=!1,on.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var cn=Object.freeze||function(t){return t},ln=!re||9<=Number(ge),fn=re&&!de("9"),hn=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{l.addEventListener("test",d,e),l.removeEventListener("test",d,e)}catch(n){}return t}();function pn(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function dn(t,e){if(pn.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(ae){t:{try{Zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:vn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}pn.prototype.preventDefault=function(){this.defaultPrevented=!0},S(dn,pn);var vn=cn({2:"touch",3:"pen",4:"mouse"});dn.prototype.preventDefault=function(){dn.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,fn)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},dn.prototype.g=function(){return this.a};var gn="closure_listenable_"+(1e6*Math.random()|0),mn=0;function yn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++mn,this.wa=this.Qa=!1}function _n(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function bn(t){this.src=t,this.a={},this.b=0}function wn(t,e){var n=e.type;n in t.a&&tt(t.a[n],e)&&(_n(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function En(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}bn.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var a=En(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):(e=new yn(e,this.src,o,!!r,i),e.Qa=n,t.push(e)),e};var In="closure_lm_"+(1e6*Math.random()|0),Tn={};function kn(t,e,n,r,i){if(r&&r.once)An(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)kn(t,e[o],n,r,i);else n=jn(n),t&&t[gn]?Un(t,e,n,y(r)?!!r.capture:!!r,i):Cn(t,e,n,!1,r,i)}function Cn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=y(i)?!!i.capture:!!i,s=Ln(t);if(s||(t[In]=s=new bn(t)),n=s.add(e,n,r,a,o),!n.proxy){if(r=Sn(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hn||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(On(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function Sn(){var t=Dn,e=ln?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function An(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)An(t,e[o],n,r,i);else n=jn(n),t&&t[gn]?qn(t,e,n,y(r)?!!r.capture:!!r,i):Cn(t,e,n,!0,r,i)}function xn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)xn(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=jn(n),t&&t[gn]?(t=t.v,e=String(e).toString(),e in t.a&&(o=t.a[e],n=En(o,n,r,i),-1<n&&(_n(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Ln(t))&&(e=t.a[e.toString()],t=-1,e&&(t=En(e,n,r,i)),(n=-1<t?e[t]:null)&&Nn(n))}function Nn(t){if("number"!==typeof t&&t&&!t.wa){var e=t.src;if(e&&e[gn])wn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(On(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ln(e))?(wn(n,t),0==n.b&&(n.src=null,e[In]=null)):_n(t)}}}function On(t){return t in Tn?Tn[t]:Tn[t]="on"+t}function Rn(t,e,n,r){var i=!0;if((t=Ln(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=Pn(o,r),i=i&&!1!==o)}return i}function Pn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&Nn(t),n.call(r,e)}function Dn(t,e){if(t.wa)return!0;if(!ln){if(!e)t:{e=["window","event"];for(var n=l,r=0;r<e.length;r++)if(n=n[e[r]],null==n){e=null;break t}e=n}if(r=e,e=new dn(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Rn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Rn(r[i],t,!1,e),n=n&&o}return n}return Pn(t,new dn(e,this))}function Ln(t){return t=t[In],t instanceof bn?t:null}var Mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function jn(t){return m(t)?t:(t[Mn]||(t[Mn]=function(e){return t.handleEvent(e)}),t[Mn])}function Fn(){on.call(this),this.v=new bn(this),this.bc=this,this.hb=null}function Un(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function qn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Vn(t,e,n,r){if(e=t.v.a[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&wn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Bn(t,e,n){if(m(t))n&&(t=T(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=T(t.handleEvent,t)}return 2147483647<Number(e)?-1:l.setTimeout(t,e||0)}function Kn(t){var e=null;return new Pe((function(n,r){e=Bn((function(){n(void 0)}),t),-1==e&&r(Error("Failed to schedule timer."))})).o((function(t){throw l.clearTimeout(e),t}))}function zn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"===typeof t)return t.split("");if(g(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function Hn(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(g(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Wn(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(g(t)||"string"===typeof t)G(t,e,void 0);else for(var n=Hn(t),r=zn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}function Gn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Gn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function $n(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Yn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Yn(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Yn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(Fn,on),Fn.prototype[gn]=!0,Fn.prototype.addEventListener=function(t,e,n,r){kn(this,t,e,n,r)},Fn.prototype.removeEventListener=function(t,e,n,r){xn(this,t,e,n,r)},Fn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"===typeof t)t=new pn(t,n);else if(t instanceof pn)t.target=t.target||n;else{var i=t;t=new pn(r,n),Et(t,i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Vn(a,r,!0,t)&&i}if(a=t.b=n,i=Vn(a,r,!0,t)&&i,i=Vn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)a=t.b=e[o],i=Vn(a,r,!1,t)&&i;return i},Fn.prototype.Da=function(){if(Fn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)_n(n[r]);delete e.a[t],e.b--}}this.hb=null},t=Gn.prototype,t.X=function(){$n(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return $n(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Yn(this.b,t)?this.b[t]:e},t.set=function(t,e){Yn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Qn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Xn(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Jn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Jn?(this.i=void 0!==e?e:t.i,Zn(this,t.c),this.l=t.l,this.a=t.a,tr(this,t.g),this.f=t.f,er(this,br(t.b)),this.h=t.h):t&&(n=String(t).match(Qn))?(this.i=!!e,Zn(this,n[1]||"",!0),this.l=ar(n[2]||""),this.a=ar(n[3]||"",!0),tr(this,n[4]),this.f=ar(n[5]||"",!0),er(this,n[6]||"",!0),this.h=ar(n[7]||"")):(this.i=!!e,this.b=new dr(null,this.i))}function Zn(t,e,n){t.c=n?ar(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function tr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function er(t,e,n){e instanceof dr?(t.b=e,Er(t.b,t.i)):(n||(e=sr(e,hr)),t.b=new dr(e,t.i))}function nr(t,e,n){t.b.set(e,n)}function rr(t,e){return t.b.get(e)}function ir(t){return t instanceof Jn?new Jn(t):new Jn(t,void 0)}function or(t,e,n,r){var i=new Jn(null,void 0);return t&&Zn(i,t),e&&(i.a=e),n&&tr(i,n),r&&(i.f=r),i}function ar(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function sr(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,ur),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ur(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}Jn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(sr(e,cr,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(sr(e,cr,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.g,null!=n&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(sr(n,"/"==n.charAt(0)?fr:lr,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",sr(n,pr)),t.join("")},Jn.prototype.resolve=function(t){var e=new Jn(this),n=!!t.c;n?Zn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)tr(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(i=r,".."==i||"."==i)r="";else if(pt(i,"./")||pt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?er(e,br(t.b)):n=!!t.h,n&&(e.h=t.h),e};var cr=/[#\/\?@]/g,lr=/[#\?:]/g,fr=/[#\?]/g,hr=/[#\?@]/g,pr=/#/g;function dr(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function vr(t){t.a||(t.a=new Gn,t.b=0,t.c&&Xn(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function gr(t){var e=Hn(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new dr(null,void 0);t=zn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?_r(n,i,o):n.add(i,o)}return n}function mr(t,e){vr(t),e=wr(t,e),Yn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Yn(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&$n(t)))}function yr(t,e){return vr(t),e=wr(t,e),Yn(t.a.b,e)}function _r(t,e,n){mr(t,e),0<n.length&&(t.c=null,t.a.set(wr(t,e),rt(n)),t.b+=n.length)}function br(t){var e=new dr;return e.c=t.c,t.a&&(e.a=new Gn(t.a),e.b=t.b),e}function wr(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Er(t,e){e&&!t.f&&(vr(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(mr(this,e),_r(this,n,t))}),t)),t.f=e}function Ir(t){var e=[];return kr(new Tr,t,e),e.join("")}function Tr(){}function kr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),kr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&(o=e[r],"function"!=typeof o&&(n.push(i),Ar(r,n),n.push(":"),kr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":Ar(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}t=dr.prototype,t.add=function(t,e){vr(this),this.c=null,t=wr(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){vr(this),this.a.forEach((function(n,r){G(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){vr(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){vr(this);var e=[];if("string"===typeof t)yr(this,t)&&(e=nt(e,this.a.get(wr(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=nt(e,t[n])}return e},t.set=function(t,e){return vr(this),this.c=null,t=wr(this,t),yr(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t?(t=this.X(t),0<t.length?String(t[0]):e):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Cr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Sr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Ar(t,e){e.push('"',t.replace(Sr,(function(t){var e=Cr[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Cr[t]=e),e})),'"')}function xr(){var t=Zr();return re&&!!ge&&11==ge||/Edge\/\d+/.test(t)}function Nr(){return l.window&&l.window.location.href||self&&self.location&&self.location.href||""}function Or(t,e){e=e||l.window;var n="about:blank";t&&(n=Ft(Bt(t)||Ht)),e.location.href=n}function Rr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<Rr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function Pr(){var t=Zr();return t=Qr(t)!=Yr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null,!(t&&30>t)&&(!re||!ge||9<ge)}function Dr(t){return t=(t||Zr()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function Lr(t){t=t||l.window;try{t.close()}catch(e){}}function Mr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Zr().toLowerCase(),r&&(e.target=r,pt(n,"crios/")&&(e.target="_blank")),Qr(Zr())==$r&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof jt?n:Bt("undefined"!=typeof n.href?n.href:String(n))||Ht,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((mt("iPhone")&&!mt("iPod")&&!mt("iPad")||mt("iPad")||mt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=ke(document,"A"),It(a,"HTMLAnchorElement"),e=e instanceof jt?e:Kt(e),a.href=Ft(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Qt("",r,n,a),t=Ft(e),a&&(oe&&pt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Jt(t)+'">',t=(r=xt())?r.createHTML(t):t,t=new Wt(t,null,$t),r=a.document)&&(r.write(Gt(t)),r.close())):(a=Qt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}function jr(t){return new Pe((function(e){function n(){Kn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}return n()}))}var Fr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ur=/^[^@]+@[^@]+$/;function qr(){var t=null;return new Pe((function(e){"complete"==l.document.readyState?e():(t=function(){e()},An(window,"load",t))})).o((function(e){throw xn(window,"load",t),e}))}function Vr(){return Br(void 0)?qr().then((function(){return new Pe((function(t,e){var n=l.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ve(Error("Cordova must run in an Android or iOS file scheme."))}function Br(t){return t=t||Zr(),!("file:"!==ii()&&"ionic:"!==ii()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Kr(){var t=l.window;try{return!(!t||t==t.top)}catch(e){return!1}}function zr(){return"undefined"!==typeof l.WorkerGlobalScope&&"function"===typeof l.importScripts}function Hr(){return r["default"].INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r["default"].INTERNAL.hasOwnProperty("node")?"Node":zr()?"Worker":"Browser"}function Wr(){var t=Hr();return"ReactNative"===t||"Node"===t}function Gr(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}var $r="Firefox",Yr="Chrome";function Qr(t){var e=t.toLowerCase();return pt(e,"opera/")||pt(e,"opr/")||pt(e,"opios/")?"Opera":pt(e,"iemobile")?"IEMobile":pt(e,"msie")||pt(e,"trident/")?"IE":pt(e,"edge/")?"Edge":pt(e,"firefox/")?$r:pt(e,"silk/")?"Silk":pt(e,"blackberry")?"Blackberry":pt(e,"webos")?"Webos":!pt(e,"safari/")||pt(e,"chrome/")||pt(e,"crios/")||pt(e,"android")?!pt(e,"chrome/")&&!pt(e,"crios/")||pt(e,"edge/")?pt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Yr:"Safari"}var Xr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Jr(t,e){e=e||[];var n,r=[],i={};for(n in Xr)i[Xr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=Hr(),"Browser"===r?(i=Zr(),r=Qr(i)):"Worker"===r&&(i=Zr(),r=Qr(i)+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Zr(){return l.navigator&&l.navigator.userAgent||""}function ti(t,e){t=t.split("."),e=e||l;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function ei(){try{var t=l.localStorage,e=ci();if(t)return t.setItem(e,"1"),t.removeItem(e),!xr()||!!l.indexedDB}catch(n){return zr()&&!!l.indexedDB}return!1}function ni(){return(ri()||"chrome-extension:"===ii()||Br())&&!Wr()&&ei()&&!zr()}function ri(){return"http:"===ii()||"https:"===ii()}function ii(){return l.location&&l.location.protocol||null}function oi(t){return t=t||Zr(),!Dr(t)&&Qr(t)!=$r}function ai(t){return"undefined"===typeof t?null:Ir(t)}function si(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function ui(t){if(null!==t)return JSON.parse(t)}function ci(t){return t||Math.floor(1e9*Math.random()).toString()}function li(t){return t=t||Zr(),"Safari"!=Qr(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function fi(){var t=l.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function hi(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Zr(),e=Hr(),this.b=Dr(t)||"ReactNative"===e}function pi(){var t=l.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function di(){var t=l.document,e=null;return pi()||!t?qe():new Pe((function(n){e=function(){pi()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}function vi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function gi(){return!(!ti("fireauth.oauthhelper",l)&&!ti("fireauth.iframe",l))}function mi(){var t=l.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}function yi(){var t=l.navigator;return t&&t.serviceWorker?qe().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):qe(null)}hi.prototype.get=function(){var t=l.navigator;return!t||"boolean"!==typeof t.onLine||!ri()&&"chrome-extension:"!==ii()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var _i,bi={};function wi(t){bi[t]||(bi[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Ei={};Object.defineProperty(Ei,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ei,"abcd",{configurable:!0,enumerable:!0,value:2}),_i=2==Ei.abcd}catch(td){_i=!1}function Ii(t,e,n){_i?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Ti(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Ii(t,n,e[n])}function ki(t){var e={};return Ti(e,t),e}function Ci(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Si(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Ai(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Ii(e,n,Ai(t[n]));return e}function xi(t){var e=t&&(t[Di]?"phone":null);if(!(e&&t&&t[Pi]))throw new x("internal-error","Internal assert: invalid MultiFactorInfo object");Ii(this,"uid",t[Pi]),Ii(this,"displayName",t[Oi]||null);var n=null;t[Ri]&&(n=new Date(t[Ri]).toUTCString()),Ii(this,"enrollmentTime",n),Ii(this,"factorId",e)}function Ni(t){try{var e=new Li(t)}catch(n){e=null}return e}xi.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Oi="displayName",Ri="enrolledAt",Pi="mfaEnrollmentId",Di="phoneInfo";function Li(t){xi.call(this,t),Ii(this,"phoneNumber",t[Di])}function Mi(t){var e={},n=t[qi],r=t[Bi],i=t[Ki];if(t=Ni(t[Vi]),!i||i!=Fi&&i!=Ui&&!n||i==Ui&&!r||i==ji&&!t)throw Error("Invalid checkActionCode response!");i==Ui?(e[Hi]=n||null,e[Gi]=n||null,e[zi]=r):(e[Hi]=r||null,e[Gi]=r||null,e[zi]=n||null),e[Wi]=t||null,Ii(this,Yi,i),Ii(this,$i,Ai(e))}S(Li,xi),Li.prototype.w=function(){var t=Li.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var ji="REVERT_SECOND_FACTOR_ADDITION",Fi="EMAIL_SIGNIN",Ui="VERIFY_AND_CHANGE_EMAIL",qi="email",Vi="mfaInfo",Bi="newEmail",Ki="requestType",zi="email",Hi="fromEmail",Wi="multiFactorInfo",Gi="previousEmail",$i="data",Yi="operation";function Qi(t){t=ir(t);var e=rr(t,Xi)||null,n=rr(t,Ji)||null,r=rr(t,eo)||null;if(r=r&&ro[r]||null,!e||!n||!r)throw new x("argument-error",Xi+", "+Ji+"and "+eo+" are required in a valid action code URL.");Ti(this,{apiKey:e,operation:r,code:n,continueUrl:rr(t,Zi)||null,languageCode:rr(t,to)||null,tenantId:rr(t,no)||null})}var Xi="apiKey",Ji="oobCode",Zi="continueUrl",to="languageCode",eo="mode",no="tenantId",ro={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ji,signIn:Fi,verifyAndChangeEmail:Ui,verifyEmail:"VERIFY_EMAIL"};function io(t){try{return new Qi(t)}catch(e){return null}}function oo(t){var e=t[lo];if("undefined"===typeof e)throw new x("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new x("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ao];if(n&&"object"===typeof n){e=n[po];var r=n[fo];if(n=n[ho],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new x("argument-error",fo+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new x("argument-error",ho+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new x("argument-error",po+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new x("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new x("argument-error",ao+" property must be a non null object when specified.");if(this.f=null,(e=t[co])&&"object"===typeof e){if(e=e[vo],"string"===typeof e&&e.length)this.f=e;else if("undefined"!==typeof e)throw new x("argument-error",vo+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new x("argument-error",co+" property must be a non null object when specified.");if(e=t[uo],"undefined"!==typeof e&&"boolean"!==typeof e)throw new x("argument-error",uo+" property must be a boolean when specified.");if(this.c=!!e,t=t[so],"undefined"!==typeof t&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new x("argument-error",so+" property must be a non empty string when specified.");this.i=t||null}var ao="android",so="dynamicLinkDomain",uo="handleCodeInApp",co="iOS",lo="url",fo="installApp",ho="minimumVersion",po="packageName",vo="bundleId";function go(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}function mo(t){return Q(t,(function(t){return t=t.toString(16),1<t.length?t:"0"+t})).join("")}var yo=null;function _o(t){var e=[];return bo(t,(function(t){e.push(t)})),e}function bo(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=yo[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}wo();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}function wo(){if(!yo){yo={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===yo[o]&&(yo[o]=i)}}}function Eo(t){var e=To(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Io(t){try{return new Eo(t)}catch(e){return null}}function To(t){if(!t)return null;if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{var r=_o(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=r[e++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;t[n++]=String.fromCharCode(55296+(u>>10)),t[n++]=String.fromCharCode(56320+(1023&u))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(c){}return null}Eo.prototype.T=function(){return this.f},Eo.prototype.l=function(){return this.c},Eo.prototype.toString=function(){return this.h};var ko="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Co=["client_id","response_type","scope","redirect_uri","state"],So={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Co},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Co},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Co},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:ko},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ao(t){for(var e in So)if(So[e].fa==t)return So[e];return null}function xo(t){var e={};e["facebook.com"]=Do,e["google.com"]=Mo,e["github.com"]=Lo,e["twitter.com"]=jo;var n=t&&t[Oo];try{if(n)return e[n]?new e[n](t):new Po(t);if("undefined"!==typeof t[No])return new Ro(t)}catch(r){}return null}var No="idToken",Oo="providerId";function Ro(t){var e=t[Oo];if(!e&&t[No]){var n=Io(t[No]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Ii(this,"providerId",e),Ii(this,"isNewUser",n)}function Po(t){Ro.call(this,t),t=ui(t.rawUserInfo||"{}"),Ii(this,"profile",Ai(t||{}))}function Do(t){if(Po.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Lo(t){if(Po.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Ii(this,"username",this.profile&&this.profile.login||null)}function Mo(t){if(Po.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function jo(t){if(Po.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Ii(this,"username",t.screenName||null)}function Fo(t){var e=ir(t),n=rr(e,"link"),r=rr(ir(n),"link");return e=rr(e,"deep_link_id"),rr(ir(e),"link")||e||r||n||t}function Uo(t,e){if(!t&&!e)throw new x("internal-error","Internal assert: no raw session string available");if(t&&e)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?qo:Vo}S(Po,Ro),S(Do,Po),S(Lo,Po),S(Mo,Po),S(jo,Po);var qo="enroll",Vo="signin";function Bo(){}function Ko(t,e){return t.then((function(t){if(t[Ms]){var n=Io(t[Ms]);if(!n||e!=n.i)throw new x("user-mismatch");return t}throw new x("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==R+"user-not-found"?new x("user-mismatch"):t}))}function zo(t,e){if(!e)throw new x("internal-error","failed to construct a credential");this.a=e,Ii(this,"providerId",t),Ii(this,"signInMethod",t)}function Ho(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Wo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new zo(t.providerId,t.pendingToken)}catch(e){}return null}function Go(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Ii(this,"idToken",e.idToken),e.accessToken&&Ii(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Ii(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new x("internal-error","failed to construct a credential");Ii(this,"accessToken",e.oauthToken),Ii(this,"secret",e.oauthTokenSecret)}Ii(this,"providerId",t),Ii(this,"signInMethod",n)}function $o(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:gr(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function Yo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Go(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Qo(t,e){this.Qc=e||[],Ti(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Ao(t)||{}).Ja||null,this.pb=null}function Xo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');Qo.call(this,t,[])}function Jo(t){Qo.call(this,t,Co),this.a=[]}function Zo(){Jo.call(this,"facebook.com")}function ta(t){if(!t)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Zo).credential({accessToken:e})}function ea(){Jo.call(this,"github.com")}function na(t){if(!t)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new ea).credential({accessToken:e})}function ra(){Jo.call(this,"google.com"),this.Ca("profile")}function ia(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new ra).credential({idToken:n,accessToken:e})}function oa(){Qo.call(this,"twitter.com",ko)}function aa(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Go("twitter.com",n,"twitter.com")}function sa(t,e,n){this.a=t,this.f=e,Ii(this,"providerId","password"),Ii(this,"signInMethod",n===ca.EMAIL_LINK_SIGN_IN_METHOD?ca.EMAIL_LINK_SIGN_IN_METHOD:ca.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ua(t){return t&&t.email&&t.password?new sa(t.email,t.password,t.signInMethod):null}function ca(){Ti(this,{providerId:"password",isOAuthProvider:!1})}function la(t,e){if(e=fa(e),!e)throw new x("argument-error","Invalid email link!");return new sa(t,e.code,ca.EMAIL_LINK_SIGN_IN_METHOD)}function fa(t){return t=Fo(t),(t=io(t))&&t.operation===Fi?t:null}function ha(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new x("internal-error");this.a=t,Ii(this,"providerId","phone"),this.fa="phone",Ii(this,"signInMethod","phone")}function pa(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new ha(e)}return null}function da(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function va(t){try{this.a=t||r["default"].auth()}catch(e){throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Ti(this,{providerId:"phone",isOAuthProvider:!1})}function ga(t,e){if(!t)throw new x("missing-verification-id");if(!e)throw new x("missing-verification-code");return new ha({fb:t,eb:e})}function ma(t){if(t.temporaryProof&&t.phoneNumber)return new ha({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return ia(o,n);case"facebook.com":return ta(n);case"github.com":return na(n);case"twitter.com":return aa(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new zo(e,a):new Go(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Jo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function ya(t){if(!t.isOAuthProvider)throw new x("invalid-oauth-provider")}function _a(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new x("invalid-auth-event");if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}function ba(t){return t=t||{},t.type?new _a(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&N(t.error),t.postBody,t.tenantId):null}function wa(){this.b=null,this.a=[]}Uo.prototype.Ha=function(){return this.a?qe(this.a):qe(this.b)},Uo.prototype.w=function(){return this.type==qo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},Bo.prototype.ka=function(){},Bo.prototype.b=function(){},Bo.prototype.c=function(){},Bo.prototype.w=function(){},zo.prototype.ka=function(t){return hu(t,Ho(this))},zo.prototype.b=function(t,e){var n=Ho(this);return n.idToken=e,pu(t,n)},zo.prototype.c=function(t,e){return Ko(du(t,Ho(this)),e)},zo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Go.prototype.ka=function(t){return hu(t,$o(this))},Go.prototype.b=function(t,e){var n=$o(this);return n.idToken=e,pu(t,n)},Go.prototype.c=function(t,e){var n=$o(this);return Ko(du(t,n),e)},Go.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Qo.prototype.Ka=function(t){return this.Jb=bt(t),this},S(Xo,Qo),S(Jo,Qo),Jo.prototype.Ca=function(t){return Z(this.a,t)||this.a.push(t),this},Jo.prototype.Rb=function(){return rt(this.a)},Jo.prototype.credential=function(t,e){var n;if(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null},!n.idToken&&!n.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new Go(this.providerId,n,this.providerId)},S(Zo,Jo),Ii(Zo,"PROVIDER_ID","facebook.com"),Ii(Zo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(ea,Jo),Ii(ea,"PROVIDER_ID","github.com"),Ii(ea,"GITHUB_SIGN_IN_METHOD","github.com"),S(ra,Jo),Ii(ra,"PROVIDER_ID","google.com"),Ii(ra,"GOOGLE_SIGN_IN_METHOD","google.com"),S(oa,Qo),Ii(oa,"PROVIDER_ID","twitter.com"),Ii(oa,"TWITTER_SIGN_IN_METHOD","twitter.com"),sa.prototype.ka=function(t){return this.signInMethod==ca.EMAIL_LINK_SIGN_IN_METHOD?Yu(t,Eu,{email:this.a,oobCode:this.f}):Yu(t,zu,{email:this.a,password:this.f})},sa.prototype.b=function(t,e){return this.signInMethod==ca.EMAIL_LINK_SIGN_IN_METHOD?Yu(t,Iu,{idToken:e,email:this.a,oobCode:this.f}):Yu(t,Mu,{idToken:e,email:this.a,password:this.f})},sa.prototype.c=function(t,e){return Ko(this.ka(t),e)},sa.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Ti(ca,{PROVIDER_ID:"password"}),Ti(ca,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Ti(ca,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),ha.prototype.ka=function(t){return t.gb(da(this))},ha.prototype.b=function(t,e){var n=da(this);return n.idToken=e,Yu(t,Wu,n)},ha.prototype.c=function(t,e){var n=da(this);return n.operation="REAUTH",t=Yu(t,Gu,n),Ko(t,e)},ha.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},va.prototype.gb=function(t,e){var n=this.a.a;return qe(e.verify()).then((function(r){if("string"!==typeof r)throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i,o=y(t)?t.session:null,a=y(t)?t.phoneNumber:t;return i=o&&o.type==qo?o.Ha().then((function(t){return ou(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==Vo?o.Ha().then((function(e){return su(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):iu(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Ti(va,{PROVIDER_ID:"phone"}),Ti(va,{PHONE_SIGN_IN_METHOD:"phone"}),_a.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},_a.prototype.T=function(){return this.h},_a.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ea,Ia=null;function Ta(t){var e=Ia;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},t=ti("universalLinks.subscribe",l),"function"===typeof t&&t(null,e.b))}function ka(t){var e="unauthorized-domain",n=void 0,r=ir(t);t=r.a,r=r.c,"chrome-extension"==r?n=Xt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Xt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",x.call(this,e,n)}function Ca(t,e,n){x.call(this,t,n),t=e||{},t.Kb&&Ii(this,"email",t.Kb),t.ea&&Ii(this,"phoneNumber",t.ea),t.credential&&Ii(this,"credential",t.credential),t.$b&&Ii(this,"tenantId",t.$b)}function Sa(t){if(t.code){var e=t.code||"";0==e.indexOf(R)&&(e=e.substring(R.length));var n={credential:ma(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new x(e,t.message||void 0);return new Ca(e,n,t.message)}return null}function Aa(){}function xa(t){return t.c||(t.c=t.b())}function Na(){}function Oa(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Ra(){}function Pa(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=T(this.qc,this),this.a.onerror=T(this.Tb,this),this.a.onprogress=T(this.rc,this),this.a.ontimeout=T(this.vc,this)}function Da(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function La(t,e,n){this.reset(t,e,n,void 0,void 0)}S(ka,x),S(Ca,x),Ca.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&Et(t,e),t},Ca.prototype.toJSON=function(){return this.w()},Aa.prototype.c=null,S(Na,Aa),Na.prototype.a=function(){var t=Oa(this);return t?new ActiveXObject(t):new XMLHttpRequest},Na.prototype.b=function(){var t={};return Oa(this)&&(t[0]=!0,t[1]=!0),t},Ea=new Na,S(Ra,Aa),Ra.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Pa;throw Error("Unsupported browser")},Ra.prototype.b=function(){return{}},t=Pa.prototype,t.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Da(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",Da(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,Da(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},La.prototype.a=null;function Ma(t){this.f=t,this.b=this.c=this.a=null}function ja(t,e){this.name=t,this.value=e}La.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||C(),delete this.a},ja.prototype.toString=function(){return this.name};var Fa=new ja("SEVERE",1e3),Ua=new ja("WARNING",900),qa=new ja("CONFIG",700),Va=new ja("FINE",500);function Ba(t){return t.c?t.c:t.a?Ba(t.a):(U("Root logger has no level set."),null)}Ma.prototype.log=function(t,e,n){if(t.value>=Ba(this).value)for(m(e)&&(e=e()),t=new La(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Ka={},za=null;function Ha(t){var e;if(za||(za=new Ma(""),Ka[""]=za,za.c=qa),!(e=Ka[t])){e=new Ma(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=Ha(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,Ka[t]=e}return e}function Wa(t,e){t&&t.log(Va,e,void 0)}function Ga(t){this.f=t}function $a(t){Fn.call(this),this.u=t,this.h=void 0,this.readyState=Ya,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=Ha("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(Ga,Aa),Ga.prototype.a=function(){return new $a(this.f)},Ga.prototype.b=function(t){return function(){return t}}({}),S($a,Fn);var Ya=0;function Qa(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function Xa(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Ja(t)}function Ja(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Za(t){Fn.call(this),this.headers=new Gn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=ts,this.u=this.S=!1}t=$a.prototype,t.open=function(t,e){if(this.readyState!=Ya)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,Ja(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Xa(this)),this.readyState=Ya},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Ja(this)),this.a&&(this.readyState=3,Ja(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof l.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,Qa(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?Xa(this):Ja(this),3==this.readyState&&Qa(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,Xa(this))},t.sc=function(t){this.a&&(this.response=t,Xa(this))},t.Va=function(t){var e=this.i;e&&e.log(Ua,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&Xa(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(Ua,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(Ua,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty($a.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(Za,Fn);var ts="";Za.prototype.b=Ha("goog.net.XhrIo");var es=/^https?$/i,ns=["POST","PUT"];function rs(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ea.a(),t.C=t.D?xa(t.D):xa(Ea),t.a.onreadystatechange=T(t.Wb,t);try{Wa(t.b,ds(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return Wa(t.b,ds(t,"Error opening Xhr: "+a.message)),void as(t,a)}e=r||"";var o=new Gn(t.headers);i&&Wn(i,(function(t,e){o.set(e,t)})),i=J(o.Y()),r=l.FormData&&e instanceof l.FormData,!Z(ns,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{ls(t),0<t.g&&(t.u=is(t.a),Wa(t.b,ds(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=T(t.Ma,t)):t.s=Bn(t.Ma,t.g,t)),Wa(t.b,ds(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){Wa(t.b,ds(t,"Send error: "+a.message)),as(t,a)}}function is(t){return re&&de(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function os(t){return"content-type"==t.toLowerCase()}function as(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ss(t),cs(t)}function ss(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function us(t){if(t.c&&"undefined"!=typeof c)if(t.C[1]&&4==fs(t)&&2==hs(t))Wa(t.b,ds(t,"Local request error detected and ignored"));else if(t.i&&4==fs(t))Bn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==fs(t)){Wa(t.b,ds(t,"Request complete")),t.c=!1;try{var e,n=hs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Qn)[1]||null;if(!o&&l.self&&l.self.location){var a=l.self.location.protocol;o=a.substr(0,a.length-1)}i=!es.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var s=2<fs(t)?t.a.statusText:""}catch(u){Wa(t.b,"Can not get status: "+u.message),s=""}t.h=s+" ["+hs(t)+"]",ss(t)}}finally{cs(t)}}}function cs(t,e){if(t.a){ls(t);var n=t.a,r=t.C[0]?d:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Fa,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ls(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(l.clearTimeout(t.s),t.s=null)}function fs(t){return t.a?t.a.readyState:0}function hs(t){try{return 2<fs(t)?t.a.status:-1}catch(e){return-1}}function ps(t){try{return t.a?t.a.responseText:""}catch(e){return Wa(t.b,"Can not get responseText: "+e.message),""}}function ds(t,e){return e+" ["+t.P+" "+t.l+" "+hs(t)+"]"}function vs(t){var e=As;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function gs(t,e,n){t.a=!0,t.c=n,t.f=!e,ws(t)}function ms(t){if(t.a){if(!t.v)throw new Es(t);t.v=!1}}function ys(t,e){_s(t,null,e,void 0)}function _s(t,e,n,r){t.g.push([e,n,r]),t.a&&ws(t)}function bs(t){return X(t.g,(function(t){return m(t[1])}))}function ws(t){if(t.h&&t.a&&bs(t)){var e=t.h,n=ks[e];n&&(l.clearTimeout(n.a),delete ks[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(M(e)||"function"===typeof l.Promise&&e instanceof l.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,bs(t)||(n=!0)}}t.c=e,r&&(s=T(t.m,t,!0),r=T(t.m,t,!1),e instanceof vs?(_s(e,s,r),e.C=!0):e.then(s,r)),n&&(e=new Ts(e),ks[e.a]=e,t.h=e.a)}function Es(){j.call(this)}function Is(){j.call(this)}function Ts(t){this.a=l.setTimeout(T(this.c,this),0),this.b=t}t=Za.prototype,t.Ma=function(){"undefined"!=typeof c&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Wa(this.b,ds(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Wa(this.b,ds(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),cs(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),cs(this,!0)),Za.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?us(this):this.Jc())},t.Jc=function(){us(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ts:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Fa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Wa(this.b,"Can not get response: "+e.message),null}},vs.prototype.cancel=function(t){if(this.a)this.c instanceof vs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Is(this),ms(this),gs(this,!1,t))}},vs.prototype.m=function(t,e){this.i=!1,gs(this,t,e)},vs.prototype.then=function(t,e,n){var r,i,o=new Pe((function(t,e){r=t,i=e}));return _s(this,r,(function(t){t instanceof Is?o.cancel():i(t)})),o.then(t,e,n)},vs.prototype.$goog_Thenable=!0,S(Es,j),Es.prototype.message="Deferred has already fired",Es.prototype.name="AlreadyCalledError",S(Is,j),Is.prototype.message="Deferred was canceled",Is.prototype.name="CanceledError",Ts.prototype.c=function(){throw delete ks[this.a],this.b};var ks={};function Cs(t){var e={},n=e.document||document,r=Ot(t).toString(),i=ke(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new vs(o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout((function(){xs(i,!0);var t=new Rs(Os,"Timeout reached for loading script "+r);ms(a),gs(a,!1,t)}),u),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(xs(i,e.xd||!1,s),ms(a),gs(a,!0,null))},i.onerror=function(){xs(i,!0,s);var t=new Rs(Ns,"Error while loading script "+r);ms(a),gs(a,!1,t)},o=e.attributes||{},Et(o,{type:"text/javascript",charset:"UTF-8"}),_e(i,o),Yt(i,t),Ss(n).appendChild(i),a}function Ss(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function As(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&xs(t,!0,this.Ma)}}function xs(t,e,n){null!=n&&l.clearTimeout(n),t.onload=d,t.onerror=d,t.onreadystatechange=d,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ns=0,Os=1;function Rs(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),j.call(this,n),this.code=t}function Ps(t){this.f=t}function Ds(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||js,this.g=bt(t.secureTokenHeaders||Fs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||Us,this.a=bt(t.firebaseHeaders||qs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Hr(),n=l.XMLHttpRequest||n&&r["default"].INTERNAL.node&&r["default"].INTERNAL.node.XMLHttpRequest,!n&&!zr())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,zr()?this.f=new Ga(self):Wr()?this.f=new Ps(n):this.f=new Ra,this.b=null}S(Rs,j),S(Ps,Aa),Ps.prototype.a=function(){return new this.f},Ps.prototype.b=function(){return{}};var Ls,Ms="idToken",js=new hi(3e4,6e4),Fs={"Content-Type":"application/x-www-form-urlencoded"},Us=new hi(3e4,6e4),qs={"Content-Type":"application/json"};function Vs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Bs(t,e){e&&(t.l=Ks("https://securetoken.googleapis.com/v1/token",e),t.h=Ks("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=Ks("https://identitytoolkit.googleapis.com/v2/",e))}function Ks(t,e){return t=ir(t),e=ir(e.url),t.f=t.a+t.f,Zn(t,e.c),t.a=e.a,tr(t,e.g),t.toString()}function zs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Hs(t,e,n,r,i,o,a){Pr()||zr()?t=T(t.u,t):(Ls||(Ls=new Pe((function(t,e){$s(t,e)}))),t=T(t.s,t)),t(e,n,r,i,o,a)}Ds.prototype.T=function(){return this.b},Ds.prototype.u=function(t,e,n,r,i,o){if(zr()&&("undefined"===typeof l.fetch||"undefined"===typeof l.Headers||"undefined"===typeof l.Request))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Za(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Un(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(ps(this))||null}catch(n){t=null}e&&e(t)})),qn(a,"ready",(function(){s&&clearTimeout(s),un(this)})),qn(a,"timeout",(function(){s&&clearTimeout(s),un(this),e&&e(null)})),rs(a,t,n,r,i)};var Ws=new Tt(At,"https://apis.google.com/js/client.js?onload=%{onload}"),Gs="__fcb"+Math.floor(1e6*Math.random()).toString();function $s(t,e){if(((window.gapi||{}).client||{}).request)t();else{l[Gs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var n=Rt(Ws,{onload:Gs});ys(Cs(n),(function(){e(Error("CORS_UNSUPPORTED"))}))}}function Ys(t,e){return new Pe((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Hs(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Xu(t)):t.access_token&&t.refresh_token?n(t):r(new x("internal-error")):r(new x("network-request-failed"))}),"POST",gr(e).toString(),t.g,t.m.get()):r(new x("internal-error"))}))}function Qs(t,e,n,r,i,o,a){var s=ir(e+n);nr(s,"key",t.c),a&&nr(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&nr(s,c,i[c]);return new Pe((function(e,n){Hs(t,s.toString(),(function(t){t?t.error?n(Xu(t,o||{})):e(t):n(new x("network-request-failed"))}),r,u?void 0:Ir(si(i)),t.a,t.v.get())}))}function Xs(t){if(t=t.email,"string"!==typeof t||!Ur.test(t))throw new x("invalid-email")}function Js(t){"email"in t&&Xs(t)}function Zs(t,e){return Yu(t,_u,{identifier:e,continueUri:ri()?Nr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}function tu(t){return Yu(t,Ou,{}).then((function(t){return t.authorizedDomains||[]}))}function eu(t){if(!t[Ms]){if(t.mfaPendingCredential)throw new x("multi-factor-auth-required",null,bt(t));throw new x("internal-error")}}function nu(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new x("internal-error")}else{if(!t.sessionInfo)throw new x("missing-verification-id");if(!t.code)throw new x("missing-verification-code")}}Ds.prototype.s=function(t,e,n,r,i){var o=this;Ls.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Ds.prototype.Ab=function(){return Yu(this,ju,{})},Ds.prototype.Cb=function(t,e){return Yu(this,Lu,{idToken:t,email:e})},Ds.prototype.Db=function(t,e){return Yu(this,Mu,{idToken:t,password:e})};var ru={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function iu(t,e){return Yu(t,Du,e)}function ou(t,e){return Yu(t,Fu,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}function au(t){if(!t.phoneVerificationInfo)throw new x("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new x("missing-verification-code")}function su(t,e){return Yu(t,Uu,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}function uu(t,e,n){return Yu(t,wu,{idToken:e,deleteProvider:n})}function cu(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new x("internal-error")}function lu(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(t=new dr(t.postBody),yr(t,"nonce")&&(e.nonce=t.get("nonce")))),e}function fu(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Sa(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Sa(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Sa(t)):t.errorMessage&&(e=Qu(t.errorMessage)),e)throw e;eu(t)}function hu(t,e){return e.returnIdpCredential=!0,Yu(t,qu,e)}function pu(t,e){return e.returnIdpCredential=!0,Yu(t,Bu,e)}function du(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Yu(t,Vu,e)}function vu(t){if(!t.oobCode)throw new x("invalid-action-code")}t=Ds.prototype,t.Eb=function(t,e){var n={idToken:t},r=[];return yt(ru,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Yu(this,Lu,n)},t.wb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},Et(t,e),Yu(this,Nu,t)},t.xb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},Et(t,e),Yu(this,Su,t)},t.vb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},Et(t,e),Yu(this,Au,t)},t.Fb=function(t,e,n){return t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},Et(t,n),Yu(this,xu,t)},t.gb=function(t){return Yu(this,Hu,t)},t.ob=function(t,e){return Yu(this,Pu,{oobCode:t,newPassword:e})},t.Sa=function(t){return Yu(this,mu,{oobCode:t})},t.kb=function(t){return Yu(this,gu,{oobCode:t})};var gu={endpoint:"setAccountInfo",A:vu,Z:"email",B:!0},mu={endpoint:"resetPassword",A:vu,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new x("internal-error")},B:!0},yu={endpoint:"signupNewUser",A:function(t){if(Xs(t),!t.password)throw new x("weak-password")},G:eu,V:!0,B:!0},_u={endpoint:"createAuthUri",B:!0},bu={endpoint:"deleteAccount",O:["idToken"]},wu={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new x("internal-error")}},Eu={endpoint:"emailLinkSignin",O:["email","oobCode"],A:Xs,G:eu,V:!0,B:!0},Iu={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:Xs,G:eu,V:!0},Tu={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:au,G:eu,B:!0,Na:!0},ku={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:au,G:eu,B:!0,Na:!0},Cu={endpoint:"getAccountInfo"},Su={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new x("internal-error");Xs(t)},Z:"email",B:!0},Au={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new x("internal-error")},Z:"email",B:!0},xu={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new x("internal-error")},Z:"email",B:!0},Nu={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new x("internal-error");Xs(t)},Z:"email",B:!0},Ou={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ru={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new x("internal-error")}},Pu={endpoint:"resetPassword",A:vu,Z:"email",B:!0},Du={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Lu={endpoint:"setAccountInfo",O:["idToken"],A:Js,V:!0},Mu={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(Js(t),!t.password)throw new x("weak-password")},G:eu,V:!0},ju={endpoint:"signupNewUser",G:eu,V:!0,B:!0},Fu={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new x("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},Uu={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},qu={endpoint:"verifyAssertion",A:cu,Za:lu,G:fu,V:!0,B:!0},Vu={endpoint:"verifyAssertion",A:cu,Za:lu,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new x("user-not-found");if(t.errorMessage)throw Qu(t.errorMessage);eu(t)},V:!0,B:!0},Bu={endpoint:"verifyAssertion",A:function(t){if(cu(t),!t.idToken)throw new x("internal-error")},Za:lu,G:fu,V:!0},Ku={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new x("invalid-custom-token")},G:eu,V:!0,B:!0},zu={endpoint:"verifyPassword",A:function(t){if(Xs(t),!t.password)throw new x("wrong-password")},G:eu,V:!0,B:!0},Hu={endpoint:"verifyPhoneNumber",A:nu,G:eu,B:!0},Wu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new x("internal-error");nu(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Sa(t);eu(t)}},Gu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:nu,G:eu,B:!0},$u={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[Ms]^!!t.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function Yu(t,e,n){if(!Si(n,e.O))return Ve(new x("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return qe(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),Qs(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new x("internal-error");return r[e.Z]}))}function Qu(t){return Xu({error:{errors:[{message:t}],code:400,message:t}})}function Xu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new x(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},Et(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new x(r[i],e);return!e&&t&&(e=ai(t)),new x("internal-error",e)}function Ju(t){this.b=t,this.a=null,this.sb=Zu(this)}function Zu(t){return ac().then((function(){return new Pe((function(e,n){ti("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ic.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}function tc(t,e){return t.sb.then((function(){return new Pe((function(n){t.a.send(e.type,e,n,ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}function ec(t,e){t.sb.then((function(){t.a.register("authEvent",e,ti("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}var nc=new Tt(At,"https://apis.google.com/js/api.js?onload=%{onload}"),rc=new hi(3e4,6e4),ic=new hi(5e3,15e3),oc=null;function ac(){return oc||(oc=new Pe((function(t,e){function n(){fi(),ti("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){fi(),e(Error("Network Error"))},timeout:rc.get()})}if(ti("gapi.iframes.Iframe"))t();else if(ti("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();l[r]=function(){ti("gapi.load")?n():e(Error("Network Error"))},r=Rt(nc,{onload:r}),qe(Cs(r)).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw oc=null,t})))}function sc(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?(t=ir(this.g.url),t=or(t.c,t.a,t.g,"/emulator/auth/iframe")):t=or("https",this.l,null,"/__/auth/iframe"),this.a=t,nr(this.a,"apiKey",this.h),nr(this.a,"appName",this.i),this.b=null,this.c=[]}function uc(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function cc(t){try{return r["default"].app(t).auth().Ga()}catch(e){return[]}}function lc(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function fc(t){var e=Nr();return tu(t).then((function(t){t:{var n=ir(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=ir(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Fr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new ka(Nr())}))}function hc(t){return t.m||(t.m=qr().then((function(){if(!t.u){var e=t.c,n=t.i,r=cc(t.b),i=new sc(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=rt(r||[]),t.u=i.toString()}t.v=new Ju(t.u),vc(t)}))),t.m}function pc(t){return t.l||(t.C=t.c?Jr(t.c,cc(t.b)):null,t.l=new Ds(t.g,L(t.i),t.C),t.f&&Bs(t.l,t.f)),t.l}function dc(t,e,n,r,i,o,a,s,u,c,l,f){return t=new uc(t,e,n,r,i,f),t.l=o,t.g=a,t.i=s,t.b=bt(u||null),t.f=c,t.zb(l).toString()}function vc(t){if(!t.v)throw Error("IfcHandler must be initialized!");ec(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=ba(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return n={},n.status=r?"ACK":"ERROR",qe(n)}return n.status="ERROR",qe(n)}))}function gc(t){var e={type:"webStorageSupport"};return hc(t).then((function(){return tc(t.v,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))}function mc(t){if(this.a=t||r["default"].INTERNAL.reactNative&&r["default"].INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function yc(t){this.b=t,this.a={},this.f=T(this.c,this)}sc.prototype.toString=function(){return this.f?nr(this.a,"v",this.f):mr(this.a.b,"v"),this.b?nr(this.a,"eid",this.b):mr(this.a.b,"eid"),this.c.length?nr(this.a,"fw",this.c.join(",")):mr(this.a.b,"fw"),this.a.toString()},uc.prototype.zb=function(t){return this.h=t,this},uc.prototype.toString=function(){if(this.v){var t=ir(this.v.url);t=or(t.c,t.a,t.g,"/emulator/auth/handler")}else t=or("https",this.u,null,"/__/auth/handler");if(nr(t,"apiKey",this.s),nr(t,"appName",this.c),nr(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r["default"].app(this.c).auth().la()}catch(u){n=null}for(var i in e.pb=n,nr(t,"providerId",this.a.providerId),n=this.a,e=si(n.Jb),e)e[i]=e[i].toString();i=n.Qc,e=bt(e);for(var o=0;o<i.length;o++){var a=i[o];a in e&&delete e[a]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),_t(e)||nr(t,"customParameters",ai(e))}if("function"===typeof this.a.Rb&&(n=this.a.Rb(),n.length&&nr(t,"scopes",n.join(","))),this.l?nr(t,"redirectUrl",this.l):mr(t.b,"redirectUrl"),this.g?nr(t,"eventId",this.g):mr(t.b,"eventId"),this.i?nr(t,"v",this.i):mr(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!rr(t,s)&&nr(t,s,this.b[s]);return this.h?nr(t,"tid",this.h):mr(t.b,"tid"),this.f?nr(t,"eid",this.f):mr(t.b,"eid"),s=cc(this.c),s.length&&nr(t,"fw",s.join(",")),t.toString()},t=lc.prototype,t.Pb=function(t,e,n){var r=new x("popup-closed-by-user"),i=new x("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){gc(o).then((function(n){n||(t&&Lr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return jr(t)})).then((function(){if(!a)return Kn(n).then((function(){e(r)}))}))},t.Yb=function(){var t=Zr();return!oi(t)&&!li(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return Ve(new x("popup-blocked"));if(a&&!oi())return this.ma().o((function(e){Lr(t),i(e)})),r(),qe();this.a||(this.a=fc(pc(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw Lr(t),i(e),e}));return r(),e})).then((function(){if(ya(n),!a){var r=dc(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f);Or(r,t)}})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=fc(pc(this)));var i=this;return this.a.then((function(){ya(e);var o=dc(i.s,i.g,i.b,t,e,Nr(),n,i.c,void 0,i.i,r,i.f);Or(o)})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return hc(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new x("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){et(this.h,(function(e){return e==t}))},t=mc.prototype,t.get=function(t){return qe(this.a.getItem(t)).then((function(t){return t&&ui(t)}))},t.set=function(t,e){return qe(this.a.setItem(t,ai(e)))},t.U=function(t){return qe(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var _c,bc=[];function wc(){var t=zr()?self:null;if(G(bc,(function(n){n.b==t&&(e=n)})),!e){var e=new yc(t);bc.push(e)}return e}function Ec(t,e,n){_t(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Ic(t){this.a=t}function Tc(t){this.c=t,this.b=!1,this.a=[]}function kc(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ve(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Pe((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},t.a.push(c),f.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(e){return Cc(t,c),e})).o((function(e){throw Cc(t,c),e}))}function Cc(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),et(t.a,(function(t){return t==e}))}}function Sc(){if(!Rc())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=l.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;zr()&&self?(this.v=wc(),Ec(this.v,"keyChanged",(function(e,n){return jc(t).then((function(e){return 0<e.length&&G(t.a,(function(t){t(e)})),{keyProcessed:Z(e,n.key)}}))})),Ec(this.v,"ping",(function(){return qe(["keyChanged"])}))):yi().then((function(e){(t.h=e)&&(t.g=new Tc(new Ic(e)),kc(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Z(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Ac(t){return new Pe((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}function xc(t){return new Pe((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?e(r):Ac(t).then((function(){return xc(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Nc(t){return t.i||(t.i=xc(t)),t.i}function Oc(t,e){function n(i,o){Nc(t).then(e).then(i).o((function(e){if(!(3<++r))return Nc(t).then((function(e){return e.close(),t.i=void 0,n(i,o)})).o((function(t){o(t)}));o(e)}))}var r=0;return new Pe(n)}function Rc(){try{return!!l.indexedDB}catch(td){return!1}}function Pc(t){return t.objectStore("firebaseLocalStorage")}function Dc(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Lc(t){return new Pe((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Mc(t,e){return t.g&&t.h&&mi()===t.h?kc(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):qe()}function jc(t){return Nc(t).then((function(t){var e=Pc(Dc(t,!1));return e.getAll?Lc(e.getAll()):new Pe((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e["continue"]()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=Rr(t.c,n),t.c=n}return r}))}function Fc(t){function e(){t.f=setTimeout((function(){t.l=jc(t).then((function(e){0<e.length&&G(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Uc(t),e()}function Uc(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function qc(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=qe().then((function(){if(Rc()){var t=ci(),r="__sak"+t;return _c||(_c=new Sc),n=_c,n.set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){G(e.a,(function(e){e(t)}))})),t}))}function Vc(){this.a={},this.type="inMemory"}function Bc(){if(!zc()){if("Node"==Hr())throw new x("internal-error","The LocalStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Kc()||r["default"].INTERNAL.node.localStorage,this.type="localStorage"}function Kc(){try{var t=l.localStorage,e=ci();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function zc(){var t="Node"==Hr();if(t=Kc()||t&&r["default"].INTERNAL.node&&r["default"].INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function Hc(){this.type="nullStorage"}function Wc(){if(!$c()){if("Node"==Hr())throw new x("internal-error","The SessionStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Gc()||r["default"].INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Gc(){try{var t=l.sessionStorage,e=ci();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function $c(){var t="Node"==Hr();if(t=Gc()||t&&r["default"].INTERNAL.node&&r["default"].INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function Yc(){var t={};t.Browser=Jc,t.Node=Zc,t.ReactNative=tl,t.Worker=el,this.a=t[Hr()]}yc.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];G(r,(function(e){i.push(qe().then((function(){return e(t.origin,t.data.data)})))})),ze(i).then((function(r){var i=[];G(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),G(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Ic.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Tc.prototype.close=function(){for(;0<this.a.length;)Cc(this,this.a[0]);this.b=!0},t=Sc.prototype,t.set=function(t,e){var n=this,r=!1;return Oc(this,(function(e){return e=Pc(Dc(e,!0)),Lc(e.get(t))})).then((function(i){return Oc(n,(function(o){if(o=Pc(Dc(o,!0)),i)return i.value=e,Lc(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Lc(o.add(a))}))})).then((function(){return n.c[t]=e,Mc(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Oc(this,(function(e){return Lc(Pc(Dc(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Oc(this,(function(r){return n=!0,e.b++,Lc(Pc(Dc(r,!0))["delete"](t))})).then((function(){return delete e.c[t],Mc(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&Fc(this),this.a.push(t)},t.ia=function(t){et(this.a,(function(e){return e==t})),0==this.a.length&&Uc(this)},t=qc.prototype,t.get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){et(this.a,(function(e){return e==t}))},t=Vc.prototype,t.get=function(t){return qe(this.a[t])},t.set=function(t,e){return this.a[t]=e,qe()},t.U=function(t){return delete this.a[t],qe()},t.ca=function(){},t.ia=function(){},t=Bc.prototype,t.get=function(t){var e=this;return qe().then((function(){var n=e.a.getItem(t);return ui(n)}))},t.set=function(t,e){var n=this;return qe().then((function(){var r=ai(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return qe().then((function(){e.a.removeItem(t)}))},t.ca=function(t){l.window&&kn(l.window,"storage",t)},t.ia=function(t){l.window&&xn(l.window,"storage",t)},t=Hc.prototype,t.get=function(){return qe(null)},t.set=function(){return qe()},t.U=function(){return qe()},t.ca=function(){},t.ia=function(){},t=Wc.prototype,t.get=function(t){var e=this;return qe().then((function(){var n=e.a.getItem(t);return ui(n)}))},t.set=function(t,e){var n=this;return qe().then((function(){var r=ai(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return qe().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Qc,Xc,Jc={F:Bc,cb:Wc},Zc={F:Bc,cb:Wc},tl={F:mc,cb:Hc},el={F:Bc,cb:Hc},nl={rd:"local",NONE:"none",td:"session"};function rl(t){var e=new x("invalid-persistence-type"),n=new x("unsupported-persistence-type");t:{for(r in nl)if(nl[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Hr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Rc()&&"none"!==t)throw n;break;default:if(!ei()&&"none"!==t)throw n}}function il(){var t=!(li(Zr())||!Kr()),e=oi(),n=ei();this.m=t,this.h=e,this.l=n,this.a={},Qc||(Qc=new Yc),t=Qc;try{this.g=!xr()&&gi()||!l.indexedDB?new t.a.F:new qc(zr()?new Vc:new t.a.F)}catch(r){this.g=new Vc,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Vc}this.v=new Vc,this.f=T(this.Zb,this),this.b={}}function ol(){return Xc||(Xc=new il),Xc}function al(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function sl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ul(t,e,n){var r=sl(e,n),i=al(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=ui(l.localStorage.getItem(r))}catch(s){}if(a&&!o)return l.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&l.localStorage.removeItem(r)}))}function cl(t,e,n){return n=sl(e,n),"local"==e.F&&(t.b[n]=null),al(t,e.F).U(n)}function ll(t){fl(t),t.c=setInterval((function(){for(var e in t.a){var n=l.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new dn({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}function fl(t){t.c&&(clearInterval(t.c),t.c=null)}function hl(t){this.a=t,this.b=ol()}t=il.prototype,t.get=function(t,e){return al(this,t.F).get(sl(t,e))},t.set=function(t,e,n){var r=sl(t,n),i=this,o=al(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=sl(t,e),this.l&&(this.b[t]=l.localStorage.getItem(t)),_t(this.a)&&(al(this,"local").ca(this.f),this.h||(xr()||!gi())&&l.indexedDB||!this.l||ll(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=sl(t,e),this.a[t]&&(et(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),_t(this.a)&&(al(this,"local").ia(this.f),fl(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=l.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?al(this,"local").ia(this.f):fl(this),this.m)if(n=l.localStorage.getItem(e),r=t.a.newValue,r!==n)null!==r?l.localStorage.setItem(e,r):l.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===l.localStorage.getItem(e)||(o.b[e]=l.localStorage.getItem(e),o.nb(e))},re&&ge&&10==ge&&l.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else G(t,T(this.nb,this))},t.nb=function(t){this.a[t]&&G(this.a[t],(function(t){t()}))};var pl,dl={name:"authEvent",F:"local"};function vl(t){return t.b.get(dl,t.a).then((function(t){return ba(t)}))}function gl(){this.a=ol()}function ml(){this.b=-1}function yl(t,e){this.b=_l,this.f=l.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=l.Int32Array?new Int32Array(64):Array(64),void 0===pl&&(pl=l.Int32Array?new Int32Array(Cl):Cl),this.reset()}S(yl,ml);for(var _l=64,bl=_l-1,wl=[],El=0;El<bl;El++)wl[El]=0;var Il=nt(128,wl);function Tl(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],f=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=c&l^~c&f,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|pl[e])|0,a=o+(a+(0|n[e])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+f|0,t.a[7]=t.a[7]+o|0}function kl(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Tl(t),i=0);else{if(!g(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Tl(t),i=0)}}t.c=i,t.g+=n}yl.prototype.reset=function(){this.g=this.c=0,this.a=l.Int32Array?new Int32Array(this.h):rt(this.h)};var Cl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Sl(){yl.call(this,8,Al)}S(Sl,yl);var Al=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function xl(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new gl,this.g=new hl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Nl(t){return new x("invalid-cordova-configuration",t)}function Ol(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function Rl(t){var e=new Sl;kl(e,t),t=[];var n=8*e.g;56>e.c?kl(e,Il,56-e.c):kl(e,Il,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Tl(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return mo(t)}function Pl(t,e,n,r,i){var o=Ol(),a=new _a(e,r,null,o,new x("no-auth-event"),null,i),s=ti("BuildInfo.packageName",l);if("string"!==typeof s)throw new x("invalid-cordova-configuration");var u=ti("BuildInfo.displayName",l),c={};if(Zr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!Zr().toLowerCase().match(/android/))return Ve(new x("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=Rl(o),c.sessionId=o;var f=dc(t.v,t.i,t.l,e,n,null,r,t.m,c,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(dl,a.w(),e)})).then((function(){var e=ti("cordova.plugins.browsertab.isAvailable",l);if("function"!==typeof e)throw new x("invalid-cordova-configuration");var n=null;e((function(e){if(e){if(n=ti("cordova.plugins.browsertab.openUrl",l),"function"!==typeof n)throw new x("invalid-cordova-configuration");n(f)}else{if(n=ti("cordova.InAppBrowser.open",l),"function"!==typeof n)throw new x("invalid-cordova-configuration");e=Zr(),t.a=n(f,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}function Dl(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Ll(t){return t.f||(t.f=t.ma().then((function(){return new Pe((function(e){function n(r){return e(r),t.Ta(n),!1}t.Ea(n),jl(t)}))}))),t.f}function Ml(t){var e=null;return vl(t.g).then((function(n){return e=n,n=t.g,cl(n.b,dl,n.a)})).then((function(){return e}))}function jl(t){function e(e){r=!0,i&&i.cancel(),Ml(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;i=Fo(e.url),-1!=i.indexOf("/__/auth/callback")&&(o=ir(i),o=ui(rr(o,"firebaseError")||null),o=(o="object"===typeof o?N(o):null)?new _a(r.c,r.b,null,null,o,null,r.T()):new _a(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Dl(t,i)}))}var n=new _a("unknown",null,null,null,new x("no-auth-event")),r=!1,i=Kn(500).then((function(){return Ml(t).then((function(){r||Dl(t,n)}))})),o=l.handleOpenURL;l.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(ti("BuildInfo.packageName",l).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Ia||(Ia=new wa),Ta(e)}function Fl(t){this.a=t,this.b=ol()}t=xl.prototype,t.ma=function(){return this.Ia?this.Ia:this.Ia=Vr().then((function(){if("function"!==typeof ti("universalLinks.subscribe",l))throw Nl("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof ti("BuildInfo.packageName",l))throw Nl("cordova-plugin-buildinfo is not installed");if("function"!==typeof ti("cordova.plugins.browsertab.openUrl",l))throw Nl("cordova-plugin-browsertab is not installed");if("function"!==typeof ti("cordova.InAppBrowser.open",l))throw Nl("cordova-plugin-inappbrowser is not installed")}),(function(){throw new x("cordova-not-ready")}))},t.Pb=function(t,e){return e(new x("operation-not-supported-in-this-environment")),qe()},t.Nb=function(){return Ve(new x("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Ve(new x("redirect-operation-pending"));var i=this,o=l.document,a=null,s=null,u=null,c=null;return this.c=qe().then((function(){return ya(e),Ll(i)})).then((function(){return Pl(i,t,e,n,r)})).then((function(){return new Pe((function(t,e){s=function(){var e=ti("cordova.plugins.browsertab.close",l);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),u=function(){a||(a=Kn(2e3).then((function(){e(new x("redirect-cancelled-by-user"))})))},c=function(){pi()&&u()},o.addEventListener("resume",u,!1),Zr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)})).o((function(t){return Ml(i).then((function(){throw t}))}))})).oa((function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Ta(s),i.c=null}))},t.Ea=function(t){this.b.push(t),Ll(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new _a("unknown",null,null,null,new x("no-auth-event")),t(e))}))},t.Ta=function(t){et(this.b,(function(e){return e==t}))};var Ul={name:"pendingRedirect",F:"session"};function ql(t){return t.b.set(Ul,"pending",t.a)}function Vl(t){return cl(t.b,Ul,t.a)}function Bl(t){return t.b.get(Ul,t.a).then((function(t){return"pending"==t}))}function Kl(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=T(this.s,this),this.b=new of,this.C=new pf,this.g=new Fl(nf(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=zl(this.D,this.v,this.m,O,this.J)}function zl(t,e,n,i,o){var a=r["default"].SDK_VERSION||null;return Br()?new xl(t,e,n,a,i,o):new lc(t,e,n,a,i,o)}function Hl(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Wl(t){t.a.Yb()&&Hl(t).o((function(e){var n=new _a("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Jl(e)&&t.s(n)})),t.a.Ub()||af(t.b)}function Gl(t,e){Z(t.h,e)||t.h.push(e),t.f||Bl(t.g).then((function(e){e?Vl(t.g).then((function(){Hl(t).o((function(e){var n=new _a("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Jl(e)&&t.s(n)}))})):Wl(t)})).o((function(){Wl(t)}))}function $l(t,e){et(t.h,(function(t){return t==e}))}Kl.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=zl(this.D,this.v,this.m,null,this.J),this.i={}},Kl.prototype.s=function(t){if(!t)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return af(this.b),e};var Yl=new hi(2e3,1e4),Ql=new hi(3e4,6e4);function Xl(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function Jl(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Zl(t,e,n,r,i){var o;return ql(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(Jl(e))throw new x("operation-not-supported-in-this-environment");return o=e,Vl(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new Pe((function(){})):Vl(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function tf(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Yl.get())}Kl.prototype.ra=function(){return this.b.ra()};var ef={};function nf(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function rf(t,e,n,r){var i=nf(e,n,r);return ef[i]||(ef[i]=new Kl(t,e,n,r)),ef[i]}function of(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function af(t){t.g||(t.g=!0,ff(t,!1,null,null))}function sf(t){t.g&&!t.i&&ff(t,!1,null,null)}function uf(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){ff(t,s,e,null)})).o((function(e){ff(t,s,null,e)}))}function cf(t,e){if(t.b=function(){return Ve(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function lf(t,e){if(t.b=function(){return qe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function ff(t,e,n,r){e?r?cf(t,r):lf(t,n):lf(t,{user:null}),t.f=[],t.c=[]}function hf(t){var e=new x("timeout");t.a&&t.a.cancel(),t.a=Kn(Ql.get()).then((function(){t.b||(t.g=!0,ff(t,!0,null,e))}))}function pf(){}function df(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}function vf(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function gf(t,e){this.a=e,Ii(this,"verificationId",t)}function mf(t,e,n,r){return new va(t).gb(e,n).then((function(t){return new gf(t,r)}))}function yf(t){var e=To(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Ti(this,{token:t,expirationTime:vi(1e3*e.exp),authTime:vi(1e3*e.auth_time),issuedAtTime:vi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function _f(t,e,n){var r=e&&e[wf];if(!r)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=bt(e),this.g=n,this.c=new Uo(null,r),this.b=[];var i=this;G(e[bf]||[],(function(t){(t=Ni(t))&&i.b.push(t)})),Ii(this,"auth",this.a),Ii(this,"session",this.c),Ii(this,"hints",this.b)}of.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},of.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(ff(this,!0,null,t.a),qe()):e.Fa(n,r)?uf(this,t,e):Ve(new x("invalid-auth-event")):(ff(this,!1,null,null),qe())}else Ve(new x("invalid-auth-event"))},of.prototype.ra=function(){var t=this;return new Pe((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),hf(t))}))},pf.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),qe()):e.Fa(n,r)?df(t,e):Ve(new x("invalid-auth-event"))}else Ve(new x("invalid-auth-event"))},gf.prototype.confirm=function(t){return t=ga(this.verificationId,t),this.a(t)};var bf="mfaInfo",wf="mfaPendingCredential";function Ef(t,e,n,r){x.call(this,"multi-factor-auth-required",r,e),this.b=new _f(t,e,n),Ii(this,"resolver",this.b)}function If(t,e,n){if(t&&y(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Ef(e,t.serverResponse,n,t.message)}catch(r){}return null}function Tf(){}function kf(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),Et(n,{phoneVerificationInfo:da(t.a)}),Yu(e,Tu,n)}))}function Cf(t,e,n){return n.Ha().then((function(n){return n={mfaPendingCredential:n},Et(n,{phoneVerificationInfo:da(t.a)}),Yu(e,ku,n)}))}function Sf(t){Ii(this,"factorId",t.fa),this.a=t}function Af(t){if(Sf.call(this,t),this.a.fa!=va.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function xf(t,e){for(var n in pn.call(this,t),e)this[n]=e[n]}function Nf(t,e){this.a=t,this.b=[],this.c=T(this.yc,this),kn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&G(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Pi]=t.uid),t.displayName&&(r[Oi]=t.displayName),t.enrollmentTime&&(r[Ri]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Di]=t.phoneNumber);try{e=new Li(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),Rf(this,n)}function Of(t){var e=[];return G(t.mfaInfo||[],(function(t){(t=Ni(t))&&e.push(t)})),e}function Rf(t,e){t.b=e,Ii(t,"enrolledFactors",e)}function Pf(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Df(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function Lf(t,e){t.stop(),t.b=Kn(Df(t,e)).then((function(){return di()})).then((function(){return t.h()})).then((function(){Lf(t,!0)})).o((function(e){t.i(e)&&Lf(t,!1)}))}function Mf(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function jf(t,e){"undefined"===typeof e&&(t.b?(e=t.b,e=e.a-e.g):e=0),t.c=Date.now()+1e3*e}function Ff(t,e){t.b=Io(e[Ms]||""),t.a=e.refreshToken,e=e.expiresIn,jf(t,"undefined"!==typeof e?Number(e):void 0)}function Uf(t,e){t.b=e.b,t.a=e.a,t.c=e.c}function qf(t,e){return Ys(t.f,e).then((function(e){return t.b=Io(e.access_token),t.a=e.refresh_token,jf(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function Vf(t,e){this.a=t||null,this.b=e||null,Ti(this,{lastSignInTime:vi(e||null),creationTime:vi(t||null)})}function Bf(t){return new Vf(t.a,t.b)}function Kf(t,e,n,r,i,o){Ti(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function zf(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r["default"].SDK_VERSION?Jr(r["default"].SDK_VERSION):null;this.a=new Ds(this.l,L(O),i),(this.u=t.emulatorConfig||null)&&Bs(this.a,this.u),this.h=new Mf(this.a),th(this,e[Ms]),Ff(this.h,e),Ii(this,"refreshToken",this.h.a),ih(this,n||{}),Fn.call(this),this.P=!1,this.s&&ni()&&(this.b=rf(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=Xf(this),this.ba=T(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){Hf(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){$f(o,t.f)},this.ja=null,this.S=new Nf(this,n),Ii(this,"multiFactor",this.S)}function Hf(t,e){t.u=e,Bs(t.a,e),t.b&&(e=t.b,t.b=rf(t.s,t.l,t.m,t.u),t.P&&($l(e,t),Gl(t.b,t)))}function Wf(t,e){t.qa&&xn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&kn(e,"languageCodeChanged",t.Pa)}function Gf(t,e){t.$&&xn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&kn(e,"emulatorConfigChanged",t.Ba)}function $f(t,e){t.aa=e,zs(t.a,r["default"].SDK_VERSION?Jr(r["default"].SDK_VERSION,t.aa):null)}function Yf(t,e){t.ja&&xn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&kn(e,"frameworkChanged",t.Oa)}function Qf(t){try{return r["default"].app(t.m).auth()}catch(e){throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Xf(t){return new Pf((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}function Jf(t){t.J||t.D.b||(t.D.start(),xn(t,"tokenChanged",t.ba),kn(t,"tokenChanged",t.ba))}function Zf(t){xn(t,"tokenChanged",t.ba),t.D.stop()}function th(t,e){t.Aa=e,Ii(t,"_lat",e)}function eh(t,e){et(t.W,(function(t){return t==e}))}function nh(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return ze(e).then((function(){return t}))}function rh(t){t.b&&!t.P&&(t.P=!0,Gl(t.b,t))}function ih(t,e){Ti(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Vf(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function oh(){}function ah(t){return qe().then((function(){if(t.J)throw new x("app-deleted")}))}function sh(t){return Q(t.providerData,(function(t){return t.providerId}))}function uh(t,e){e&&(ch(t,e.providerId),t.providerData.push(e))}function ch(t,e){et(t.providerData,(function(t){return t.providerId==e}))}function lh(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Ii(t,e,n)}function fh(t,e){t!=e&&(Ti(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Ii(t,"metadata",Bf(e.metadata)):Ii(t,"metadata",new Vf),G(e.providerData,(function(e){uh(t,e)})),Uf(t.h,e.h),Ii(t,"refreshToken",t.h.a),Rf(t.S,e.S.b))}function hh(t){return t.I().then((function(e){var n=t.isAnonymous;return dh(t,e).then((function(){return n||lh(t,"isAnonymous",!1),e}))}))}function ph(t,e){e[Ms]&&t.Aa!=e[Ms]&&(Ff(t.h,e),t.dispatchEvent(new xf("tokenChanged")),th(t,e[Ms]),lh(t,"refreshToken",t.h.a))}function dh(t,e){return Yu(t.a,Cu,{idToken:e}).then(T(t.Kc,t))}function vh(t){return(t=t.providerUserInfo)&&t.length?Q(t,(function(t){return new Kf(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}function gh(t,e){return hh(t).then((function(){if(Z(sh(t),e))return nh(t).then((function(){throw new x("provider-already-linked")}))}))}function mh(t,e,n){var r=ma(e);return e=xo(e),ki({user:t,credential:r,additionalUserInfo:e,operationType:n})}function yh(t,e){return ph(t,e),t.reload().then((function(){return t}))}function _h(t,e,n,i,o){if(!ni())return Ve(new x("operation-not-supported-in-this-environment"));if(t.i&&!o)return Ve(t.i);var a=Ao(n.providerId),s=ci(t.uid+":::"),u=null;(!oi()||Kr())&&t.s&&n.isOAuthProvider&&(u=dc(t.s,t.l,t.m,e,n,null,s,r["default"].SDK_VERSION||null,null,null,t.tenantId,t.u));var c=Mr(u,a&&a.va,a&&a.ua);return i=i().then((function(){if(wh(t),!o)return t.I().then((function(){}))})).then((function(){return Xl(t.b,c,e,n,s,!!u,t.tenantId)})).then((function(){return new Pe((function(n,r){t.na(e,null,new x("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=tf(t.b,t,e,c,s)}))})).then((function(t){return c&&Lr(c),t?ki(t):null})).o((function(t){throw c&&Lr(c),t})),Eh(t,i,o)}function bh(t,e,n,r,i){if(!ni())return Ve(new x("operation-not-supported-in-this-environment"));if(t.i&&!i)return Ve(t.i);var o=null,a=ci(t.uid+":::");return r=r().then((function(){if(wh(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,nh(t)})).then((function(e){return t.ha&&(e=t.ha,e=e.b.set(Ah,t.w(),e.a)),e})).then((function(){return Zl(t.b,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return xh(t.ha);throw o})).then((function(){if(o)throw o})),Eh(t,r,i)}function wh(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new x("internal-error");throw new x("auth-domain-config-required")}}function Eh(t,e,n){var r=Ih(t,e,n);return t.N.push(r),r.oa((function(){tt(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=If(e.w(),Qf(t),T(t.jc,t))),n||e}))}function Ih(t,e,n){return t.i&&!n?(e.cancel(),Ve(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new xf("userInvalidated")),t.i=e),e}))}function Th(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[Ms]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new zf(e,n,t);return t.providerData&&G(t.providerData,(function(t){t&&uh(i,ki(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function kh(t,e,n,r){var i=new zf(t,e);return n&&(i.ha=n),r&&$f(i,r),i.reload().then((function(){return i}))}function Ch(t,e,n,r){var i=t.h,o={};return o[Ms]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new zf(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&$f(e,r),fh(e,t),e}function Sh(t){this.a=t,this.b=ol()}_f.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=bt(e.f);return delete n[bf],delete n[wf],Et(n,t),e.g(n)}))},S(Ef,x),Tf.prototype.tb=function(t,e,n){return e.type==qo?kf(this,t,e,n):Cf(this,t,e)},S(Sf,Tf),S(Af,Sf),S(xf,pn),t=Nf.prototype,t.yc=function(t){Rf(this,Of(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new Uo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return ph(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Yu(r,$u,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=Y(e.b,(function(t){return t.uid!=n}));return Rf(e,r),ph(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:Q(this.b,(function(t){return t.w()}))}}},Pf.prototype.start=function(){this.a=this.c,Lf(this,!0)},Pf.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Mf.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},Mf.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ve(new x("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?qf(this,{grant_type:"refresh_token",refresh_token:this.a}):qe(null):qe({accessToken:this.b.toString(),refreshToken:this.a})},Vf.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(zf,Fn),zf.prototype.xa=function(t){this.za=t,Vs(this.a,t)},zf.prototype.la=function(){return this.za},zf.prototype.Ga=function(){return rt(this.aa)},zf.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},Ii(zf.prototype,"providerId","firebase"),t=zf.prototype,t.reload=function(){var t=this;return Eh(this,ah(this).then((function(){return hh(t).then((function(){return nh(t)})).then(oh)})))},t.oc=function(t){return this.I(t).then((function(t){return new yf(t)}))},t.I=function(t){var e=this;return Eh(this,ah(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new x("internal-error");return t.accessToken!=e.Aa&&(th(e,t.accessToken),e.dispatchEvent(new xf("tokenChanged"))),lh(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(t=t.users,!t||!t.length)throw new x("internal-error");t=t[0],ih(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=vh(t),n=0;n<e.length;n++)uh(this,e[n]);lh(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new xf("userReloaded",{hd:t}))},t.Lc=function(t){return wi("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Eh(this,t.c(this.a,this.uid).then((function(t){return ph(e,t),n=mh(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return wi("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Eh(this,gh(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=mh(e,t,"link"),yh(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Eh(this,gh(this,"phone").then((function(){return mf(Qf(n),t,e,T(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Eh(this,qe().then((function(){return mf(Qf(n),t,e,T(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Eh(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return ph(e,t),e.reload()})))},t.ed=function(t){var e=this;return Eh(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return ph(e,t),e.reload()})))},t.Db=function(t){var e=this;return Eh(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return ph(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return ah(this);var e=this;return Eh(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return ph(e,t),lh(e,"displayName",t.displayName||null),lh(e,"photoURL",t.photoUrl||null),G(e.providerData,(function(t){"password"===t.providerId&&(Ii(t,"displayName",e.displayName),Ii(t,"photoURL",e.photoURL))})),nh(e)})).then(oh))},t.cd=function(t){var e=this;return Eh(this,hh(this).then((function(n){return Z(sh(e),t)?uu(e.a,n,[t]).then((function(t){var n={};return G(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),G(sh(e),(function(t){n[t]||ch(e,t)})),n[va.PROVIDER_ID]||Ii(e,"phoneNumber",null),nh(e)})):nh(e).then((function(){throw new x("no-such-provider")}))})))},t.delete=function(){var t=this;return Eh(this,this.I().then((function(e){return Yu(t.a,bu,{idToken:e})})).then((function(){t.dispatchEvent(new xf("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");Wf(t,null),Gf(t,null),Yf(t,null),t.N=[],t.J=!0,Zf(t),Ii(t,"refreshToken",null),t.b&&$l(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?T(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?T(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?T(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?T(this.Mb,this):null},t.Ec=function(t){var e=this;return _h(this,"linkViaPopup",t,(function(){return gh(e,t.providerId).then((function(){return nh(e)}))}),!1)},t.Nc=function(t){return _h(this,"reauthViaPopup",t,(function(){return qe()}),!0)},t.Fc=function(t){var e=this;return bh(this,"linkViaRedirect",t,(function(){return gh(e,t.providerId)}),!1)},t.Oc=function(t){return bh(this,"reauthViaRedirect",t,(function(){return qe()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return n=this.I().then((function(n){return pu(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=mh(i,t,"link"),yh(i,t)})).then((function(){return o})),Eh(this,n)},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null,a=qe().then((function(){return Ko(du(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=mh(i,t,"reauthenticate"),ph(i,t),i.i=null,i.reload()})).then((function(){return o}));return Eh(this,a,!0)},t.vb=function(t){var e=this,n=null;return Eh(this,this.I().then((function(e){return n=e,"undefined"===typeof t||_t(t)?{}:go(new oo(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Eh(this,this.I().then((function(t){return r=t,"undefined"===typeof e||_t(e)?{}:go(new oo(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return t=Ko(qe(t),n.uid).then((function(t){return e=mh(n,t,"reauthenticate"),ph(n,t),n.i=null,n.reload()})).then((function(){return e})),Eh(this,t,!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&Et(t,this.metadata.w()),G(this.providerData,(function(e){t.providerData.push(Ci(e))})),Et(t,this.S.w()),t};var Ah={name:"redirectUser",F:"session"};function xh(t){return cl(t.b,Ah,t.a)}function Nh(t,e){return t.b.get(Ah,t.a).then((function(t){return t&&e&&(t.authDomain=e),Th(t||{})}))}function Oh(t){this.a=t,this.b=ol(),this.c=null,this.f=Ph(this),this.b.addListener(Lh("local"),this.a,T(this.g,this))}function Rh(t,e){var n,r=[];for(n in nl)nl[n]!==e&&r.push(cl(t.b,Lh(nl[n]),t.a));return r.push(cl(t.b,Dh,t.a)),Ke(r)}function Ph(t){var e=Lh("local"),n=Lh("session"),r=Lh("none");return ul(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Dh,t.a).then((function(t){return t?Lh(t):e}))}))}))})).then((function(e){return t.c=e,Rh(t,e.F)})).o((function(){t.c||(t.c=e)}))}Oh.prototype.g=function(){var t=this,e=Lh("local");qh(this,(function(){return qe().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Rh(t,"local").then((function(){t.c=e}))}))}))};var Dh={name:"persistence",F:"session"};function Lh(t){return{name:"authUser",F:t}}function Mh(t){return qh(t,(function(){return t.b.set(Dh,t.c.F,t.a)}))}function jh(t,e){return qh(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function Fh(t){return qh(t,(function(){return cl(t.b,t.c,t.a)}))}function Uh(t,e,n){return qh(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Th(t||{})}))}))}function qh(t,e){return t.f=t.f.then(e,e),t.f}function Vh(t){if(this.l=!1,Ii(this,"settings",new vf),Ii(this,"app",t),!np(this).options||!np(this).options.apiKey)throw new x("invalid-api-key");t=r["default"].SDK_VERSION?Jr(r["default"].SDK_VERSION):null,this.a=new Ds(np(this).options&&np(this).options.apiKey,L(O),t),this.P=[],this.s=[],this.N=[],this.Pa=r["default"].INTERNAL.createSubscribe(T(this.zc,this)),this.W=void 0,this.ib=r["default"].INTERNAL.createSubscribe(T(this.Ac,this)),Xh(this,null),this.i=new Oh(np(this).options.apiKey+":"+np(this).name),this.D=new Sh(np(this).options.apiKey+":"+np(this).name),this.$=sp(this,Zh(this)),this.h=sp(this,tp(this)),this.ba=!1,this.ja=T(this.Zc,this),this.Ba=T(this.da,this),this.qa=T(this.mc,this),this.za=T(this.wc,this),this.Aa=T(this.xc,this),this.b=null,$h(this),this.INTERNAL={},this.INTERNAL["delete"]=T(this.delete,this),this.INTERNAL.logFramework=T(this.Gc,this),this.u=0,Fn.call(this),Wh(this),this.J=[],this.R=null}function Bh(t){pn.call(this,"languageCodeChanged"),this.h=t}function Kh(t){pn.call(this,"emulatorConfigChanged"),this.c=t}function zh(t){pn.call(this,"frameworkChanged"),this.f=t}function Hh(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),l.document&&!t&&qr().then((function(){var t=l.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),l.document.body.appendChild(t)}))}function Wh(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=ir(this.R.url);t=ki({protocol:t.c,host:t.a,port:t.g,options:ki({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}function Gh(t){return t.Oa||Ve(new x("auth-domain-config-required"))}function $h(t){var e=np(t).options.authDomain,n=np(t).options.apiKey;e&&ni()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=rf(e,n,np(t).name,t.R),Gl(t.b,t),rp(t)&&rh(rp(t)),t.m){rh(t.m);var r=t.m;r.xa(t.la()),Wf(r,t),r=t.m,$f(r,t.J),Yf(r,t),r=t.m,Hf(r,t.R),Gf(r,t),t.m=null}return t.b}})))}function Yh(t){if(!ni())return Ve(new x("operation-not-supported-in-this-environment"));var e=Gh(t).then((function(){return t.b.ra()})).then((function(t){return t?ki(t):null}));return sp(t,e)}function Qh(t,e){var n={};return n.apiKey=np(t).options.apiKey,n.authDomain=np(t).options.authDomain,n.appName=np(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return kh(n,e,t.D,t.Ga())})).then((function(e){return rp(t)&&e.uid==rp(t).uid?(fh(rp(t),e),t.da(e)):(Xh(t,e),rh(e),t.da(e))})).then((function(){op(t)}))}function Xh(t,e){rp(t)&&(eh(rp(t),t.Ba),xn(rp(t),"tokenChanged",t.qa),xn(rp(t),"userDeleted",t.za),xn(rp(t),"userInvalidated",t.Aa),Zf(rp(t))),e&&(e.W.push(t.Ba),kn(e,"tokenChanged",t.qa),kn(e,"userDeleted",t.za),kn(e,"userInvalidated",t.Aa),0<t.u&&Jf(e)),Ii(t,"currentUser",e),e&&(e.xa(t.la()),Wf(e,t),$f(e,t.J),Yf(e,t),Hf(e,t.R),Gf(e,t))}function Jh(t){var e=Nh(t.D,np(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),xh(t.D)}));return sp(t,e)}function Zh(t){var e=np(t).options.authDomain,n=Jh(t).then((function(){return Uh(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return jh(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:Fh(t.i)}))):null})).then((function(e){Xh(t,e||null)}));return sp(t,n)}function tp(t){return t.$.then((function(){return Yh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(Lh("local"),e.a,t.ja)}}))}function ep(t,e){var n=null,r=null;return sp(t,e.then((function(e){return n=ma(e),r=xo(e),Qh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=If(e.w(),t,T(t.kc,t))),n||e})).then((function(){return ki({user:rp(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function np(t){return t.app}function rp(t){return t.currentUser}function ip(t){return rp(t)&&rp(t)._lat||null}function op(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](ip(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](ip(t))}}function ap(t,e){t.N.push(e),sp(t,t.h.then((function(){!t.l&&Z(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(ip(t)))})))}function sp(t,e){return t.P.push(e),e.oa((function(){tt(t.P,e)})),e}function up(){}function cp(){this.a={},this.b=1e12}Oh.prototype.yb=function(t){var e=null,n=this;return rl(t),qh(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Rh(n,t)})).then((function(){if(n.c=Lh(t),e)return n.b.set(n.c,e,n.a)})):qe()}))},S(Vh,Fn),S(Bh,pn),S(Kh,pn),S(zh,pn),t=Vh.prototype,t.yb=function(t){return t=this.i.yb(t),sp(this,t)},t.xa=function(t){this.aa===t||this.l||(this.aa=t,Vs(this.a,this.aa),this.dispatchEvent(new Bh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=l.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");e=!!e&&!!e.disableWarnings,Hh(e),this.R={url:t,ec:e},this.settings.jb=!0,Bs(this.a,this.R),this.dispatchEvent(new Kh(this.R))}},t.Gc=function(t){this.J.push(t),zs(this.a,r["default"].SDK_VERSION?Jr(r["default"].SDK_VERSION,this.J):null),this.dispatchEvent(new zh(this.J))},t.Ga=function(){return rt(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:np(this).options.apiKey,authDomain:np(this).options.authDomain,appName:np(this).name,currentUser:rp(this)&&rp(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?T(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return ep(i,hu(i.a,o))}))},t.Xc=function(t){if(!ni())return Ve(new x("operation-not-supported-in-this-environment"));var e=this,n=Ao(t.providerId),i=ci(),o=null;(!oi()||Kr())&&np(this).options.authDomain&&t.isOAuthProvider&&(o=dc(np(this).options.authDomain,np(this).options.apiKey,np(this).name,"signInViaPopup",t,null,i,r["default"].SDK_VERSION||null,null,null,this.T(),this.R));var a=Mr(o,n&&n.va,n&&n.ua);return n=Gh(this).then((function(n){return Xl(n,a,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new Pe((function(t,n){e.na("signInViaPopup",null,new x("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=tf(e.b,e,"signInViaPopup",a,i)}))})).then((function(t){return a&&Lr(a),t?ki(t):null})).o((function(t){throw a&&Lr(a),t})),sp(this,n)},t.Yc=function(t){if(!ni())return Ve(new x("operation-not-supported-in-this-environment"));var e=this,n=Gh(this).then((function(){return Mh(e.i)})).then((function(){return Zl(e.b,"signInViaRedirect",t,void 0,e.T())}));return sp(this,n)},t.ra=function(){var t=this;return Yh(this).then((function(e){return t.b&&sf(t.b.b),e})).o((function(e){throw t.b&&sf(t.b.b),e}))},t.dd=function(t){if(!t)return Ve(new x("null-user"));if(this.S!=t.tenantId)return Ve(new x("tenant-id-mismatch"));var e=this,n={};n.apiKey=np(this).options.apiKey,n.authDomain=np(this).options.authDomain,n.appName=np(this).name;var r=Ch(t,n,e.D,e.Ga());return sp(this,this.h.then((function(){if(np(e).options.apiKey!=t.l)return r.reload()})).then((function(){return rp(e)&&t.uid==rp(e).uid?(fh(rp(e),t),e.da(t)):(Xh(e,r),rh(r),e.da(r))})).then((function(){op(e)})))},t.Bb=function(){var t=this,e=this.h.then((function(){return t.b&&sf(t.b.b),rp(t)?(Xh(t,null),Fh(t.i).then((function(){op(t)}))):qe()}));return sp(this,e)},t.Zc=function(){var t=this;return Uh(this.i,np(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=rp(t)&&e){n=rp(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return fh(rp(t),e),rp(t).I();(rp(t)||e)&&(Xh(t,e),e&&(rh(e),e.ha=t.D),t.b&&Gl(t.b,t),op(t))}}))},t.da=function(t){return jh(this.i,t)},t.mc=function(){op(this),this.da(rp(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return ep(e,qe(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(rp(e))}))},t.Ac=function(t){var e=this;ap(this,(function(){t.next(rp(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(rp(r)):"function"===typeof t.next&&t.next(rp(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof t?t(rp(r)):"function"===typeof t.next&&t.next(rp(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this,n=this.h.then((function(){return rp(e)?rp(e).I(t).then((function(t){return{accessToken:t}})):null}));return sp(this,n)},t.Tc=function(t){var e=this;return this.h.then((function(){return ep(e,Yu(e.a,Ku,{token:t}))})).then((function(t){var n=t.user;return lh(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return ep(n,Yu(n.a,zu,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return ep(n,Yu(n.a,yu,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return ep(e,t.ka(e.a))}))},t.Sc=function(t){return wi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=rp(t);if(e&&e.isAnonymous){var n=ki({providerId:null,isNewUser:!1});return ki({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return ep(t,t.a.Ab()).then((function(e){var n=e.user;return lh(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return rp(this)&&rp(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&rp(this)&&Jf(rp(this))},t.Pc=function(t){var e=this;G(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&rp(this)&&Zf(rp(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),sp(this,this.h.then((function(){e.l||Z(e.s,t)&&t(ip(e))})))},t.removeAuthTokenListener=function(t){et(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i,t.b.removeListener(Lh("local"),t.a,this.ja)),this.b&&($l(this.b,this),sf(this.b.b)),Promise.resolve()},t.hc=function(t){return sp(this,Zs(this.a,t))},t.Bc=function(t){return!!fa(t)},t.xb=function(t,e){var n=this;return sp(this,qe().then((function(){var t=new oo(e);if(!t.c)throw new x("argument-error",uo+" must be true when sending sign in link to email");return go(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return sp(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return sp(this,this.a.Sa(t).then((function(t){return new Mi(t)})))},t.kb=function(t){return sp(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return sp(this,qe().then((function(){return"undefined"===typeof e||_t(e)?{}:go(new oo(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return sp(this,mf(this,t,e,T(this.ab,this)))},t.Vc=function(t,e){var n=this;return sp(this,qe().then((function(){var r=e||Nr(),i=la(t,r);if(r=fa(r),!r)throw new x("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new x("tenant-id-mismatch");return n.ab(i)})))},up.prototype.render=function(){},up.prototype.reset=function(){},up.prototype.getResponse=function(){},up.prototype.execute=function(){};var lp=null;function fp(t,e){return(e=hp(e))&&t.a[e]||null}function hp(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function pp(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ye(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():kn(this.f,"click",this.i)}function dp(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function vp(){}function gp(){}cp.prototype.render=function(t,e){return this.a[this.b.toString()]=new pp(t,e),this.b++},cp.prototype.reset=function(t){var e=fp(this,t);t=hp(t),e&&t&&(e.delete(),delete this.a[t])},cp.prototype.getResponse=function(t){return(t=fp(this,t))?t.getResponse():null},cp.prototype.execute=function(t){(t=fp(this,t))&&t.execute()},pp.prototype.getResponse=function(){return dp(this),this.b},pp.prototype.execute=function(){dp(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=Gr();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},pp.prototype.delete=function(){dp(this),this.g=!0,clearTimeout(this.a),this.a=null,xn(this.f,"click",this.i)},Ii(vp,"FACTOR_ID","phone"),gp.prototype.g=function(){return lp||(lp=new cp),qe(lp)},gp.prototype.c=function(){};var mp=null;function yp(){this.b=l.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var _p=new Tt(At,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),bp=new hi(3e4,6e4);yp.prototype.g=function(t){var e=this;return new Pe((function(n,r){var i=setTimeout((function(){r(new x("network-request-failed"))}),bp.get());if(!l.grecaptcha||t!==e.f&&!e.b){l[e.a]=function(){if(l.grecaptcha){e.f=t;var o=l.grecaptcha.render;l.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(l.grecaptcha)}else clearTimeout(i),r(new x("internal-error"));delete l[e.a]};var o=Rt(_p,{onload:e.a,hl:t||""});qe(Cs(o)).o((function(){clearTimeout(i),r(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))}))}else clearTimeout(i),n(l.grecaptcha)}))},yp.prototype.c=function(){this.b--};var wp=null;function Ep(t,e,n,r,i,o,a){if(Ii(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(mp||(mp=new gp),a=mp):(wp||(wp=new yp),a=wp),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[kp])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Cp],!l.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ye(e)||!this.i&&ye(e).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Ds(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var u=this.a[Ip];this.a[Ip]=function(t){if(Sp(s,t),"function"===typeof u)u(t);else if("string"===typeof u){var e=ti(u,l);"function"===typeof e&&e(t)}};var c=this.a[Tp];this.a[Tp]=function(){if(Sp(s,null),"function"===typeof c)c();else if("string"===typeof c){var t=ti(c,l);"function"===typeof t&&t()}}}var Ip="callback",Tp="expired-callback",kp="sitekey",Cp="size";function Sp(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Ap(t,e){et(t.l,(function(t){return t==e}))}function xp(t,e){return t.h.push(e),e.oa((function(){tt(t.h,e)})),e}function Np(t){if(t.J)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}function Op(t,e,n){var i=!1;try{this.b=n||r["default"].app()}catch(s){throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new x("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r["default"].SDK_VERSION?Jr(r["default"].SDK_VERSION,a):null,Ep.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),a,L(O),i)}function Rp(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Pp.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");n=Pp[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new x("argument-error",t+" failed: "+r)}t=Ep.prototype,t.Ia=function(){var t=this;return this.f?this.f:this.f=xp(this,qe().then((function(){if(ri()&&!zr())return qr();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,Yu(t.s,Ru,{})})).then((function(e){t.a[kp]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Np(this);var t=this;return xp(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=ye(e);e=Ie("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Np(this);var t=this;return xp(this,this.render().then((function(e){return new Pe((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(Ap(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Np(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Np(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ye(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(Op,Ep);var Pp="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Dp(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function Lp(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function Mp(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:y}}function jp(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function Fp(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function Up(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function qp(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof Vh)}}}function Vp(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r["default"].app.App)}}}function Bp(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function Kp(){return{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}}function zp(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Hp(t,e){return y(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function Wp(t){return y(t)&&"string"===typeof t.uid}function Gp(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}}function $p(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Yp(t,e){for(var n in e){var r=e[n].name;t[r]=Jp(r,t[n],e[n].j)}}function Qp(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:k((function(t){return this[t]}),n),set:k((function(t,e,n,r){Rp(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function Xp(t,e,n,r){t[e]=Jp(e,n,r)}function Jp(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Rp(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=Zp(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function Zp(t){return t=t.split("."),t[t.length-1]}Yp(Vh.prototype,{kb:{name:"applyActionCode",j:[Dp("code")]},Sa:{name:"checkActionCode",j:[Dp("code")]},ob:{name:"confirmPasswordReset",j:[Dp("code"),Dp("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Dp("email"),Dp("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Dp("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Dp("emailLink")]},Hc:{name:"onAuthStateChanged",j:[$p(Mp(),jp(),"nextOrObserver"),jp("opt_error",!0),jp("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[$p(Mp(),jp(),"nextOrObserver"),jp("opt_error",!0),jp("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Dp("email"),$p(Mp("opt_actionCodeSettings",!0),Fp(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Dp("email"),Mp("actionCodeSettings")]},yb:{name:"setPersistence",j:[Dp("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[Bp()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[Bp()]},Tc:{name:"signInWithCustomToken",j:[Dp("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Dp("email"),Dp("password")]},Vc:{name:"signInWithEmailLink",j:[Dp("email"),Dp("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Dp("phoneNumber"),Gp()]},Xc:{name:"signInWithPopup",j:[zp()]},Yc:{name:"signInWithRedirect",j:[zp()]},dd:{name:"updateCurrentUser",j:[$p(function(t){return{name:"user",K:"an instance of Firebase User",optional:!!t,M:function(t){return!!(t&&t instanceof zf)}}}(),Fp(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Dp(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Dp("url"),Mp("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Dp("code")]}}),Qp(Vh.prototype,{lc:{name:"languageCode",lb:$p(Dp(),Fp(),"languageCode")},ti:{name:"tenantId",lb:$p(Dp(),Fp(),"tenantId")}}),Vh.Persistence=nl,Vh.Persistence.LOCAL="local",Vh.Persistence.SESSION="session",Vh.Persistence.NONE="none",Yp(zf.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Lp("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Lp("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[Bp()]},rb:{name:"linkWithCredential",j:[Bp()]},Dc:{name:"linkWithPhoneNumber",j:[Dp("phoneNumber"),Gp()]},Ec:{name:"linkWithPopup",j:[zp()]},Fc:{name:"linkWithRedirect",j:[zp()]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Bp()]},ub:{name:"reauthenticateWithCredential",j:[Bp()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Dp("phoneNumber"),Gp()]},Nc:{name:"reauthenticateWithPopup",j:[zp()]},Oc:{name:"reauthenticateWithRedirect",j:[zp()]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[$p(Mp("opt_actionCodeSettings",!0),Fp(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Dp(null,!0)]},cd:{name:"unlink",j:[Dp("provider")]},Cb:{name:"updateEmail",j:[Dp("email")]},Db:{name:"updatePassword",j:[Dp("password")]},ed:{name:"updatePhoneNumber",j:[Bp("phone")]},Eb:{name:"updateProfile",j:[Mp("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Dp("email"),$p(Mp("opt_actionCodeSettings",!0),Fp(null,!0),"opt_actionCodeSettings",!0)]}}),Yp(cp.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yp(up.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Yp(Pe.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Qp(vf.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Lp("appVerificationDisabledForTesting")}}),Yp(gf.prototype,{confirm:{name:"confirm",j:[Dp("verificationCode")]}}),Xp(Bo,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[Yo,ua,pa,Wo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[$p(Dp(),Mp(),"json")]),Xp(ca,"credential",(function(t,e){return new sa(t,e)}),[Dp("email"),Dp("password")]),Yp(sa.prototype,{w:{name:"toJSON",j:[Dp(null,!0)]}}),Yp(Zo.prototype,{Ca:{name:"addScope",j:[Dp("scope")]},Ka:{name:"setCustomParameters",j:[Mp("customOAuthParameters")]}}),Xp(Zo,"credential",ta,[$p(Dp(),Mp(),"token")]),Xp(ca,"credentialWithLink",la,[Dp("email"),Dp("emailLink")]),Yp(ea.prototype,{Ca:{name:"addScope",j:[Dp("scope")]},Ka:{name:"setCustomParameters",j:[Mp("customOAuthParameters")]}}),Xp(ea,"credential",na,[$p(Dp(),Mp(),"token")]),Yp(ra.prototype,{Ca:{name:"addScope",j:[Dp("scope")]},Ka:{name:"setCustomParameters",j:[Mp("customOAuthParameters")]}}),Xp(ra,"credential",ia,[$p(Dp(),$p(Mp(),Fp()),"idToken"),$p(Dp(),Fp(),"accessToken",!0)]),Yp(oa.prototype,{Ka:{name:"setCustomParameters",j:[Mp("customOAuthParameters")]}}),Xp(oa,"credential",aa,[$p(Dp(),Mp(),"token"),Dp("secret",!0)]),Yp(Jo.prototype,{Ca:{name:"addScope",j:[Dp("scope")]},credential:{name:"credential",j:[$p(Dp(),$p(Mp(),Fp()),"optionsOrIdToken"),$p(Dp(),Fp(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Mp("customOAuthParameters")]}}),Yp(Go.prototype,{w:{name:"toJSON",j:[Dp(null,!0)]}}),Yp(zo.prototype,{w:{name:"toJSON",j:[Dp(null,!0)]}}),Xp(va,"credential",ga,[Dp("verificationId"),Dp("verificationCode")]),Yp(va.prototype,{gb:{name:"verifyPhoneNumber",j:[$p(Dp(),function(t,e){return{name:t||"phoneInfoOptions",K:"valid phone info options",optional:!!e,M:function(t){return!!t&&(t.session&&t.phoneNumber?Hp(t.session,qo)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?Hp(t.session,Vo)&&Wp(t.multiFactorHint):t.session&&t.multiFactorUid?Hp(t.session,Vo)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}}}(),"phoneInfoOptions"),Gp()]}}),Yp(ha.prototype,{w:{name:"toJSON",j:[Dp(null,!0)]}}),Yp(x.prototype,{toJSON:{name:"toJSON",j:[Dp(null,!0)]}}),Yp(Ca.prototype,{toJSON:{name:"toJSON",j:[Dp(null,!0)]}}),Yp(ka.prototype,{toJSON:{name:"toJSON",j:[Dp(null,!0)]}}),Yp(Ef.prototype,{toJSON:{name:"toJSON",j:[Dp(null,!0)]}}),Yp(_f.prototype,{Rc:{name:"resolveSignIn",j:[Kp()]}}),Yp(Nf.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[Kp(),Dp("displayName",!0)]},bd:{name:"unenroll",j:[$p({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:Wp},Dp(),"multiFactorInfoIdentifier")]}}),Yp(Op.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Xp(Qi,"parseLink",io,[Dp("link")]),Xp(vp,"assertion",(function(t){return new Af(t)}),[Bp("phone")]),function(){if("undefined"===typeof r["default"]||!r["default"].INTERNAL||!r["default"].INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Fi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ji,VERIFY_AND_CHANGE_EMAIL:Ui,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Vh,AuthCredential:Bo,Error:x};Xp(t,"EmailAuthProvider",ca,[]),Xp(t,"FacebookAuthProvider",Zo,[]),Xp(t,"GithubAuthProvider",ea,[]),Xp(t,"GoogleAuthProvider",ra,[]),Xp(t,"TwitterAuthProvider",oa,[]),Xp(t,"OAuthProvider",Jo,[Dp("providerId")]),Xp(t,"SAMLAuthProvider",Xo,[Dp("providerId")]),Xp(t,"PhoneAuthProvider",va,[qp()]),Xp(t,"RecaptchaVerifier",Op,[$p(Dp(),Up(),"recaptchaContainer"),Mp("recaptchaParameters",!0),Vp()]),Xp(t,"ActionCodeURL",Qi,[]),Xp(t,"PhoneMultiFactorGenerator",vp,[]),r["default"].INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return t=t.getProvider("app").getImmediate(),new Vh(t)},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r["default"].INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return t=t.getProvider("auth").getImmediate(),{getUid:T(t.getUid,t),getToken:T(t.nc,t),addAuthTokenListener:T(t.cc,t),removeAuthTokenListener:T(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r["default"].registerVersion("@firebase/auth","0.16.8"),r["default"].INTERNAL.extendNamespace({User:zf})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},6037:function(t,e,n){"use strict";n.r(e),n.d(e,{Component:function(){return o},ComponentContainer:function(){return l},Provider:function(){return s}});n(1703);var r=n(4270),i=n(9556),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(c(t))try{this.getOrInitializeService({instanceIdentifier:a})}catch(p){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),u=s[0],l=s[1],f=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:f});l.resolve(h)}catch(p){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),(0,r.__read)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=a),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=a),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),f=l[0],h=l[1],p=this.normalizeInstanceIdentifier(f);a===p&&h.resolve(s)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:u(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(o){}return i||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=a),this.component?this.component.multipleInstances?t:a:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();function u(t){return t===a?void 0:t}function c(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var l=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){var e=this.getProvider(t.name);e.isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},8200:function(t,e,n){"use strict";n(1703);var r=n(8866),i=n(6037),o=n(9556),a=n(4270),s=n(2864);t=n.hmd(t);var u="@firebase/database",c="0.11.0",l="";function f(t){l=t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var h=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,o.stringify)(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,o.jsonEval)(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),p=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return(0,o.contains)(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),d=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new h(e)}}catch(n){}return new p},v=d("localStorage"),g=d("sessionStorage"),m=new s.Logger("@firebase/database"),y=function(){var t=1;return function(){return t++}}(),_=function(t){var e=(0,o.stringToByteArray)(t),n=new o.Sha1;n.update(e);var r=n.digest();return o.base64.encodeByteArray(r)},b=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"===typeof i&&"number"===typeof i.length?n+=b.apply(null,i):n+="object"===typeof i?(0,o.stringify)(i):i,n+=" "}return n},w=null,E=!0,I=function(t,e){(0,o.assert)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(m.logLevel=s.LogLevel.VERBOSE,w=m.log.bind(m),e&&g.set("logging_enabled",!0)):"function"===typeof t?w=t:(w=null,g.remove("logging_enabled"))},T=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===E&&(E=!1,null===w&&!0===g.get("logging_enabled")&&I(!0)),w){var n=b.apply(null,t);w(n)}},k=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];T.apply(void 0,(0,a.__spreadArray)([t],(0,a.__read)(e)))}},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+b.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(t)));m.error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+b.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(t)));throw m.error(n),new Error(n)},A=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+b.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(t)));m.warn(n)},x=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&A("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},N=function(t){return"number"===typeof t&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},O=function(t){if((0,o.isNodeSdk)()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},R="[MIN_NAME]",P="[MAX_NAME]",D=function(t,e){if(t===e)return 0;if(t===R||e===P)return-1;if(e===R||t===P)return 1;var n=G(t),r=G(e);return null!==n?null!==r?n-r===0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},L=function(t,e){return t===e?0:t<e?-1:1},M=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,o.stringify)(e))},j=function(t){if("object"!==typeof t||null===t)return(0,o.stringify)(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=(0,o.stringify)(e[i]),r+=":",r+=j(t[e[i]]);return r+="}",r},F=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var q=function(t){(0,o.assert)(!N(t),"Invalid JSON number");var e,n,r,i,a,s=11,u=52,c=(1<<s-1)-1;0===t?(n=0,r=0,e=1/t===-1/0?1:0):(e=t<0,t=Math.abs(t),t>=Math.pow(2,1-c)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),c),n=i+c,r=Math.round(t*Math.pow(2,u-i)-Math.pow(2,u))):(n=0,r=Math.round(t/Math.pow(2,1-c-u))));var l=[];for(a=u;a;a-=1)l.push(r%2?1:0),r=Math.floor(r/2);for(a=s;a;a-=1)l.push(n%2?1:0),n=Math.floor(n/2);l.push(e?1:0),l.reverse();var f=l.join(""),h="";for(a=0;a<64;a+=8){var p=parseInt(f.substr(a,8),2).toString(16);1===p.length&&(p="0"+p),h+=p}return h.toLowerCase()},V=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},B=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI};function K(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var z=new RegExp("^-?(0*)\\d{1,10}$"),H=-2147483648,W=2147483647,G=function(t){if(z.test(t)){var e=Number(t);if(e>=H&&e<=W)return e}return null},$=function(t){try{t()}catch(e){setTimeout((function(){var t=e.stack||"";throw A("Exception was thrown by user callback.",t),e}),Math.floor(0))}},Y=function(){var t="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Q=function(t,e){var n=setTimeout(t,e);return"object"===typeof n&&n["unref"]&&n["unref"](),n},X=function(){function t(t,e){var n=this;this.appName_=t,this.appCheckProvider=e,this.appCheck=null===e||void 0===e?void 0:e.getImmediate({optional:!0}),this.appCheck||null===e||void 0===e||e.get().then((function(t){return n.appCheck=t}))}return t.prototype.getToken=function(t){var e=this;return this.appCheck?this.appCheck.getToken(t):new Promise((function(n,r){setTimeout((function(){e.appCheck?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then((function(e){return e.addTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){A('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},t}(),J=function(){function t(t,e,n){var r=this;this.appName_=t,this.firebaseOptions_=e,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(t){return r.auth_=t}))}return t.prototype.getToken=function(t){var e=this;return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(T("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):new Promise((function(n,r){setTimeout((function(){e.auth_?e.getToken(t).then(n,r):n(null)}),0)}))},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)}))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',A(t)},t}(),Z=function(){function t(t){this.accessToken=t}return t.prototype.getToken=function(t){return Promise.resolve({accessToken:this.accessToken})},t.prototype.addTokenChangeListener=function(t){t(this.accessToken)},t.prototype.removeTokenChangeListener=function(t){},t.prototype.notifyForInvalidToken=function(){},t.OWNER="owner",t}(),tt="5",et="v",nt="s",rt="r",it="f",ot=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,at="ls",st="p",ut="ac",ct="websocket",lt="long_polling",ft=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=v.get("host:"+t)||this._host}return t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&v.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){var t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+t+this.host+"/"+e},t}();function ht(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function pt(t,e,n){var r;if((0,o.assert)("string"===typeof e,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),e===ct)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==lt)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}ht(t)&&(n["ns"]=t.namespace);var i=[];return U(n,(function(t,e){i.push(t+"="+e)})),r+i.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),(0,o.contains)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},t}(),vt={},gt={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){var e=t.toString();return vt[e]||(vt[e]=new dt),vt[e]}function yt(t,e){var n=t.toString();return gt[n]||(gt[n]=e()),gt[n]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&$((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;while(this.pendingResponses[this.currentResponseNum]){var o=r();if("break"===o)break}},t}(),bt="start",wt="close",Et="pLPCommand",It="pRTLPCB",Tt="id",kt="pw",Ct="ser",St="cb",At="seg",xt="ts",Nt="d",Ot="dframe",Rt=1870,Pt=30,Dt=Rt-Pt,Lt=25e3,Mt=3e4,jt=function(){function t(t,e,n,r,i,o,a){var s=this;this.connId=t,this.repoInfo=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=k(t),this.stats_=mt(e),this.urlFn=function(t){return s.appCheckToken&&(t[ut]=s.appCheckToken),pt(e,lt,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new _t(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(Mt)),O((function(){if(!n.isClosed_){n.scriptTagHolder=new Ft((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,a.__read)(t,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===bt)n.id=o,n.password=s;else{if(i!==wt)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=(0,a.__read)(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={};t[bt]="t",t[Ct]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t[St]=n.scriptTagHolder.uniqueCallbackIdentifier),t[et]=tt,n.transportSessionId&&(t[nt]=n.transportSessionId),n.lastSessionId&&(t[at]=n.lastSessionId),n.applicationId&&(t[st]=n.applicationId),n.appCheckToken&&(t[ut]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ot.test(location.hostname)&&(t[rt]=it);var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!V()&&!B())},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=(0,o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=(0,o.base64Encode)(e),r=F(n,Dt),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={};n[Ot]="t",n[Tt]=t,n[kt]=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=(0,o.stringify)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Ft=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window[Et+this.uniqueCallbackIdentifier]=e,window[It+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var s=document.domain;a='<script>document.domain="'+s+'";<\/script>'}var u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){T("frame writing exception"),c.stack&&T(c.stack),T(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{var e=t.contentWindow.document;e||T("No IE domain setting required")}catch(r){var n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){this.myID=t,this.myPW=e,this.alive=!0;while(this.newRequest_());},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[Tt]=this.myID,t[kt]=this.myPW,t[Ct]=this.currentSerial;var e=this.urlFn(t),n="",r=0;while(this.pendingSegs.length>0){var i=this.pendingSegs[0];if(!(i.d.length+Pt+n.length<=Rt))break;var o=this.pendingSegs.shift();n=n+"&"+At+r+"="+o.seg+"&"+xt+r+"="+o.ts+"&"+Nt+r+"="+o.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(Lt)),o=function(){clearTimeout(i),r()};this.addTag(t,o)},t.prototype.addTag=function(t,e){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(t,e):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){T("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},t}(),Ut=16384,qt=45e3,Vt=null;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */"undefined"!==typeof MozWebSocket?Vt=MozWebSocket:"undefined"!==typeof WebSocket&&(Vt=WebSocket);var Bt=function(){function t(e,n,r,i,o,a,s){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=k(this.connId),this.stats_=mt(n),this.connURL=t.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return t.connectionURL_=function(t,e,n,r){var i={};return i[et]=tt,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&ot.test(location.hostname)&&(i[rt]=it),e&&(i[nt]=e),n&&(i[at]=n),r&&(i[ut]=r),pt(t,ct,i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,v.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/"+tt+"/"+l+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers["Authorization"]="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a={NODE_ENV:"production",BASE_URL:"/"},s=0===this.connURL.indexOf("wss://")?a["HTTPS_PROXY"]||a["https_proxy"]:a["HTTP_PROXY"]||a["http_proxy"];s&&(i["proxy"]={origin:s}),this.mySock=new Vt(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new Vt(this.connURL,[],i)}}catch(c){this.log_("Error instantiating WebSocket.");var u=c.message||c.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==Vt&&!t.forceDisallow_},t.previouslyFailed=function(){return v.isInMemoryStorage||!0===v.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){v.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t["data"];if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=(0,o.stringify)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=F(e,Ut);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(qt))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),Kt=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[jt,Bt]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=Bt&&Bt["isAvailable"](),o=i&&!Bt.previouslyFailed();if(e.webSocketOnly&&(i||A("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[Bt];else{var s=this.transports_=[];try{for(var u=(0,a.__values)(t.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l["isAvailable"]()&&s.push(l)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),zt=6e4,Ht=5e3,Wt=10240,Gt=102400,$t="t",Yt="d",Qt="s",Xt="r",Jt="e",Zt="o",te="a",ee="n",ne="p",re="h",ie=function(){function t(t,e,n,r,i,o,a,s,u,c){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=k("c:"+this.id+":"),this.transportManager_=new Kt(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e["healthyTimeout"]||0;i>0&&(this.healthyTimeout_=Q((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>Gt?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>Wt?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if($t in t){var e=t[$t];e===te?this.upgradeIfSecondaryHealthy_():e===Xt?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):e===Zt&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=M("t",t),n=M("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ne,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:te,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ee,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=M("t",t),n=M("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=M($t,t);if(Yt in t){var n=t[Yt];if(e===re)this.onHandshake_(n);else if(e===ee){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===Qt?this.onConnectionShutdown_(n):e===Xt?this.onReset_(n):e===Jt?C("Server Error: "+n):e===Zt?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),tt!==n&&A("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Q((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(zt))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Q((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(Ht))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ne,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(v.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),oe=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.refreshAppCheckToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ae=function(){function t(t){this.allowedEvents_=t,this.listeners_={},(0,o.assert)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=(0,a.__spreadArray)([],(0,a.__read)(this.listeners_[t])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){(0,o.assert)(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),se=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return(0,a.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.assert)("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(ae),ue=32,ce=768,le=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(){return new le("")}function he(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function pe(t){return t.pieces_.length-t.pieceNum_}function de(t){var e=t.pieceNum_;return e<t.pieces_.length&&e++,new le(t.pieces_,e)}function ve(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ge(t){for(var e="",n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function me(t,e){return void 0===e&&(e=0),t.pieces_.slice(t.pieceNum_+e)}function ye(t){if(t.pieceNum_>=t.pieces_.length)return null;for(var e=[],n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new le(e,0)}function _e(t,e){for(var n=[],r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof le)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new le(n,0)}function be(t){return t.pieceNum_>=t.pieces_.length}function we(t,e){var n=he(t),r=he(e);if(null===n)return e;if(n===r)return we(de(t),de(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Ee(t,e){for(var n=me(t,0),r=me(e,0),i=0;i<n.length&&i<r.length;i++){var o=D(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ie(t,e){if(pe(t)!==pe(e))return!1;for(var n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Te(t,e){var n=t.pieceNum_,r=e.pieceNum_;if(pe(t)>pe(e))return!1;while(n<t.pieces_.length){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var ke=function(){function t(t,e){this.errorPrefix_=e,this.parts_=me(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Ae(this)}return t}();function Ce(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,o.stringLength)(e),Ae(t)}function Se(t){var e=t.parts_.pop();t.byteLength_-=(0,o.stringLength)(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ae(t){if(t.byteLength_>ce)throw new Error(t.errorPrefix_+"has a key path longer than "+ce+" bytes ("+t.byteLength_+").");if(t.parts_.length>ue)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ue+") or object contains a cycle "+xe(t))}function xe(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,Oe,Re=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(n="visibilitychange",e="hidden"):"undefined"!==typeof document["mozHidden"]?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document["msHidden"]?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return(0,a.__extends)(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return(0,o.assert)("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(ae),Pe=1e3,De=3e5,Le=3e3,Me=3e4,je=1.3,Fe=3e4,Ue="server_kill",qe=3,Ve=function(t){function e(n,r,i,a,s,u,c,l){var f=t.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=e.nextPersistentConnectionId_++,f.log_=k("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=Pe,f.maxReconnectDelay_=De,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Re.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&se.getInstance().on("online",f.onOnline_,f),f}return(0,a.__extends)(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.get=function(t){var e=this;this.initConnection_();var n=new o.Deferred,r={p:t._path.toString(),q:t._queryObject},i={action:"g",request:r,onComplete:function(t){var i=t["d"];"ok"===t["s"]?(e.onDataUpdate_(r["p"],i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var t=e.outstandingGets_[a];void 0!==t&&i===t&&(delete e.outstandingGets_[a],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),e.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),Le),this.connected_&&this.sendGet_(a),n.promise},e.prototype.listen=function(t,e,n,r){this.initConnection_();var i=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendGet_=function(t){var e=this,n=this.outstandingGets_[t];this.sendRequest("g",n.request,(function(r){delete e.outstandingGets_[t],e.outstandingGetCount_--,0===e.outstandingGetCount_&&(e.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i},s="q";t.tag&&(a["q"]=r._queryObject,a["t"]=t.tag),a["h"]=t.hashFn(),this.sendRequest(s,a,(function(a){var s=a["d"],u=a["s"];e.warnOnListenWarnings_(s,r);var c=n.listens.get(i)&&n.listens.get(i).get(o);c===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===typeof t&&(0,o.contains)(t,"w")){var n=(0,o.safeGet)(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e._queryParams.getIndex().toString()+'"',i=e._path.toString();A("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e=t&&40===t.length;(e||(0,o.isAdmin)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Me)},e.prototype.refreshAppCheckToken=function(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=(0,o.isValidFormat)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r["noauth"]=!0:"object"===typeof this.authOverride_&&(r["authvar"]=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n["s"],i=n["d"]||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))}))}},e.prototype.tryAppCheck=function(){var t=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(e){var n=e["s"],r=e["d"]||"error";"ok"===n?t.invalidAppCheckTokenCount_=0:t.onAppCheckRevoked_(n,r)}))},e.prototype.unlisten=function(t,e){var n=t._path.toString(),r=t._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");var i=this.removeListen_(n,r);i&&this.connected_&&this.sendUnlisten_(n,r,t._queryObject,e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t},o="n";r&&(i["q"]=n,i["t"]=r),this.sendRequest(o,i)},e.prototype.onDisconnectPut=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t["s"],t["d"])}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){this.initConnection_();var o={p:e,d:n};void 0!==i&&(o["h"]=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r["s"],r["d"])}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){var n=t["s"];if("ok"!==n){var r=t["d"];e.log_("reportStats","Error sending stats: "+r)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+(0,o.stringify)(t));var e=t["r"],n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t["b"]))}else{if("error"in t)throw"A server-side error has occurred: "+t["error"];"a"in t&&this.onDataPush_(t["a"],t["b"])}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e["p"],e["d"],!1,e["t"]):"m"===t?this.onDataUpdate_(e["p"],e["d"],!0,e["t"]):"c"===t?this.onListenRevoked_(e["p"],e["q"]):"ac"===t?this.onAuthRevoked_(e["s"],e["d"]):"apc"===t?this.onAppCheckRevoked_(e["s"],e["d"]):"sd"===t?this.onSecurityDebugPacket_(e):C("Unrecognized action received from server: "+(0,o.stringify)(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>Fe&&(this.reconnectDelay_=Pe),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*je)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){return(0,a.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,s,u,c,l,f,h,p,d,v,g,m=this;return(0,a.__generator)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},f=function(t){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return p=a.__read.apply(void 0,[y.sent(),2]),d=p[0],v=p[1],u?T("getToken() completed but was canceled"):(T("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=v&&v.token,c=new ie(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,(function(t){A(t+" ("+m.repoInfo_.toString()+")"),m.interrupt(Ue)}),s)),[3,4];case 3:return g=y.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&A(g),l()),[3,4];case 4:return[2]}}))}))},e.prototype.interrupt=function(t){T("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){T("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Pe,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return j(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new le(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){T("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qe&&(this.reconnectDelay_=Me,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onAppCheckRevoked_=function(t,e){T("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qe&&this.appCheckTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t["msg"].replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);while(this.onDisconnectRequestQueue_.length){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)},e.prototype.sendConnectStats_=function(){var t={},e="js";(0,o.isNodeSdk)()&&(e=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+e+"."+l.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?t["framework.cordova"]=1:(0,o.isReactNative)()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=se.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(oe),Be=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Ke=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Be(R,t),r=new Be(R,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Be.MIN},t}(),ze=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return Ne},set:function(t){Ne=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return D(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Be.MIN},e.prototype.maxPost=function(){return new Be(P,Ne)},e.prototype.makePost=function(t,e){return(0,o.assert)("string"===typeof t,"KeyIndex indexValue must always be a string."),new Be(t,Ne)},e.prototype.toString=function(){return".key"},e}(Ke),He=new ze,We=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];var o=1;while(!t.isEmpty())if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_){e=e.left;while(!e.isEmpty())this.nodeStack_.push(e),e=e.right}else{e=e.right;while(!e.isEmpty())this.nodeStack_.push(e),e=e.left}return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Ge=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Ye.EMPTY_NODE,this.right=null!=o?o:Ye.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Ye.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},t.prototype.remove=function(t,e){var n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Ye.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),$e=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Ge(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Ye=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ge.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ge.BLACK,null,null))},t.prototype.get=function(t){var e,n=this.root_;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){var e,n=this.root_,r=null;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return r?r.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new We(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new We(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new We(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new We(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new $e,t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Qe(t,e){return D(t.name,e.name)}function Xe(t,e){return D(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){Oe=t}var Ze,tn,en,nn=function(t){return"number"===typeof t?"number:"+q(t):"string:"+t},rn=function(t){if(t.isLeafNode()){var e=t.val();(0,o.assert)("string"===typeof e||"number"===typeof e||"object"===typeof e&&(0,o.contains)(e,".sv"),"Priority must be a string or number.")}else(0,o.assert)(t===Oe||t.isEmpty(),"priority of unexpected type.");(0,o.assert)(t===Oe||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},on=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rn(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Ze},set:function(t){Ze=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return be(e)?this:".priority"===he(e)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=he(e);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===pe(e),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(de(e),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+nn(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?q(this.value_):this.value_,this.lazyHash_=_(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:((0,o.assert)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();function an(t){tn=t}function sn(t){en=t}var un,cn,ln=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?D(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Be.MIN},e.prototype.maxPost=function(){return new Be(P,new on("[PRIORITY-POST]",en))},e.prototype.makePost=function(t,e){var n=tn(t);return new Be(e,new on("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Ke),fn=new ln,hn=Math.log(2),pn=function(){function t(t){var e=function(t){return parseInt(Math.log(t)/hn,10)},n=function(t){return parseInt(Array(t+1).join("1"),2)};this.count=e(t+1),this.current_=this.count-1;var r=n(this.count);this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),dn=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0===s)return null;if(1===s)return o=t[e],a=n?n(o):o,new Ge(a,o.node,Ge.BLACK,null,null);var u=parseInt(s/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],a=n?n(o):o,new Ge(a,o.node,Ge.BLACK,c,l)},o=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),l=t[o],f=n?n(l):l;u(new Ge(f,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),f=Math.pow(2,e.count-(c+1));l?s(f,Ge.BLACK):(s(f,Ge.BLACK),s(f,Ge.RED))}return o},a=new pn(t.length),s=o(a);return new Ye(r||e,s)},vn={},gn=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return(0,o.assert)(vn&&fn,"ChildrenNode.ts has not been loaded"),un=un||new t({".priority":vn},{".priority":fn}),un},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=(0,o.safeGet)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ye?e:null},t.prototype.hasIndex=function(t){return(0,o.contains)(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){(0,o.assert)(e!==He,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var r,i=[],s=!1,u=n.getIterator(Be.Wrap),c=u.getNext();while(c)s=s||e.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?dn(i,e.getCompare()):vn;var l=e.toString(),f=(0,a.__assign)({},this.indexSet_);f[l]=e;var h=(0,a.__assign)({},this.indexes_);return h[l]=r,new t(h,f)},t.prototype.addToIndexes=function(e,n){var r=this,i=(0,o.map)(this.indexes_,(function(t,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),t===vn){if(a.isDefinedOn(e.node)){var s=[],u=n.getIterator(Be.Wrap),c=u.getNext();while(c)c.name!==e.name&&s.push(c),c=u.getNext();return s.push(e),dn(s,a.getCompare())}return vn}var l=n.get(e.name),f=t;return l&&(f=f.remove(new Be(e.name,l))),f.insert(e,e.node)}));return new t(i,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var r=(0,o.map)(this.indexes_,(function(t){if(t===vn)return t;var r=n.get(e.name);return r?t.remove(new Be(e.name,r)):t}));return new t(r,this.indexSet_)},t}(),mn=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&rn(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return cn||(cn=new t(new Ye(Xe),null,gn.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||cn},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?cn:e},t.prototype.getChild=function(t){var e=he(t);return null===e?this:this.getImmediateChild(e).getChild(de(t))},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Be(e,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?cn:this.priorityNode_;return new t(i,s,a)},t.prototype.updateChild=function(t,e){var n=he(t);if(null===n)return e;(0,o.assert)(".priority"!==he(t)||1===pe(t),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(de(t),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(fn,(function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+nn(this.getPriority().val())+":"),this.forEachChild(fn,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":_(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Be(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Be(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Be(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));var r=this.children_.getIteratorFrom(t.name,Be.Wrap),i=r.peek();while(null!=i&&e.compare(i,t)<0)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));var r=this.children_.getReverseIteratorFrom(t.name,Be.Wrap),i=r.peek();while(null!=i&&e.compare(i,t)>0)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===_n?-1:0},t.prototype.withIndex=function(e){if(e===He||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===He||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){var n=this.getIterator(fn),r=e.getIterator(fn),i=n.getNext(),o=r.getNext();while(i&&o){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===He?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),yn=function(t){function e(){return t.call(this,new Ye(Xe),mn.EMPTY_NODE,gn.Default)||this}return(0,a.__extends)(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return mn.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(mn),_n=new yn;Object.defineProperties(Be,{MIN:{value:new Be(R,mn.EMPTY_NODE)},MAX:{value:new Be(P,_n)}}),ze.__EMPTY_NODE=mn.EMPTY_NODE,on.__childrenNodeConstructor=mn,Je(_n),sn(_n);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var bn=!0;function wn(t,e){if(void 0===e&&(e=null),null===t)return mn.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),(0,o.assert)(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t){var n=t;return new on(n,wn(e))}if(t instanceof Array||!bn){var r=mn.EMPTY_NODE;return U(t,(function(e,n){if((0,o.contains)(t,e)&&"."!==e.substring(0,1)){var i=wn(n);!i.isLeafNode()&&i.isEmpty()||(r=r.updateImmediateChild(e,i))}})),r.updatePriority(wn(e))}var i=[],a=!1,s=t;if(U(s,(function(t,e){if("."!==t.substring(0,1)){var n=wn(e);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),i.push(new Be(t,n)))}})),0===i.length)return mn.EMPTY_NODE;var u=dn(i,Qe,(function(t){return t.name}),Xe);if(a){var c=dn(i,fn.getCompare());return new mn(u,wn(e),new gn({".priority":c},{".priority":fn}))}return new mn(u,wn(e),gn.Default)}an(wn);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var En=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,(0,o.assert)(!be(e)&&".priority"!==he(e),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.__extends)(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?D(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=wn(t),r=mn.EMPTY_NODE.updateChild(this.indexPath_,n);return new Be(e,r)},e.prototype.maxPost=function(){var t=mn.EMPTY_NODE.updateChild(this.indexPath_,_n);return new Be(P,t)},e.prototype.toString=function(){return me(this.indexPath_,0).join("/")},e}(Ke),In=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?D(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Be.MIN},e.prototype.maxPost=function(){return Be.MAX},e.prototype.makePost=function(t,e){var n=wn(t);return new Be(e,n)},e.prototype.toString=function(){return".value"},e}(Ke),Tn=new In,kn="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Cn="-",Sn="z",An=786,xn=function(){var t=0,e=[];return function(n){var r,i=n===t;t=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=kn.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=kn.charAt(e[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),Nn=function(t){if(t===""+W)return Cn;var e=G(t);if(null!=e)return""+(e+1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);if(n.length<An)return n.push(Cn),n.join("");var i=n.length-1;while(i>=0&&n[i]===Sn)i--;if(-1===i)return P;var o=n[i],a=kn.charAt(kn.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},On=function(t){if(t===""+H)return R;var e=G(t);if(null!=e)return""+(e-1);for(var n=new Array(t.length),r=0;r<n.length;r++)n[r]=t.charAt(r);return n[n.length-1]===Cn?1===n.length?""+W:(delete n[n.length-1],n.join("")):(n[n.length-1]=kn.charAt(kn.indexOf(n[n.length-1])-1),n.join("")+Sn.repeat(An-n.length))};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Rn(t){return{type:"value",snapshotNode:t}}function Pn(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Dn(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ln(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Mn(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,a){(0,o.assert)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(Dn(e,s)):(0,o.assert)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(Pn(e,n)):a.trackChildChange(Ln(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(fn,(function(t,r){e.hasChild(t)||n.trackChildChange(Dn(t,r))})),e.isLeafNode()||e.forEachChild(fn,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Ln(e,r,i))}else n.trackChildChange(Pn(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?mn.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Fn=function(){function t(e){this.indexedFilter_=new jn(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Be(e,n))||(n=mn.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=mn.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(mn.EMPTY_NODE);var i=this;return e.forEachChild(fn,(function(t,e){i.matches(new Be(t,e))||(r=r.updateImmediateChild(t,mn.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Un=function(){function t(t){this.rangedFilter_=new Fn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Be(e,n))||(n=mn.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=mn.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=mn.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);var o=0;while(i.hasNext()&&o<this.limit_){var a=i.getNext(),s=void 0;if(s=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!s)break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=e.withIndex(this.index_),r=r.updatePriority(mn.EMPTY_NODE);var u=void 0,c=void 0,l=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();l=function(t,e){return f(e,t)}}else i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;var h=!1;while(i.hasNext()){a=i.getNext();!h&&l(u,a)<=0&&(h=!0);s=h&&o<this.limit_&&l(a,c)<=0;s?o++:r=r.updateImmediateChild(a.name,mn.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new Be(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(e)){var h=u.getImmediateChild(e),p=r.getChildAfterChild(this.index_,l,this.reverse_);while(null!=p&&(p.name===e||u.hasChild(p.name)))p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:a(p,c),v=f&&!n.isEmpty()&&d>=0;if(v)return null!=i&&i.trackChildChange(Ln(e,n,h)),u.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Dn(e,h));var g=u.updateImmediateChild(e,mn.EMPTY_NODE),m=null!=p&&this.rangedFilter_.matches(p);return m?(null!=i&&i.trackChildChange(Pn(p.name,p.node)),g.updateImmediateChild(p.name,p.node)):g}return n.isEmpty()?t:f&&a(l,c)>=0?(null!=i&&(i.trackChildChange(Dn(l.name,l.node)),i.trackChildChange(Pn(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,mn.EMPTY_NODE)):t},t}(),qn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fn}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.hasStartAfter=function(){return this.startAfterSet_},t.prototype.hasEndBefore=function(){return this.endBeforeSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:R},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===fn},t.prototype.copy=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t){return t.loadsAllData()?new jn(t.getIndex()):t.hasLimit()?new Un(t):new Fn(t)}function Bn(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function Kn(t,e){var n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function zn(t,e,n){var r=t.copy();return r.startSet_=!0,void 0===e&&(e=null),r.indexStartValue_=e,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Hn(t,e,n){var r;if(t.index_===He)"string"===typeof e&&(e=Nn(e)),r=zn(t,e,n);else{var i=void 0;i=null==n?P:Nn(n),r=zn(t,e,i)}return r.startAfterSet_=!0,r}function Wn(t,e,n){var r=t.copy();return r.endSet_=!0,void 0===e&&(e=null),r.indexEndValue_=e,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Gn(t,e,n){var r,i;return t.index_===He?("string"===typeof e&&(e=On(e)),i=Wn(t,e,n)):(r=null==n?R:On(n),i=Wn(t,e,r)),i.endBeforeSet_=!0,i}function $n(t,e){var n=t.copy();return n.index_=e,n}function Yn(t){var e,n={};return t.isDefault()||(t.index_===fn?e="$priority":t.index_===Tn?e="$value":t.index_===He?e="$key":((0,o.assert)(t.index_ instanceof En,"Unrecognized index type!"),e=t.index_.toString()),n["orderBy"]=(0,o.stringify)(e),t.startSet_&&(n["startAt"]=(0,o.stringify)(t.indexStartValue_),t.startNameSet_&&(n["startAt"]+=","+(0,o.stringify)(t.indexStartName_))),t.endSet_&&(n["endAt"]=(0,o.stringify)(t.indexEndValue_),t.endNameSet_&&(n["endAt"]+=","+(0,o.stringify)(t.indexEndName_))),t.limitSet_&&(t.isViewFromLeft()?n["limitToFirst"]=t.limit_:n["limitToLast"]=t.limit_)),n}function Qn(t){var e={};if(t.startSet_&&(e["sp"]=t.indexStartValue_,t.startNameSet_&&(e["sn"]=t.indexStartName_)),t.endSet_&&(e["ep"]=t.indexEndValue_,t.endNameSet_&&(e["en"]=t.indexEndName_)),t.limitSet_){e["l"]=t.limit_;var n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e["vf"]=n}return t.index_!==fn&&(e["i"]=t.index_.toString()),e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.repoInfo_=e,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=k("p:rest:"),o.listens_={},o}return(0,a.__extends)(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:((0,o.assert)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())},e.prototype.listen=function(t,n,r,i){var a=this,s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);var u=e.getListenId_(t,r),c={};this.listens_[u]=c;var l=Yn(t._queryParams);this.restRequest_(s+".json",l,(function(t,e){var n,l=e;(404===t&&(l=null,t=null),null===t&&a.onDataUpdate_(s,l,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&(n=t?401===t?"permission_denied":"rest_error:"+t:"ok",i(n,null))}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.get=function(t){var e=this,n=Yn(t._queryParams),r=t._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(t,n){var o=n;404===t&&(o=null,t=null),null===t?(e.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;return void 0===e&&(e={}),e["format"]="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(e["auth"]=u.accessToken),c&&c.token&&(e["ac"]=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(e);r.log_("Sending REST request for "+l);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(n&&4===f.readyState){r.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);var t=null;if(f.status>=200&&f.status<300){try{t=(0,o.jsonEval)(f.responseText)}catch(e){A("Failed to parse JSON response for "+l+": "+f.responseText)}n(null,t)}else 401!==f.status&&404!==f.status&&A("Got unsuccessful REST response for "+l+" Status: "+f.status),n(f.status);n=null}},f.open("GET",l,!0),f.send()}))},e}(oe),Jn=function(){function t(){this.rootNode_=mn.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Zn(){return{value:null,children:new Map}}function tr(t,e,n){if(be(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{var r=he(e);t.children.has(r)||t.children.set(r,Zn());var i=t.children.get(r);e=de(e),tr(i,e,n)}}function er(t,e){if(be(e))return t.value=null,t.children.clear(),!0;if(null!==t.value){if(t.value.isLeafNode())return!1;var n=t.value;return t.value=null,n.forEachChild(fn,(function(e,n){tr(t,new le(e),n)})),er(t,e)}if(t.children.size>0){var r=he(e);if(e=de(e),t.children.has(r)){var i=er(t.children.get(r),e);i&&t.children.delete(r)}return 0===t.children.size}return!0}function nr(t,e,n){null!==t.value?n(e,t.value):rr(t,(function(t,r){var i=new le(e.toString()+"/"+t);nr(r,i,n)}))}function rr(t,e){t.children.forEach((function(t,n){e(n,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir,or=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=(0,a.__assign)({},t);return this.last_&&U(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),ar=1e4,sr=3e4,ur=3e5,cr=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new or(t);var n=ar+(sr-ar)*Math.random();Q(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;U(e,(function(e,i){i>0&&(0,o.contains)(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Q(this.reportStats_.bind(this),Math.floor(2*Math.random()*ur))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lr(t,e){t.statsToReport_[e]=!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function hr(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function pr(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["OVERWRITE"]=0]="OVERWRITE",t[t["MERGE"]=1]="MERGE",t[t["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",t[t["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(ir||(ir={}));var dr,vr=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=ir.ACK_USER_WRITE,this.source=fr()}return t.prototype.operationForChild=function(e){if(be(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new le(e));return new t(fe(),n,this.revert)}return(0,o.assert)(he(this.path)===e,"operationForChild called for unrelated child."),new t(de(this.path),this.affectedTree,this.revert)},t}(),gr=function(){function t(t,e){this.source=t,this.path=e,this.type=ir.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return be(this.path)?new t(this.source,fe()):new t(this.source,de(this.path))},t}(),mr=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=ir.OVERWRITE}return t.prototype.operationForChild=function(e){return be(this.path)?new t(this.source,fe(),this.snap.getImmediateChild(e)):new t(this.source,de(this.path),this.snap)},t}(),yr=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=ir.MERGE}return t.prototype.operationForChild=function(e){if(be(this.path)){var n=this.children.subtree(new le(e));return n.isEmpty()?null:n.value?new mr(this.source,fe(),n.value):new t(this.source,fe(),n)}return(0,o.assert)(he(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,de(this.path),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),_r=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(be(t))return this.isFullyInitialized()&&!this.filtered_;var e=he(t);return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),br=function(){function t(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}return t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(t,e,n,r){var i=[],o=[];return e.forEach((function(e){"child_changed"===e.type&&t.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(Mn(e.childName,e.snapshotNode))})),Er(t,i,"child_removed",e,r,n),Er(t,i,"child_added",e,r,n),Er(t,i,"child_moved",o,r,n),Er(t,i,"child_changed",e,r,n),Er(t,i,"value",e,r,n),i}function Er(t,e,n,r,i,o){var a=r.filter((function(t){return t.type===n}));a.sort((function(e,n){return Tr(t,e,n)})),a.forEach((function(n){var r=Ir(t,n,o);i.forEach((function(i){i.respondsTo(n.type)&&e.push(i.createEvent(r,t.query_))}))}))}function Ir(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Tr(t,e,n){if(null==e.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new Be(e.childName,e.snapshotNode),i=new Be(n.childName,n.snapshotNode);return t.index_.compare(r,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(t,e){return{eventCache:t,serverCache:e}}function Cr(t,e,n,r){return kr(new _r(e,n,r),t.serverCache)}function Sr(t,e,n,r){return kr(t.eventCache,new _r(e,n,r))}function Ar(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function xr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nr=function(){return dr||(dr=new Ye(L)),dr},Or=function(){function t(t,e){void 0===e&&(e=Nr()),this.value=t,this.children=e}return t.fromObject=function(e){var n=new t(null);return U(e,(function(t,e){n=n.set(new le(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:fe(),value:this.value};if(be(t))return null;var n=he(t),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(de(t),e);if(null!=i){var o=_e(new le(n),i.path);return{path:o,value:i.value}}return null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(be(e))return this;var n=he(e),r=this.children.get(n);return null!==r?r.subtree(de(e)):new t(null)},t.prototype.set=function(e,n){if(be(e))return new t(n,this.children);var r=he(e),i=this.children.get(r)||new t(null),o=i.set(de(e),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(be(e))return this.children.isEmpty()?new t(null):new t(null,this.children);var n=he(e),r=this.children.get(n);if(r){var i=r.remove(de(e)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new t(null):new t(this.value,o)}return this},t.prototype.get=function(t){if(be(t))return this.value;var e=he(t),n=this.children.get(e);return n?n.get(de(t)):null},t.prototype.setTree=function(e,n){if(be(e))return n;var r=he(e),i=this.children.get(r)||new t(null),o=i.setTree(de(e),n),a=void 0;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(t){return this.fold_(fe(),t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(_e(t,r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,fe(),e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(be(t))return null;var i=he(t),o=this.children.get(i);return o?o.findOnPath_(de(t),_e(e,i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,fe(),e)},t.prototype.foreachOnPath_=function(e,n,r){if(be(e))return this;this.value&&r(n,this.value);var i=he(e),o=this.children.get(i);return o?o.foreachOnPath_(de(e),_e(n,i),r):new t(null)},t.prototype.foreach=function(t){this.foreach_(fe(),t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(_e(t,n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t}(),Rr=function(){function t(t){this.writeTree_=t}return t.empty=function(){return new t(new Or(null))},t}();function Pr(t,e,n){if(be(e))return new Rr(new Or(n));var r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=we(i,e);return o=o.updateChild(a,n),new Rr(t.writeTree_.set(i,o))}var s=new Or(n),u=t.writeTree_.setTree(e,s);return new Rr(u)}function Dr(t,e,n){var r=t;return U(n,(function(t,n){r=Pr(r,_e(e,t),n)})),r}function Lr(t,e){if(be(e))return Rr.empty();var n=t.writeTree_.setTree(e,new Or(null));return new Rr(n)}function Mr(t,e){return null!=jr(t,e)}function jr(t,e){var n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(we(n.path,e)):null}function Fr(t){var e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(fn,(function(t,n){e.push(new Be(t,n))})):t.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new Be(t,n.value))})),e}function Ur(t,e){if(be(e))return t;var n=jr(t,e);return new Rr(null!=n?new Or(n):t.writeTree_.subtree(e))}function qr(t){return t.writeTree_.isEmpty()}function Vr(t,e){return Br(fe(),t.writeTree_,e)}function Br(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);var r=null;return e.children.inorderTraversal((function(e,i){".priority"===e?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Br(_e(t,e),i,n)})),n.getChild(t).isEmpty()||null===r||(n=n.updateChild(_e(t,".priority"),r)),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){return hi(e,t)}function zr(t,e,n,r,i){(0,o.assert)(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Pr(t.visibleWrites,e,n)),t.lastWriteId=r}function Hr(t,e,n,r){(0,o.assert)(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Dr(t.visibleWrites,e,n),t.lastWriteId=r}function Wr(t,e){for(var n=0;n<t.allWrites.length;n++){var r=t.allWrites[n];if(r.writeId===e)return r}return null}function Gr(t,e){var n=t.allWrites.findIndex((function(t){return t.writeId===e}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=t.allWrites[n];t.allWrites.splice(n,1);var i=r.visible,a=!1,s=t.allWrites.length-1;while(i&&s>=0){var u=t.allWrites[s];u.visible&&(s>=n&&$r(u,r.path)?i=!1:Te(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return Yr(t),!0;if(r.snap)t.visibleWrites=Lr(t.visibleWrites,r.path);else{var c=r.children;U(c,(function(e){t.visibleWrites=Lr(t.visibleWrites,_e(r.path,e))}))}return!0}return!1}function $r(t,e){if(t.snap)return Te(t.path,e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&Te(_e(t.path,n),e))return!0;return!1}function Yr(t){t.visibleWrites=Xr(t.allWrites,Qr,fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Qr(t){return t.visible}function Xr(t,e,n){for(var r=Rr.empty(),i=0;i<t.length;++i){var a=t[i];if(e(a)){var s=a.path,u=void 0;if(a.snap)Te(n,s)?(u=we(n,s),r=Pr(r,u,a.snap)):Te(s,n)&&(u=we(s,n),r=Pr(r,fe(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(Te(n,s))u=we(n,s),r=Dr(r,u,a.children);else if(Te(s,n))if(u=we(s,n),be(u))r=Dr(r,fe(),a.children);else{var c=(0,o.safeGet)(a.children,he(u));if(c){var l=c.getChild(de(u));r=Pr(r,fe(),l)}}}}}return r}function Jr(t,e,n,r,i){if(r||i){var o=Ur(t.visibleWrites,e);if(!i&&qr(o))return n;if(i||null!=n||Mr(o,fe())){var a=function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(Te(t.path,e)||Te(e,t.path))},s=Xr(t.allWrites,a,e);l=n||mn.EMPTY_NODE;return Vr(s,l)}return null}var u=jr(t.visibleWrites,e);if(null!=u)return u;var c=Ur(t.visibleWrites,e);if(qr(c))return n;if(null!=n||Mr(c,fe())){var l=n||mn.EMPTY_NODE;return Vr(c,l)}return null}function Zr(t,e,n){var r=mn.EMPTY_NODE,i=jr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(fn,(function(t,e){r=r.updateImmediateChild(t,e)})),r;if(n){var o=Ur(t.visibleWrites,e);return n.forEachChild(fn,(function(t,e){var n=Vr(Ur(o,new le(t)),e);r=r.updateImmediateChild(t,n)})),Fr(o).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}var a=Ur(t.visibleWrites,e);return Fr(a).forEach((function(t){r=r.updateImmediateChild(t.name,t.node)})),r}function ti(t,e,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=_e(e,n);if(Mr(t.visibleWrites,a))return null;var s=Ur(t.visibleWrites,a);return qr(s)?i.getChild(n):Vr(s,i.getChild(n))}function ei(t,e,n,r){var i=_e(e,n),o=jr(t.visibleWrites,i);if(null!=o)return o;if(r.isCompleteForChild(n)){var a=Ur(t.visibleWrites,i);return Vr(a,r.getNode().getImmediateChild(n))}return null}function ni(t,e){return jr(t.visibleWrites,e)}function ri(t,e,n,r,i,o,a){var s,u=Ur(t.visibleWrites,e),c=jr(u,fe());if(null!=c)s=c;else{if(null==n)return[];s=Vr(u,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),p=h.getNext();while(p&&l.length<i)0!==f(p,r)&&l.push(p),p=h.getNext();return l}function ii(){return{visibleWrites:Rr.empty(),allWrites:[],lastWriteId:-1}}function oi(t,e,n,r){return Jr(t.writeTree,t.treePath,e,n,r)}function ai(t,e){return Zr(t.writeTree,t.treePath,e)}function si(t,e,n,r){return ti(t.writeTree,t.treePath,e,n,r)}function ui(t,e){return ni(t.writeTree,_e(t.treePath,e))}function ci(t,e,n,r,i,o){return ri(t.writeTree,t.treePath,e,n,r,i,o)}function li(t,e,n){return ei(t.writeTree,t.treePath,e,n)}function fi(t,e){return hi(_e(t.treePath,e),t.writeTree)}function hi(t,e){return{treePath:t,writeTree:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pi=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;(0,o.assert)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===e&&"child_removed"===i)this.changeMap.set(n,Ln(n,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===e&&"child_changed"===i)this.changeMap.set(n,Dn(n,r.oldSnap));else if("child_changed"===e&&"child_added"===i)this.changeMap.set(n,Pn(n,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Ln(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),di=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}(),vi=new di,gi=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new _r(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return li(this.writes_,t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:xr(this.viewCache_),i=ci(this.writes_,r,e,1,n,t);return 0===i.length?null:i[0]},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function mi(t){return{filter:t}}function yi(t,e){(0,o.assert)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function _i(t,e,n,r,i){var a,s,u=new pi;if(n.type===ir.OVERWRITE){var c=n;c.source.fromUser?a=Ii(t,e,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.serverCache.isFiltered()&&!be(c.path),a=Ei(t,e,c.path,c.snap,r,i,s,u))}else if(n.type===ir.MERGE){var l=n;l.source.fromUser?a=ki(t,e,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.serverCache.isFiltered(),a=Si(t,e,l.path,l.children,r,i,s,u))}else if(n.type===ir.ACK_USER_WRITE){var f=n;a=f.revert?Ni(t,e,f.path,r,i,u):Ai(t,e,f.path,f.affectedTree,r,i,u)}else{if(n.type!==ir.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=xi(t,e,n.path,r,u)}var h=u.getChanges();return bi(e,a,h),{viewCache:a,changes:h}}function bi(t,e,n){var r=e.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Ar(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Rn(Ar(e)))}}function wi(t,e,n,r,i,a){var s=e.eventCache;if(null!=ui(r,n))return e;var u=void 0,c=void 0;if(be(n))if((0,o.assert)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){var l=xr(e),f=l instanceof mn?l:mn.EMPTY_NODE,h=ai(r,f);u=t.filter.updateFullNode(e.eventCache.getNode(),h,a)}else{var p=oi(r,xr(e));u=t.filter.updateFullNode(e.eventCache.getNode(),p,a)}else{var d=he(n);if(".priority"===d){(0,o.assert)(1===pe(n),"Can't have a priority with additional path components");var v=s.getNode();c=e.serverCache.getNode();var g=si(r,n,v,c);u=null!=g?t.filter.updatePriority(v,g):s.getNode()}else{var m=de(n),y=void 0;if(s.isCompleteForChild(d)){c=e.serverCache.getNode();var _=si(r,n,s.getNode(),c);y=null!=_?s.getNode().getImmediateChild(d).updateChild(m,_):s.getNode().getImmediateChild(d)}else y=li(r,d,e.serverCache);u=null!=y?t.filter.updateChild(s.getNode(),d,y,m,i,a):s.getNode()}}return Cr(e,u,s.isFullyInitialized()||be(n),t.filter.filtersNodes())}function Ei(t,e,n,r,i,o,a,s){var u,c=e.serverCache,l=a?t.filter:t.filter.getIndexedFilter();if(be(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=he(n);if(!c.isCompleteForPath(n)&&pe(n)>1)return e;var p=de(n),d=c.getNode().getImmediateChild(h),v=d.updateChild(p,r);u=".priority"===h?l.updatePriority(c.getNode(),v):l.updateChild(c.getNode(),h,v,p,vi,null)}var g=Sr(e,u,c.isFullyInitialized()||be(n),l.filtersNodes()),m=new gi(i,g,o);return wi(t,g,n,i,m,s)}function Ii(t,e,n,r,i,o,a){var s,u,c=e.eventCache,l=new gi(i,e,o);if(be(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,a),s=Cr(e,u,!0,t.filter.filtersNodes());else{var f=he(n);if(".priority"===f)u=t.filter.updatePriority(e.eventCache.getNode(),r),s=Cr(e,u,c.isFullyInitialized(),c.isFiltered());else{var h=de(n),p=c.getNode().getImmediateChild(f),d=void 0;if(be(h))d=r;else{var v=l.getCompleteChild(f);d=null!=v?".priority"===ve(h)&&v.getChild(ye(h)).isEmpty()?v:v.updateChild(h,r):mn.EMPTY_NODE}if(p.equals(d))s=e;else{var g=t.filter.updateChild(c.getNode(),f,d,h,l,a);s=Cr(e,g,c.isFullyInitialized(),t.filter.filtersNodes())}}}return s}function Ti(t,e){return t.eventCache.isCompleteForChild(e)}function ki(t,e,n,r,i,o,a){var s=e;return r.foreach((function(r,u){var c=_e(n,r);Ti(e,he(c))&&(s=Ii(t,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=_e(n,r);Ti(e,he(c))||(s=Ii(t,s,c,u,i,o,a))})),s}function Ci(t,e,n){return n.foreach((function(t,n){e=e.updateChild(t,n)})),e}function Si(t,e,n,r,i,o,a,s){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;var u,c=e;u=be(n)?r:new Or(null).setTree(n,r);var l=e.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=e.serverCache.getNode().getImmediateChild(n),f=Ci(t,u,r);c=Ei(t,c,new le(n),f,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!e.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=e.serverCache.getNode().getImmediateChild(n),h=Ci(t,f,r);c=Ei(t,c,new le(n),h,i,o,a,s)}})),c}function Ai(t,e,n,r,i,o,a){if(null!=ui(i,n))return e;var s=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(be(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Ei(t,e,n,u.getNode().getChild(n),i,o,s,a);if(be(n)){var c=new Or(null);return u.getNode().forEachChild(He,(function(t,e){c=c.set(new le(t),e)})),Si(t,e,n,c,i,o,s,a)}return e}var l=new Or(null);return r.foreach((function(t,e){var r=_e(n,t);u.isCompleteForPath(r)&&(l=l.set(t,u.getNode().getChild(r)))})),Si(t,e,n,l,i,o,s,a)}function xi(t,e,n,r,i){var o=e.serverCache,a=Sr(e,o.getNode(),o.isFullyInitialized()||be(n),o.isFiltered());return wi(t,a,n,r,vi,i)}function Ni(t,e,n,r,i,a){var s;if(null!=ui(r,n))return e;var u=new gi(r,e,i),c=e.eventCache.getNode(),l=void 0;if(be(n)||".priority"===he(n)){var f=void 0;if(e.serverCache.isFullyInitialized())f=oi(r,xr(e));else{var h=e.serverCache.getNode();(0,o.assert)(h instanceof mn,"serverChildren would be complete if leaf node"),f=ai(r,h)}f=f,l=t.filter.updateFullNode(c,f,a)}else{var p=he(n),d=li(r,p,e.serverCache);null==d&&e.serverCache.isCompleteForChild(p)&&(d=c.getImmediateChild(p)),l=null!=d?t.filter.updateChild(c,p,d,de(n),u,a):e.eventCache.getNode().hasChild(p)?t.filter.updateChild(c,p,mn.EMPTY_NODE,de(n),u,a):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=oi(r,xr(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,a)))}return s=e.serverCache.isFullyInitialized()||null!=ui(r,fe()),Cr(e,l,s,t.filter.filtersNodes())}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oi,Ri=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new jn(n.getIndex()),i=Vn(n);this.processor_=mi(i);var o=e.serverCache,a=e.eventCache,s=r.updateFullNode(mn.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(mn.EMPTY_NODE,a.getNode(),null),c=new _r(s,o.isFullyInitialized(),r.filtersNodes()),l=new _r(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=kr(l,c),this.eventGenerator_=new br(this.query_)}return Object.defineProperty(t.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),t}();function Pi(t){return t.viewCache_.serverCache.getNode()}function Di(t){return Ar(t.viewCache_)}function Li(t,e){var n=xr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!be(e)&&!n.getImmediateChild(he(e)).isEmpty())?n.getChild(e):null}function Mi(t){return 0===t.eventRegistrations_.length}function ji(t,e){t.eventRegistrations_.push(e)}function Fi(t,e,n){var r=[];if(n){(0,o.assert)(null==e,"A cancel should cancel all event registrations.");var i=t.query._path;t.eventRegistrations_.forEach((function(t){var e=t.createCancelEvent(n,i);e&&r.push(e)}))}if(e){for(var a=[],s=0;s<t.eventRegistrations_.length;++s){var u=t.eventRegistrations_[s];if(u.matches(e)){if(e.hasAnyCallback()){a=a.concat(t.eventRegistrations_.slice(s+1));break}}else a.push(u)}t.eventRegistrations_=a}else t.eventRegistrations_=[];return r}function Ui(t,e,n,r){e.type===ir.MERGE&&null!==e.source.queryId&&((0,o.assert)(xr(t.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(Ar(t.viewCache_),"Missing event cache, even though we have a server cache"));var i=t.viewCache_,a=_i(t.processor_,i,e,n,r);return yi(t.processor_,a.viewCache),(0,o.assert)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,Vi(t,a.changes,a.viewCache.eventCache.getNode(),null)}function qi(t,e){var n=t.viewCache_.eventCache,r=[];if(!n.getNode().isLeafNode()){var i=n.getNode();i.forEachChild(fn,(function(t,e){r.push(Pn(t,e))}))}return n.isFullyInitialized()&&r.push(Rn(n.getNode())),Vi(t,r,n.getNode(),e)}function Vi(t,e,n,r){var i=r?[r]:t.eventRegistrations_;return wr(t.eventGenerator_,e,n,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi,Ki=function(){function t(){this.views=new Map}return t}();function zi(t){(0,o.assert)(!Oi,"__referenceConstructor has already been defined"),Oi=t}function Hi(){return(0,o.assert)(Oi,"Reference.ts has not been loaded"),Oi}function Wi(t){return 0===t.views.size}function Gi(t,e,n,r){var i,s,u=e.source.queryId;if(null!==u){var c=t.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Ui(c,e,n,r)}var l=[];try{for(var f=(0,a.__values)(t.views.values()),h=f.next();!h.done;h=f.next()){c=h.value;l=l.concat(Ui(c,e,n,r))}}catch(p){i={error:p}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return l}function $i(t,e,n,r,i){var o=e._queryIdentifier,a=t.views.get(o);if(!a){var s=oi(n,i?r:null),u=!1;s?u=!0:r instanceof mn?(s=ai(n,r),u=!1):(s=mn.EMPTY_NODE,u=!1);var c=kr(new _r(s,u,!1),new _r(r,i,!1));return new Ri(e,c)}return a}function Yi(t,e,n,r,i,o){var a=$i(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),ji(a,n),qi(a,n)}function Qi(t,e,n,r){var i,o,s=e._queryIdentifier,u=[],c=[],l=eo(t);if("default"===s)try{for(var f=(0,a.__values)(t.views.entries()),h=f.next();!h.done;h=f.next()){var p=(0,a.__read)(h.value,2),d=p[0],v=p[1];c=c.concat(Fi(v,n,r)),Mi(v)&&(t.views.delete(d),v.query._queryParams.loadsAllData()||u.push(v.query))}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}else{v=t.views.get(s);v&&(c=c.concat(Fi(v,n,r)),Mi(v)&&(t.views.delete(s),v.query._queryParams.loadsAllData()||u.push(v.query)))}return l&&!eo(t)&&u.push(new(Hi())(e._repo,e._path)),{removed:u,events:c}}function Xi(t){var e,n,r=[];try{for(var i=(0,a.__values)(t.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Ji(t,e){var n,r,i=null;try{for(var o=(0,a.__values)(t.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Li(u,e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Zi(t,e){var n=e._queryParams;if(n.loadsAllData())return no(t);var r=e._queryIdentifier;return t.views.get(r)}function to(t,e){return null!=Zi(t,e)}function eo(t){return null!=no(t)}function no(t){var e,n;try{for(var r=(0,a.__values)(t.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){(0,o.assert)(!Bi,"__referenceConstructor has already been defined"),Bi=t}function io(){return(0,o.assert)(Bi,"Reference.ts has not been loaded"),Bi}var oo=1,ao=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=new Or(null),this.pendingWriteTree_=ii(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t}();function so(t,e,n,r,i){return zr(t.pendingWriteTree_,e,n,r,i),i?wo(t,new mr(fr(),e,n)):[]}function uo(t,e,n,r){Hr(t.pendingWriteTree_,e,n,r);var i=Or.fromObject(n);return wo(t,new yr(fr(),e,i))}function co(t,e,n){void 0===n&&(n=!1);var r=Wr(t.pendingWriteTree_,e),i=Gr(t.pendingWriteTree_,e);if(i){var o=new Or(null);return null!=r.snap?o=o.set(fe(),!0):U(r.children,(function(t){o=o.set(new le(t),!0)})),wo(t,new vr(r.path,o,n))}return[]}function lo(t,e,n){return wo(t,new mr(hr(),e,n))}function fo(t,e,n){var r=Or.fromObject(n);return wo(t,new yr(hr(),e,r))}function ho(t,e){return wo(t,new gr(hr(),e))}function po(t,e,n){var r=So(t,n);if(r){var i=Ao(r),o=i.path,a=i.queryId,s=we(o,e),u=new gr(pr(a),s);return xo(t,o,u)}return[]}function vo(t,e,n,r){var i=e._path,o=t.syncPointTree_.get(i),a=[];if(o&&("default"===e._queryIdentifier||to(o,e))){var s=Qi(o,e,n,r);Wi(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(t){return t._queryParams.loadsAllData()})),l=t.syncPointTree_.findOnPath(i,(function(t,e){return eo(e)}));if(c&&!l){var f=t.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=No(f),p=0;p<h.length;++p){var d=h[p],v=d.query,g=To(t,d);t.listenProvider_.startListening(Oo(v),ko(t,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){var m=null;t.listenProvider_.stopListening(Oo(e),m)}else u.forEach((function(e){var n=t.queryToTagMap.get(Co(e));t.listenProvider_.stopListening(Oo(e),n)}));Ro(t,u)}return a}function go(t,e,n,r){var i=So(t,r);if(null!=i){var o=Ao(i),a=o.path,s=o.queryId,u=we(a,e),c=new mr(pr(s),u,n);return xo(t,a,c)}return[]}function mo(t,e,n,r){var i=So(t,r);if(i){var o=Ao(i),a=o.path,s=o.queryId,u=we(a,e),c=Or.fromObject(n),l=new yr(pr(s),u,c);return xo(t,a,l)}return[]}function yo(t,e,n){var r=e._path,i=null,a=!1;t.syncPointTree_.foreachOnPath(r,(function(t,e){var n=we(t,r);i=i||Ji(e,n),a=a||eo(e)}));var s,u=t.syncPointTree_.get(r);if(u?(a=a||eo(u),i=i||Ji(u,fe())):(u=new Ki,t.syncPointTree_=t.syncPointTree_.set(r,u)),null!=i)s=!0;else{s=!1,i=mn.EMPTY_NODE;var c=t.syncPointTree_.subtree(r);c.foreachChild((function(t,e){var n=Ji(e,fe());n&&(i=i.updateImmediateChild(t,n))}))}var l=to(u,e);if(!l&&!e._queryParams.loadsAllData()){var f=Co(e);(0,o.assert)(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");var h=Po();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}var p=Kr(t.pendingWriteTree_,r),d=Yi(u,e,n,p,i,s);if(!l&&!a){var v=Zi(u,e);d=d.concat(Do(t,e,v))}return d}function _o(t,e,n){var r=!0,i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(function(t,n){var r=we(t,e),i=Ji(n,r);if(i)return i}));return Jr(i,e,o,n,r)}function bo(t,e){var n=e._path,r=null;t.syncPointTree_.foreachOnPath(n,(function(t,e){var i=we(t,n);r=r||Ji(e,i)}));var i=t.syncPointTree_.get(n);i?r=r||Ji(i,fe()):(i=new Ki,t.syncPointTree_=t.syncPointTree_.set(n,i));var o=null!=r,a=o?new _r(r,!0,!1):null,s=Kr(t.pendingWriteTree_,e._path),u=$i(i,e,s,o?a.getNode():mn.EMPTY_NODE,o);return Di(u)}function wo(t,e){return Eo(e,t.syncPointTree_,null,Kr(t.pendingWriteTree_,fe()))}function Eo(t,e,n,r){if(be(t.path))return Io(t,e,n,r);var i=e.get(fe());null==n&&null!=i&&(n=Ji(i,fe()));var o=[],a=he(t.path),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=fi(r,a);o=o.concat(Eo(s,u,c,l))}return i&&(o=o.concat(Gi(i,t,r,n))),o}function Io(t,e,n,r){var i=e.get(fe());null==n&&null!=i&&(n=Ji(i,fe()));var o=[];return e.children.inorderTraversal((function(e,i){var a=n?n.getImmediateChild(e):null,s=fi(r,e),u=t.operationForChild(e);u&&(o=o.concat(Io(u,i,a,s)))})),i&&(o=o.concat(Gi(i,t,r,n))),o}function To(t,e){var n=e.query,r=ko(t,n);return{hashFn:function(){var t=Pi(e)||mn.EMPTY_NODE;return t.hash()},onComplete:function(e){if("ok"===e)return r?po(t,n._path,r):ho(t,n._path);var i=K(e,n);return vo(t,n,null,i)}}}function ko(t,e){var n=Co(e);return t.queryToTagMap.get(n)}function Co(t){return t._path.toString()+"$"+t._queryIdentifier}function So(t,e){return t.tagToQueryMap.get(e)}function Ao(t){var e=t.indexOf("$");return(0,o.assert)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new le(t.substr(0,e))}}function xo(t,e,n){var r=t.syncPointTree_.get(e);(0,o.assert)(r,"Missing sync point for query tag that we're tracking");var i=Kr(t.pendingWriteTree_,e);return Gi(r,n,i,null)}function No(t){return t.fold((function(t,e,n){if(e&&eo(e)){var r=no(e);return[r]}var i=[];return e&&(i=Xi(e)),U(n,(function(t,e){i=i.concat(e)})),i}))}function Oo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(io())(t._repo,t._path):t}function Ro(t,e){for(var n=0;n<e.length;++n){var r=e[n];if(!r._queryParams.loadsAllData()){var i=Co(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function Po(){return oo++}function Do(t,e,n){var r=e._path,i=ko(t,e),a=To(t,n),s=t.listenProvider_.startListening(Oo(e),i,a.hashFn,a.onComplete),u=t.syncPointTree_.subtree(r);if(i)(0,o.assert)(!eo(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(t,e,n){if(!be(t)&&e&&eo(e))return[no(e).query];var r=[];return e&&(r=r.concat(Xi(e).map((function(t){return t.query})))),U(n,(function(t,e){r=r.concat(e)})),r})),l=0;l<c.length;++l){var f=c[l];t.listenProvider_.stopListening(Oo(f),ko(t,f))}return s}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lo=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){var n=this.node_.getImmediateChild(e);return new t(n)},t.prototype.node=function(){return this.node_},t}(),Mo=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=_e(this.path_,e);return new t(this.syncTree_,n)},t.prototype.node=function(){return _o(this.syncTree_,this.path_)},t}(),jo=function(t){return t=t||{},t["timestamp"]=t["timestamp"]||(new Date).getTime(),t},Fo=function(t,e,n){return t&&"object"===typeof t?((0,o.assert)(".sv"in t,"Unexpected leaf node or priority contents"),"string"===typeof t[".sv"]?Uo(t[".sv"],e,n):"object"===typeof t[".sv"]?qo(t[".sv"],e):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Uo=function(t,e,n){switch(t){case"timestamp":return n["timestamp"];default:(0,o.assert)(!1,"Unexpected server value: "+t)}},qo=function(t,e,n){t.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t["increment"];"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=e.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i,s=a.getValue();return"number"!==typeof s?r:s+r},Vo=function(t,e,n,r){return Ko(e,new Mo(n,t),r)},Bo=function(t,e,n){return Ko(t,new Lo(e),n)};function Ko(t,e,n){var r,i=t.getPriority().val(),o=Fo(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var a=t,s=Fo(a.getValue(),e,n);return s!==a.getValue()||o!==a.getPriority().val()?new on(s,wn(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new on(o))),u.forEachChild(fn,(function(t,i){var o=Ko(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zo=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n={children:{},childCount:0}),this.name=t,this.parent=e,this.node=n}return t}();function Ho(t,e){var n=e instanceof le?e:new le(e),r=t,i=he(n);while(null!==i){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new zo(i,r,a),n=de(n),i=he(n)}return r}function Wo(t){return t.node.value}function Go(t,e){t.node.value=e,ta(t)}function $o(t){return t.node.childCount>0}function Yo(t){return void 0===Wo(t)&&!$o(t)}function Qo(t,e){U(t.node.children,(function(n,r){e(new zo(n,t,r))}))}function Xo(t,e,n,r){n&&!r&&e(t),Qo(t,(function(t){Xo(t,e,!0,r)})),n&&r&&e(t)}function Jo(t,e,n){var r=n?t:t.parent;while(null!==r){if(e(r))return!0;r=r.parent}return!1}function Zo(t){return new le(null===t.parent?t.name:Zo(t.parent)+"/"+t.name)}function ta(t){null!==t.parent&&ea(t.parent,t.name,t)}function ea(t,e,n){var r=Yo(n),i=(0,o.contains)(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,ta(t)):r||i||(t.node.children[e]=n.node,t.node.childCount++,ta(t))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var na=/[\[\].#$\/\u0000-\u001F\u007F]/,ra=/[\[\].#$\u0000-\u001F\u007F]/,ia=10485760,oa=function(t){return"string"===typeof t&&0!==t.length&&!na.test(t)},aa=function(t){return"string"===typeof t&&0!==t.length&&!ra.test(t)},sa=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),aa(t)},ua=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!N(t)||t&&"object"===typeof t&&(0,o.contains)(t,".sv")},ca=function(t,e,n,r){r&&void 0===e||la((0,o.errorPrefix)(t,"value"),e,n)},la=function(t,e,n){var r=n instanceof le?new ke(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+xe(r));if("function"===typeof e)throw new Error(t+"contains a function "+xe(r)+" with contents = "+e.toString());if(N(e))throw new Error(t+"contains "+e.toString()+" "+xe(r));if("string"===typeof e&&e.length>ia/3&&(0,o.stringLength)(e)>ia)throw new Error(t+"contains a string greater than "+ia+" utf8 bytes "+xe(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"===typeof e){var i=!1,a=!1;if(U(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(a=!0,!oa(e)))throw new Error(t+" contains an invalid key ("+e+") "+xe(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');Ce(r,e),la(t,n,r),Se(r)})),i&&a)throw new Error(t+' contains ".value" child '+xe(r)+" in addition to actual children.")}},fa=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=me(r),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!oa(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(Ee);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&Te(a,r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},ha=function(t,e,n,r){if(!r||void 0!==e){var i=(0,o.errorPrefix)(t,"values");if(!e||"object"!==typeof e||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");var a=[];U(e,(function(t,e){var r=new le(t);if(la(i,e,_e(n,r)),".priority"===ve(r)&&!ua(e))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),fa(i,a)}},pa=function(t,e,n){if(!n||void 0!==e){if(N(e))throw new Error((0,o.errorPrefix)(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ua(e))throw new Error((0,o.errorPrefix)(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},da=function(t,e,n){if(!n||void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},va=function(t,e,n,r){if((!r||void 0!==n)&&!oa(n))throw new Error((0,o.errorPrefix)(t,e)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},ga=function(t,e,n,r){if((!r||void 0!==n)&&!aa(n))throw new Error((0,o.errorPrefix)(t,e)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ma=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ga(t,e,n,r)},ya=function(t,e){if(".info"===he(e))throw new Error(t+" failed = Can't modify data under /.info/")},_a=function(t,e){var n=e.path.toString();if("string"!==typeof e.repoInfo.host||0===e.repoInfo.host.length||!oa(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!sa(n))throw new Error((0,o.errorPrefix)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ba=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(t,e)+"must be a boolean.")},wa=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t}();function Ea(t,e){for(var n=null,r=0;r<e.length;r++){var i=e[r],o=i.getPath();null===n||Ie(o,n.path)||(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function Ia(t,e,n){Ea(t,n),ka(t,(function(t){return Ie(t,e)}))}function Ta(t,e,n){Ea(t,n),ka(t,(function(t){return Te(t,e)||Te(e,t)}))}function ka(t,e){t.recursionDepth_++;for(var n=!0,r=0;r<t.eventLists_.length;r++){var i=t.eventLists_[r];if(i){var o=i.path;e(o)?(Ca(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Ca(t){for(var e=0;e<t.events.length;e++){var n=t.events[e];if(null!==n){t.events[e]=null;var r=n.getEventRunner();w&&T("event: "+n.toString()),$(r)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sa="repo_interrupt",Aa=25,xa=function(){function t(t,e,n,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new wa,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Zn(),this.transactionQueueTree_=new zo,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t}();function Na(t,e,n){if(t.stats_=mt(t.repoInfo_),t.forceRestClient_||Y())t.server_=new Xn(t.repoInfo_,(function(e,n,r,i){Pa(t,e,n,r,i)}),t.authTokenProvider_,t.appCheckProvider_),setTimeout((function(){return La(t,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ve(t.repoInfo_,e,(function(e,n,r,i){Pa(t,e,n,r,i)}),(function(e){La(t,e)}),(function(e){Ma(t,e)}),t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener((function(e){t.server_.refreshAuthToken(e)})),t.appCheckProvider_.addTokenChangeListener((function(e){t.server_.refreshAppCheckToken(e.token)})),t.statsReporter_=yt(t.repoInfo_,(function(){return new cr(t.stats_,t.server_)})),t.infoData_=new Jn,t.infoSyncTree_=new ao({startListening:function(e,n,r,i){var o=[],a=t.infoData_.getNode(e._path);return a.isEmpty()||(o=lo(t.infoSyncTree_,e._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),ja(t,"connected",!1),t.serverSyncTree_=new ao({startListening:function(e,n,r,i){return t.server_.listen(e,r,n,(function(n,r){var o=i(n,r);Ta(t.eventQueue_,e._path,o)})),[]},stopListening:function(e,n){t.server_.unlisten(e,n)}})}function Oa(t){var e=t.infoData_.getNode(new le(".info/serverTimeOffset")),n=e.val()||0;return(new Date).getTime()+n}function Ra(t){return jo({timestamp:Oa(t)})}function Pa(t,e,n,r,i){t.dataUpdateCount++;var a=new le(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(t){return wn(t)}));s=mo(t.serverSyncTree_,a,u,i)}else{var c=wn(n);s=go(t.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(t){return wn(t)}));s=fo(t.serverSyncTree_,a,l)}else{var f=wn(n);s=lo(t.serverSyncTree_,a,f)}var h=a;s.length>0&&(h=os(t,a)),Ta(t.eventQueue_,h,s)}function Da(t,e){t.interceptServerDataCallback_=e}function La(t,e){ja(t,"connected",e),!1===e&&Ba(t)}function Ma(t,e){U(e,(function(e,n){ja(t,e,n)}))}function ja(t,e,n){var r=new le("/.info/"+e),i=wn(n);t.infoData_.updateSnapshot(r,i);var o=lo(t.infoSyncTree_,r,i);Ta(t.eventQueue_,r,o)}function Fa(t){return t.nextWriteId_++}function Ua(t,e){var n=bo(t.serverSyncTree_,e);return null!=n?Promise.resolve(n):t.server_.get(e).then((function(n){var r=wn(n).withIndex(e._queryParams.getIndex()),i=lo(t.serverSyncTree_,e._path,r);return Ia(t.eventQueue_,e._path,i),Promise.resolve(r)}),(function(n){return Za(t,"get for query "+(0,o.stringify)(e)+" failed: "+n),Promise.reject(new Error(n))}))}function qa(t,e,n,r,i){Za(t,"set",{path:e.toString(),value:n,priority:r});var o=Ra(t),a=wn(n,r),s=_o(t.serverSyncTree_,e),u=Bo(a,s,o),c=Fa(t),l=so(t.serverSyncTree_,e,u,c,!0);Ea(t.eventQueue_,l),t.server_.put(e.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||A("set at "+e+" failed: "+n);var a=co(t.serverSyncTree_,c,!o);Ta(t.eventQueue_,e,a),ts(t,i,n,r)}));var f=fs(t,e);os(t,f),Ta(t.eventQueue_,f,[])}function Va(t,e,n,r){Za(t,"update",{path:e.toString(),value:n});var i=!0,o=Ra(t),a={};if(U(n,(function(n,r){i=!1,a[n]=Vo(_e(e,n),wn(r),t.serverSyncTree_,o)})),i)T("update() called with empty data.  Don't do anything."),ts(t,r,"ok",void 0);else{var s=Fa(t),u=uo(t.serverSyncTree_,e,a,s);Ea(t.eventQueue_,u),t.server_.merge(e.toString(),n,(function(n,i){var o="ok"===n;o||A("update at "+e+" failed: "+n);var a=co(t.serverSyncTree_,s,!o),u=a.length>0?os(t,e):e;Ta(t.eventQueue_,u,a),ts(t,r,n,i)})),U(n,(function(n){var r=fs(t,_e(e,n));os(t,r)})),Ta(t.eventQueue_,e,[])}}function Ba(t){Za(t,"onDisconnectEvents");var e=Ra(t),n=Zn();nr(t.onDisconnect_,fe(),(function(r,i){var o=Vo(r,i,t.serverSyncTree_,e);tr(n,r,o)}));var r=[];nr(n,fe(),(function(e,n){r=r.concat(lo(t.serverSyncTree_,e,n));var i=fs(t,e);os(t,i)})),t.onDisconnect_=Zn(),Ta(t.eventQueue_,fe(),r)}function Ka(t,e,n){t.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&er(t.onDisconnect_,e),ts(t,n,r,i)}))}function za(t,e,n,r){var i=wn(n);t.server_.onDisconnectPut(e.toString(),i.val(!0),(function(n,o){"ok"===n&&tr(t.onDisconnect_,e,i),ts(t,r,n,o)}))}function Ha(t,e,n,r,i){var o=wn(n,r);t.server_.onDisconnectPut(e.toString(),o.val(!0),(function(n,r){"ok"===n&&tr(t.onDisconnect_,e,o),ts(t,i,n,r)}))}function Wa(t,e,n,r){if((0,o.isEmpty)(n))return T("onDisconnect().update() called with empty data.  Don't do anything."),void ts(t,r,"ok",void 0);t.server_.onDisconnectMerge(e.toString(),n,(function(i,o){"ok"===i&&U(n,(function(n,r){var i=wn(r);tr(t.onDisconnect_,_e(e,n),i)})),ts(t,r,i,o)}))}function Ga(t,e,n){var r;r=".info"===he(e._path)?yo(t.infoSyncTree_,e,n):yo(t.serverSyncTree_,e,n),Ia(t.eventQueue_,e._path,r)}function $a(t,e,n){var r;r=".info"===he(e._path)?vo(t.infoSyncTree_,e,n):vo(t.serverSyncTree_,e,n),Ia(t.eventQueue_,e._path,r)}function Ya(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Sa)}function Qa(t){t.persistentConnection_&&t.persistentConnection_.resume(Sa)}function Xa(t,e){if(void 0===e&&(e=!1),"undefined"!==typeof console){var n;e?(t.statsListener_||(t.statsListener_=new or(t.stats_)),n=t.statsListener_.get()):n=t.stats_.get();var r=Object.keys(n).reduce((function(t,e){return Math.max(e.length,t)}),0);U(n,(function(t,e){for(var n=t,i=t.length;i<r+2;i++)n+=" ";console.log(n+e)}))}}function Ja(t,e){t.stats_.incrementCounter(e),lr(t.statsReporter_,e)}function Za(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),T.apply(void 0,(0,a.__spreadArray)([r],(0,a.__read)(e)))}function ts(t,e,n,r){e&&$((function(){if("ok"===n)e(null);else{var t=(n||"error").toUpperCase(),i=t;r&&(i+=": "+r);var o=new Error(i);o.code=t,e(o)}}))}function es(t,e,n,r,i,a){Za(t,"transaction on "+e);var s={path:e,update:n,onComplete:r,status:null,order:y(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=ns(t,e,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{la("transaction failed: Data returned ",c,s.path),s.status=0;var l=Ho(t.transactionQueueTree_,e),f=Wo(l)||[];f.push(s),Go(l,f);var h=void 0;if("object"===typeof c&&null!==c&&(0,o.contains)(c,".priority"))h=(0,o.safeGet)(c,".priority"),(0,o.assert)(ua(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var p=_o(t.serverSyncTree_,e)||mn.EMPTY_NODE;h=p.getPriority().val()}var d=Ra(t),v=wn(c,h),g=Bo(v,u,d);s.currentOutputSnapshotRaw=v,s.currentOutputSnapshotResolved=g,s.currentWriteId=Fa(t);var m=so(t.serverSyncTree_,e,g,s.currentWriteId,s.applyLocally);Ta(t.eventQueue_,e,m),rs(t,t.transactionQueueTree_)}}function ns(t,e,n){return _o(t.serverSyncTree_,e,n)||mn.EMPTY_NODE}function rs(t,e){if(void 0===e&&(e=t.transactionQueueTree_),e||ls(t,e),Wo(e)){var n=us(t,e);(0,o.assert)(n.length>0,"Sending zero length transaction queue");var r=n.every((function(t){return 0===t.status}));r&&is(t,Zo(e),n)}else $o(e)&&Qo(e,(function(e){rs(t,e)}))}function is(t,e,n){for(var r=n.map((function(t){return t.currentWriteId})),i=ns(t,e,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=we(e,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var f=a.val(!0),h=e;t.server_.put(h.toString(),f,(function(r){Za(t,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(e){n[e].status=2,i=i.concat(co(t.serverSyncTree_,n[e].currentWriteId)),n[e].onComplete&&o.push((function(){return n[e].onComplete(null,!0,n[e].currentOutputSnapshotResolved)})),n[e].unwatcher()},s=0;s<n.length;s++)a(s);ls(t,Ho(t.transactionQueueTree_,e)),rs(t,t.transactionQueueTree_),Ta(t.eventQueue_,e,i);for(s=0;s<o.length;s++)$(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{A("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}os(t,e)}}),s)}function os(t,e){var n=ss(t,e),r=Zo(n),i=us(t,n);return as(t,i,r),r}function as(t,e,n){if(0!==e.length){for(var r=[],i=[],a=e.filter((function(t){return 0===t.status})),s=a.map((function(t){return t.currentWriteId})),u=function(a){var u,c=e[a],l=we(n,c.path),f=!1;if((0,o.assert)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)f=!0,u=c.abortReason,i=i.concat(co(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=Aa)f=!0,u="maxretry",i=i.concat(co(t.serverSyncTree_,c.currentWriteId,!0));else{var h=ns(t,c.path,s);c.currentInputSnapshot=h;var p=e[a].update(h.val());if(void 0!==p){la("transaction failed: Data returned ",p,c.path);var d=wn(p),v="object"===typeof p&&null!=p&&(0,o.contains)(p,".priority");v||(d=d.updatePriority(h.getPriority()));var g=c.currentWriteId,m=Ra(t),y=Bo(d,h,m);c.currentOutputSnapshotRaw=d,c.currentOutputSnapshotResolved=y,c.currentWriteId=Fa(t),s.splice(s.indexOf(g),1),i=i.concat(so(t.serverSyncTree_,c.path,y,c.currentWriteId,c.applyLocally)),i=i.concat(co(t.serverSyncTree_,g,!0))}else f=!0,u="nodata",i=i.concat(co(t.serverSyncTree_,c.currentWriteId,!0))}Ta(t.eventQueue_,n,i),i=[],f&&(e[a].status=2,function(t){setTimeout(t,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&("nodata"===u?r.push((function(){return e[a].onComplete(null,!1,e[a].currentInputSnapshot)})):r.push((function(){return e[a].onComplete(new Error(u),!1,null)}))))},c=0;c<e.length;c++)u(c);ls(t,t.transactionQueueTree_);for(c=0;c<r.length;c++)$(r[c]);rs(t,t.transactionQueueTree_)}}function ss(t,e){var n,r=t.transactionQueueTree_;n=he(e);while(null!==n&&void 0===Wo(r))r=Ho(r,n),e=de(e),n=he(e);return r}function us(t,e){var n=[];return cs(t,e,n),n.sort((function(t,e){return t.order-e.order})),n}function cs(t,e,n){var r=Wo(e);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Qo(e,(function(e){cs(t,e,n)}))}function ls(t,e){var n=Wo(e);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Go(e,n.length>0?n:void 0)}Qo(e,(function(e){ls(t,e)}))}function fs(t,e){var n=Zo(ss(t,e)),r=Ho(t.transactionQueueTree_,e);return Jo(r,(function(e){hs(t,e)})),hs(t,r),Xo(r,(function(e){hs(t,e)})),n}function hs(t,e){var n=Wo(e);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(co(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Go(e,void 0):n.length=a+1,Ta(t.eventQueue_,Zo(e),i);for(s=0;s<r.length;s++)$(r[s])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}e+="/"+i}return e}function ds(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=(0,a.__values)(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):A("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}var vs=function(t,e){var n=gs(t),r=n.namespace;"firebase.com"===n.domain&&S(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||S("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||x();var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new ft(n.host,n.secure,r,e,i,"",r!==n.subdomain),path:new le(n.pathString)}},gs=function(t){var e="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"===typeof t){var c=t.indexOf("//");c>=0&&(s=t.substring(0,c-1),t=t.substring(c+2));var l=t.indexOf("/");-1===l&&(l=t.length);var f=t.indexOf("?");-1===f&&(f=t.length),e=t.substring(0,Math.min(l,f)),l<f&&(i=ps(t.substring(l,f)));var h=ds(t.substring(Math.min(t.length,f)));c=e.indexOf(":"),c>=0?(a="https"===s||"wss"===s,u=parseInt(e.substring(c+1),10)):c=e.length;var p=e.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var d=e.indexOf(".");r=e.substring(0,d).toLowerCase(),n=e.substring(d+1),o=r}"ns"in h&&(o=h["ns"])}return{host:e,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},ms=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},t}(),ys=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),_s=function(){function t(t,e){this.snapshotCallback=t,this.cancelCallback=e}return t.prototype.onValue=function(t,e){this.snapshotCallback.call(null,t,e)},t.prototype.onCancel=function(t){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)},Object.defineProperty(t.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),t.prototype.matches=function(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context},t}(),bs=function(){function t(t,e){this._repo=t,this._path=e}return t.prototype.cancel=function(){var t=new o.Deferred;return Ka(this._repo,this._path,t.wrapCallback((function(){}))),t.promise},t.prototype.remove=function(){ya("OnDisconnect.remove",this._path);var t=new o.Deferred;return za(this._repo,this._path,null,t.wrapCallback((function(){}))),t.promise},t.prototype.set=function(t){ya("OnDisconnect.set",this._path),ca("OnDisconnect.set",t,this._path,!1);var e=new o.Deferred;return za(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t.prototype.setWithPriority=function(t,e){ya("OnDisconnect.setWithPriority",this._path),ca("OnDisconnect.setWithPriority",t,this._path,!1),pa("OnDisconnect.setWithPriority",e,!1);var n=new o.Deferred;return Ha(this._repo,this._path,t,e,n.wrapCallback((function(){}))),n.promise},t.prototype.update=function(t){ya("OnDisconnect.update",this._path),ha("OnDisconnect.update",t,this._path,!1);var e=new o.Deferred;return Wa(this._repo,this._path,t,e.wrapCallback((function(){}))),e.promise},t}(),ws=function(){function t(t,e,n,r){this._repo=t,this._path=e,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(t.prototype,"key",{get:function(){return be(this._path)?null:ve(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new ks(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryIdentifier",{get:function(){var t=Qn(this._queryParams),e=j(t);return"{}"===e?"default":e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_queryObject",{get:function(){return Qn(this._queryParams)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(e=(0,o.getModularInstance)(e),!(e instanceof t))return!1;var n=this._repo===e._repo,r=Ie(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i},t.prototype.toJSON=function(){return this.toString()},t.prototype.toString=function(){return this._repo.toString()+ge(this._path)},t}();function Es(t,e){if(!0===t._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Is(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===He){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){var a=t.getIndexStartName();if(a!==R)throw new Error(r);if("string"!==typeof e)throw new Error(i)}if(t.hasEnd()){var s=t.getIndexEndName();if(s!==P)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(t.getIndex()===fn){if(null!=e&&!ua(e)||null!=n&&!ua(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(t.getIndex()instanceof En||t.getIndex()===Tn,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Ts(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var ks=function(t){function e(e,n){return t.call(this,e,n,new qn,!1)||this}return(0,a.__extends)(e,t),Object.defineProperty(e.prototype,"parent",{get:function(){var t=ye(this._path);return null===t?null:new e(this._repo,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var t=this;while(null!==t.parent)t=t.parent;return t},enumerable:!1,configurable:!0}),e}(ws),Cs=function(){function t(t,e,n){this._node=t,this.ref=e,this._index=n}return Object.defineProperty(t.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),t.prototype.child=function(e){var n=new le(e),r=xs(this.ref,e);return new t(this._node.getChild(n),r,fn)},t.prototype.exists=function(){return!this._node.isEmpty()},t.prototype.exportVal=function(){return this._node.val(!0)},t.prototype.forEach=function(e){var n=this;if(this._node.isLeafNode())return!1;var r=this._node;return!!r.forEachChild(this._index,(function(r,i){return e(new t(i,xs(n.ref,r),fn))}))},t.prototype.hasChild=function(t){var e=new le(t);return!this._node.getChild(e).isEmpty()},t.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.prototype.toJSON=function(){return this.exportVal()},t.prototype.val=function(){return this._node.val()},t}();function Ss(t,e){return t=(0,o.getModularInstance)(t),t._checkNotDeleted("ref"),void 0!==e?xs(t._root,e):t._root}function As(t,e){t=(0,o.getModularInstance)(t),t._checkNotDeleted("refFromURL");var n=vs(e,t._repo.repoInfo_.nodeAdmin);_a("refFromURL",n);var r=n.repoInfo;return t._repo.repoInfo_.isCustomHost()||r.host===t._repo.repoInfo_.host||S("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+t._repo.repoInfo_.host+")"),Ss(t,n.path.toString())}function xs(t,e){return t=(0,o.getModularInstance)(t),null===he(t._path)?ma("child","path",e,!1):ga("child","path",e,!1),new ks(t._repo,_e(t._path,e))}function Ns(t,e){t=(0,o.getModularInstance)(t),ya("push",t._path),ca("push",e,t._path,!0);var n,r=Oa(t._repo),i=xn(r),a=xs(t,i),s=xs(t,i);return n=null!=e?Rs(s,e).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Os(t){return ya("remove",t._path),Rs(t,null)}function Rs(t,e){t=(0,o.getModularInstance)(t),ya("set",t._path),ca("set",e,t._path,!1);var n=new o.Deferred;return qa(t._repo,t._path,e,null,n.wrapCallback((function(){}))),n.promise}function Ps(t,e){t=(0,o.getModularInstance)(t),ya("setPriority",t._path),pa("setPriority",e,!1);var n=new o.Deferred;return qa(t._repo,_e(t._path,".priority"),e,null,n.wrapCallback((function(){}))),n.promise}function Ds(t,e,n){if(ya("setWithPriority",t._path),ca("setWithPriority",e,t._path,!1),pa("setWithPriority",n,!1),".length"===t.key||".keys"===t.key)throw"setWithPriority failed: "+t.key+" is a read-only object.";var r=new o.Deferred;return qa(t._repo,t._path,e,n,r.wrapCallback((function(){}))),r.promise}function Ls(t,e){ha("update",e,t._path,!1);var n=new o.Deferred;return Va(t._repo,t._path,e,n.wrapCallback((function(){}))),n.promise}function Ms(t){return t=(0,o.getModularInstance)(t),Ua(t._repo,t).then((function(e){return new Cs(e,new ks(t._repo,t._path),t._queryParams.getIndex())}))}var js=function(){function t(t){this.callbackContext=t}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e._queryParams.getIndex();return new ms("value",this,new Cs(t.snapshotNode,new ks(e._repo,e._path),n))},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,null)}},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new ys(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))},t.prototype.hasAnyCallback=function(){return null!==this.callbackContext},t}(),Fs=function(){function t(t,e){this.eventType=t,this.callbackContext=e}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e},t.prototype.createCancelEvent=function(t,e){return this.callbackContext.hasCancelCallback?new ys(this,t,e):null},t.prototype.createEvent=function(t,e){(0,o.assert)(null!=t.childName,"Child events should have a childName.");var n=xs(new ks(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new ms(t.type,this,new Cs(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this;return"cancel"===t.getEventType()?function(){return e.callbackContext.onCancel(t.error)}:function(){return e.callbackContext.onValue(t.snapshot,t.prevName)}},t.prototype.matches=function(e){return e instanceof t&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))},t.prototype.hasAnyCallback=function(){return!!this.callbackContext},t}();function Us(t,e,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(e,n){$a(t._repo,t,c),a(e,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new _s(n,o||void 0),c="value"===e?new js(u):new Fs(e,u);return Ga(t._repo,t,c),function(){return $a(t._repo,t,c)}}function qs(t,e,n,r){return Us(t,"value",e,n,r)}function Vs(t,e,n,r){return Us(t,"child_added",e,n,r)}function Bs(t,e,n,r){return Us(t,"child_changed",e,n,r)}function Ks(t,e,n,r){return Us(t,"child_moved",e,n,r)}function zs(t,e,n,r){return Us(t,"child_removed",e,n,r)}function Hs(t,e,n){var r=null,i=n?new _s(n):null;"value"===e?r=new js(i):e&&(r=new Fs(e,i)),$a(t._repo,t,r)}var Ws=function(){function t(){}return t}(),Gs=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.__extends)(e,t),e.prototype._apply=function(t){ca("endAt",this._value,t._path,!0);var e=Wn(t._queryParams,this._value,this._key);if(Ts(e),Is(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ws(t._repo,t._path,e,t._orderByCalled)},e}(Ws);function $s(t,e){return va("endAt","key",e,!0),new Gs(t,e)}var Ys=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.__extends)(e,t),e.prototype._apply=function(t){ca("endBefore",this._value,t._path,!1);var e=Gn(t._queryParams,this._value,this._key);if(Ts(e),Is(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ws(t._repo,t._path,e,t._orderByCalled)},e}(Ws);function Qs(t,e){return va("endBefore","key",e,!0),new Ys(t,e)}var Xs=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.__extends)(e,t),e.prototype._apply=function(t){ca("startAt",this._value,t._path,!0);var e=zn(t._queryParams,this._value,this._key);if(Ts(e),Is(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ws(t._repo,t._path,e,t._orderByCalled)},e}(Ws);function Js(t,e){return void 0===t&&(t=null),va("startAt","key",e,!0),new Xs(t,e)}var Zs=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.__extends)(e,t),e.prototype._apply=function(t){ca("startAfter",this._value,t._path,!1);var e=Hn(t._queryParams,this._value,this._key);if(Ts(e),Is(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ws(t._repo,t._path,e,t._orderByCalled)},e}(Ws);function tu(t,e){return va("startAfter","key",e,!0),new Zs(t,e)}var eu=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,a.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ws(t._repo,t._path,Bn(t._queryParams,this._limit),t._orderByCalled)},e}(Ws);function nu(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new eu(t)}var ru=function(t){function e(e){var n=t.call(this)||this;return n._limit=e,n}return(0,a.__extends)(e,t),e.prototype._apply=function(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ws(t._repo,t._path,Kn(t._queryParams,this._limit),t._orderByCalled)},e}(Ws);function iu(t){if("number"!==typeof t||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ru(t)}var ou=function(t){function e(e){var n=t.call(this)||this;return n._path=e,n}return(0,a.__extends)(e,t),e.prototype._apply=function(t){Es(t,"orderByChild");var e=new le(this._path);if(be(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new En(e),r=$n(t._queryParams,n);return Is(r),new ws(t._repo,t._path,r,!0)},e}(Ws);function au(t){if("$key"===t)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===t)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===t)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ga("orderByChild","path",t,!1),new ou(t)}var su=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),e.prototype._apply=function(t){Es(t,"orderByKey");var e=$n(t._queryParams,He);return Is(e),new ws(t._repo,t._path,e,!0)},e}(Ws);function uu(){return new su}var cu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),e.prototype._apply=function(t){Es(t,"orderByPriority");var e=$n(t._queryParams,fn);return Is(e),new ws(t._repo,t._path,e,!0)},e}(Ws);function lu(){return new cu}var fu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.__extends)(e,t),e.prototype._apply=function(t){Es(t,"orderByValue");var e=$n(t._queryParams,Tn);return Is(e),new ws(t._repo,t._path,e,!0)},e}(Ws);function hu(){return new fu}var pu=function(t){function e(e,n){var r=t.call(this)||this;return r._value=e,r._key=n,r}return(0,a.__extends)(e,t),e.prototype._apply=function(t){if(ca("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Gs(this._value,this._key)._apply(new Xs(this._value,this._key)._apply(t))},e}(Ws);function du(t,e){return va("equalTo","key",e,!0),new pu(t,e)}function vu(t){for(var e,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.getModularInstance)(t);try{for(var u=(0,a.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(f){e={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s}zi(ks),ro(ks);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gu="FIREBASE_DATABASE_EMULATOR_HOST",mu={},yu=!1;function _u(t,e,n,r){t.repoInfo_=new ft(e+":"+n,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams),r&&(t.authTokenProvider_=r)}function bu(t,e,n,r,i){var o=r||t.options.databaseURL;void 0===o&&(t.options.projectId||S("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),T("Using default host for project ",t.options.projectId),o=t.options.projectId+"-default-rtdb.firebaseio.com");var a,s=vs(o,i),u=s.repoInfo,c=void 0;"undefined"!==typeof process&&(c={NODE_ENV:"production",BASE_URL:"/"}[gu]),c?(a=!0,o="http://"+c+"?ns="+u.namespace,s=vs(o,i),u=s.repoInfo):a=!s.repoInfo.secure;var l=i&&a?new Z(Z.OWNER):new J(t.name,t.options,e);_a("Invalid Firebase Database URL",s),be(s.path)||S("Database URL must point to the root of a Firebase Database (not including a child path).");var f=Eu(u,t,l,new X(t.name,n));return new Tu(f,t)}function wu(t,e){var n=mu[e];n&&n[t.key]===t||S("Database "+e+"("+t.repoInfo_+") has already been deleted."),Ya(t),delete n[t.key]}function Eu(t,e,n,r){var i=mu[e.name];i||(i={},mu[e.name]=i);var o=i[t.toURLString()];return o&&S("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new xa(t,yu,n,r),i[t.toURLString()]=o,o}function Iu(t){yu=t}var Tu=function(){function t(t,e){this._repoInternal=t,this.app=e,this["type"]="database",this._instanceStarted=!1}return Object.defineProperty(t.prototype,"_repo",{get:function(){return this._instanceStarted||(Na(this._repoInternal,this.app.options.appId,this.app.options["databaseAuthVariableOverride"]),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new ks(this._repo,fe())),this._rootInternal},enumerable:!1,configurable:!0}),t.prototype._delete=function(){return null!==this._rootInternal&&(wu(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},t.prototype._checkNotDeleted=function(t){null===this._rootInternal&&S("Cannot call "+t+" on a deleted database.")},t}();function ku(t,e,n,r){void 0===r&&(r={}),t=(0,o.getModularInstance)(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&S("Cannot call useEmulator() after instance has already been initialized.");var i=t._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&S('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Z(Z.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.createMockUserToken)(r.mockUserToken,t.app.options.projectId);a=new Z(s)}_u(i,e,n,a)}function Cu(t){t=(0,o.getModularInstance)(t),t._checkNotDeleted("goOffline"),Ya(t._repo)}function Su(t){t=(0,o.getModularInstance)(t),t._checkNotDeleted("goOnline"),Qa(t._repo)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Au={".sv":"timestamp"};function xu(){return Au}function Nu(t){return{".sv":{increment:t}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ou=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}();function Ru(t,e,n){var r;if(t=(0,o.getModularInstance)(t),ya("Reference.transaction",t._path),".length"===t.key||".keys"===t.key)throw"Reference.transaction failed: "+t.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=function(e,n,r){var i=null;e?a.reject(e):(i=new Cs(r,new ks(t._repo,t._path),fn),a.resolve(new Ou(n,i)))},u=qs(t,(function(){}));return es(t._repo,t._path,e,s,u,i),a.promise}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pu=function(){function t(t){this._delegate=t}return t.prototype.cancel=function(t){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",t,!0);var e=this._delegate.cancel();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.remove=function(t){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",t,!0);var e=this._delegate.remove();return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},t.prototype.set=function(t,e){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",e,!0);var n=this._delegate.set(t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},t.prototype.setWithPriority=function(t,e,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},t.prototype.update=function(t,e){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,A("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",e,!0);var i=this._delegate.update(t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},t}(),Du=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Lu=function(){function t(t,e){this._database=t,this._delegate=e}return t.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},t.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},t.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},t.prototype.child=function(e){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),e=String(e),ga("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))},t.prototype.hasChild=function(t){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),ga("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)},t.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},t.prototype.forEach=function(e){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach((function(r){return e(new t(n._database,r))}))},t.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(t.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},t.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new ju(this._database,this._delegate.ref)},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),Mu=function(){function t(t,e){this.database=t,this._delegate=e}return t.prototype.on=function(e,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=t.getCancelAndContextArgs_("Query.on",r,i),c=function(t,e){n.call(u.context,new Lu(s.database,t),e)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(e){case"value":return qs(this._delegate,c,l),n;case"child_added":return Vs(this._delegate,c,l),n;case"child_removed":return zs(this._delegate,c,l),n;case"child_changed":return Bs(this._delegate,c,l),n;case"child_moved":return Ks(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},t.prototype.off=function(t,e,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),da("Query.off",t,!0),(0,o.validateCallback)("Query.off","callback",e,!0),(0,o.validateContextObject)("Query.off","context",n,!0),e){var r=function(){};r.userCallback=e,r.context=n,Hs(this._delegate,t,r)}else Hs(this._delegate,t)},t.prototype.get=function(){var t=this;return Ms(this._delegate).then((function(e){return new Lu(t.database,e)}))},t.prototype.once=function(e,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(t,e){var r=new Lu(a.database,t);n&&n.call(s.context,r,e),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(t){s.cancel&&s.cancel.call(s.context,t),u.reject(t)};switch(e){case"value":qs(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":Vs(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":zs(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":Bs(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":Ks(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},t.prototype.limitToFirst=function(e){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new t(this.database,vu(this._delegate,nu(e)))},t.prototype.limitToLast=function(e){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new t(this.database,vu(this._delegate,iu(e)))},t.prototype.orderByChild=function(e){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new t(this.database,vu(this._delegate,au(e)))},t.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new t(this.database,vu(this._delegate,uu()))},t.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new t(this.database,vu(this._delegate,lu()))},t.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new t(this.database,vu(this._delegate,hu()))},t.prototype.startAt=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new t(this.database,vu(this._delegate,Js(e,n)))},t.prototype.startAfter=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new t(this.database,vu(this._delegate,tu(e,n)))},t.prototype.endAt=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new t(this.database,vu(this._delegate,$s(e,n)))},t.prototype.endBefore=function(e,n){return void 0===e&&(e=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new t(this.database,vu(this._delegate,Qs(e,n)))},t.prototype.equalTo=function(e,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new t(this.database,vu(this._delegate,du(e,n)))},t.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},t.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},t.prototype.isEqual=function(e){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:void 0,context:void 0};if(e&&n)r.cancel=e,(0,o.validateCallback)(t,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(t,"context",r.context,!0);else if(e)if("object"===typeof e&&null!==e)r.context=e;else{if("function"!==typeof e)throw new Error((0,o.errorPrefix)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return new ju(this.database,new ks(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),t}(),ju=function(t){function e(e,n){var r=t.call(this,e,new ws(n._repo,n._path,new qn,!1))||this;return r.database=e,r._delegate=n,r}return(0,a.__extends)(e,t),e.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},e.prototype.child=function(t){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof t&&(t=String(t)),new e(this.database,xs(this._delegate,t))},e.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var t=this._delegate.parent;return t?new e(this.database,t):null},e.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)},e.prototype.set=function(t,e){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",e,!0);var n=Rs(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.update=function(t,e){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,A("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ya("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",e,!0);var i=Ls(this._delegate,t);return e&&i.then((function(){return e(null)}),(function(t){return e(t)})),i},e.prototype.setWithPriority=function(t,e,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Ds(this._delegate,t,e);return n&&r.then((function(){return n(null)}),(function(t){return n(t)})),r},e.prototype.remove=function(t){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",t,!0);var e=Os(this._delegate);return t&&e.then((function(){return t(null)}),(function(e){return t(e)})),e},e.prototype.transaction=function(t,e,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",t,!1),(0,o.validateCallback)("Reference.transaction","onComplete",e,!0),ba("Reference.transaction","applyLocally",n,!0);var i=Ru(this._delegate,t,{applyLocally:n}).then((function(t){return new Du(t.committed,new Lu(r.database,t.snapshot))}));return e&&i.then((function(t){return e(null,t.committed,t.snapshot)}),(function(t){return e(t,!1,null)})),i},e.prototype.setPriority=function(t,e){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",e,!0);var n=Ps(this._delegate,t);return e&&n.then((function(){return e(null)}),(function(t){return e(t)})),n},e.prototype.push=function(t,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Ns(this._delegate,t),a=i.then((function(t){return new e(r.database,t)}));n&&a.then((function(){return n(null)}),(function(t){return n(t)}));var s=new e(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},e.prototype.onDisconnect=function(){return ya("Reference.onDisconnect",this._delegate._path),new Pu(new bs(this._delegate._repo,this._delegate._path))},Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(Mu),Fu=function(){function t(t,e){var n=this;this._delegate=t,this.app=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),ku(this._delegate,t,e,n)},t.prototype.ref=function(t){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),t instanceof ju){var e=As(this._delegate,t.toString());return new ju(this,e)}e=Ss(this._delegate,t);return new ju(this,e)},t.prototype.refFromURL=function(t){var e="database.refFromURL";(0,o.validateArgCount)(e,1,1,arguments.length);var n=As(this._delegate,t);return new ju(this,n)},t.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),Cu(this._delegate)},t.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),Su(this._delegate)},t.ServerValue={TIMESTAMP:xu(),increment:function(t){return Nu(t)}},t}(),Uu=function(){Bt.forceDisallow(),jt.forceAllow()},qu=function(){jt.forceDisallow()},Vu=function(){return Bt["isAvailable"]()},Bu=function(t,e){var n=t._delegate._repo.persistentConnection_;n.securityDebugCallback_=e},Ku=function(t,e){Xa(t._delegate._repo,e)},zu=function(t,e){Ja(t._delegate._repo,e)},Hu=function(t){return t._delegate._repo.dataUpdateCount},Wu=function(t,e){return Da(t._delegate._repo,e)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(t){var e=t.app,n=t.url,r=t.version,o=t.customAuthImpl,a=t.namespace,s=t.nodeAdmin,u=void 0!==s&&s;f(r);var c=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return c.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Fu(bu(e,c,void 0,n,u),e),namespace:a}}var $u=Object.freeze({__proto__:null,forceLongPolling:Uu,forceWebSockets:qu,isWebSocketsAvailable:Vu,setSecurityDebugCallback:Bu,stats:Ku,statsIncrementCounter:zu,dataUpdateCount:Hu,interceptServerData:Wu,initStandalone:Gu}),Yu=Ve;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ve.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Ve.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Qu=ie,Xu=function(t){var e=Ve.prototype.put;return Ve.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){Ve.prototype.put=e}},Ju=ft,Zu=function(t){return t._delegate._queryIdentifier},tc=function(t){Iu(t)},ec=Object.freeze({__proto__:null,DataConnection:Yu,RealTimeConnection:Qu,hijackHash:Xu,ConnectionTarget:Ju,queryIdentifier:Zu,forceRestClient:tc}),nc=Fu.ServerValue;function rc(e){f(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new i.Component("database",(function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Fu(bu(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:ju,Query:Mu,Database:Fu,DataSnapshot:Lu,enableLogging:I,INTERNAL:$u,ServerValue:nc,TEST_ACCESS:ec}).setMultipleInstances(!0));e.registerVersion(u,c),(0,o.isNodeSdk)()&&(t.exports=n)}rc(r["default"])},5427:function(t,e,n){"use strict";var r=n(8866),i=n(7131),o=n(6037),a=(n(9556),n(2864),n(7057),{Firestore:i.K,GeoPoint:i.C,Timestamp:i.M,Blob:i.L,Transaction:i.W,WriteBatch:i.G,DocumentReference:i.H,DocumentSnapshot:i.Z,Query:i.e,QueryDocumentSnapshot:i.t,QuerySnapshot:i.s,CollectionReference:i.i,FieldPath:i.o,FieldValue:i.c,setLogLevel:i.j,CACHE_SIZE_UNLIMITED:i.E});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function s(t){!function(t,e){t.INTERNAL.registerComponent(new o.Component("firestore",(function(t){var n=t.getProvider("app").getImmediate();return e(n,t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},a)))}(t,(function(t,e){return new i.K(t,new i.T(t,e),new i.U)})),t.registerVersion("@firebase/firestore","2.4.1")}s(r["default"])},7131:function(t,e,n){"use strict";n.d(e,{C:function(){return Xs},E:function(){return Bs},G:function(){return fc},H:function(){return pc},K:function(){return sc},L:function(){return oc},M:function(){return T},T:function(){return Ks},U:function(){return ac},W:function(){return lc},Z:function(){return mc},a:function(){return Sc},c:function(){return kc},e:function(){return _c},i:function(){return Ec},j:function(){return cc},o:function(){return Tc},s:function(){return wc},t:function(){return yc},u:function(){return Cc}});n(1703),n(8675),n(3462),n(2801),n(2262),n(4506);var r=n(4270),i=n(9556),o=n(2864),a=n(7057),s=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();s.o=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var u={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},c=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,r.__extends)(e,t),e}(Error),l=new o.Logger("@firebase/firestore");function f(){return l.logLevel}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.DEBUG){var i=e.map(v);l.debug.apply(l,(0,r.__spreadArray)(["Firestore (8.10.1): "+t],i))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.ERROR){var i=e.map(v);l.error.apply(l,(0,r.__spreadArray)(["Firestore (8.10.1): "+t],i))}}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=o.LogLevel.WARN){var i=e.map(v);l.warn.apply(l,(0,r.__spreadArray)(["Firestore (8.10.1): "+t],i))}}function v(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw p(e),new Error(e)}function m(t,e){t||g()}function y(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var b=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=_(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function w(t,e){return t<e?-1:t>e?1:0}function E(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function I(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new c(u.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new c(u.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?w(this.nanoseconds,t.nanoseconds):w(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),k=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new T(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function S(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function A(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var x=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&g(),void 0===n?n=t.length-e:n>t.length-e&&g(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),N=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(x),O=/^[_a-zA-Z][_a-zA-Z0-9]*$/,R=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return O.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new c(u.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new c(u.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new c(u.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new c(u.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(x),P=function(){function t(t){this.fields=t,t.sort(R.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return E(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),D=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return w(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();D.EMPTY_BYTE_STRING=new D("");var L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function M(t){if(m(!!t),"string"==typeof t){var e=0,n=L.exec(t);if(m(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:j(t.seconds),nanos:j(t.nanos)}}function j(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function F(t){return"string"==typeof t?D.fromBase64String(t):D.fromUint8Array(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function q(t){var e=t.mapValue.fields.__previous_value__;return U(e)?q(e):e}function V(t){var e=M(t.mapValue.fields.__local_write_time__.timestampValue);return new T(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B(t){return null==t}function K(t){return 0===t&&1/t==-1/0}function z(t){return"number"==typeof t&&Number.isInteger(t)&&!K(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(N.fromString(e))},t.fromName=function(e){return new t(N.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===N.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return N.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new N(e.slice()))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?U(t)?4:10:g()}function G(t,e){var n=W(t);if(n!==W(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return V(t).isEqual(V(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=M(t.timestampValue),r=M(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return F(t.bytesValue).isEqual(F(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return j(t.geoPointValue.latitude)===j(e.geoPointValue.latitude)&&j(t.geoPointValue.longitude)===j(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return j(t.integerValue)===j(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=j(t.doubleValue),r=j(e.doubleValue);return n===r?K(n)===K(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return E(t.arrayValue.values||[],e.arrayValue.values||[],G);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(C(n)!==C(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!G(n[i],r[i])))return!1;return!0}(t,e);default:return g()}}function $(t,e){return void 0!==(t.values||[]).find((function(t){return G(t,e)}))}function Y(t,e){var n=W(t),r=W(e);if(n!==r)return w(n,r);switch(n){case 0:return 0;case 1:return w(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=j(t.integerValue||t.doubleValue),r=j(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Q(t.timestampValue,e.timestampValue);case 4:return Q(V(t),V(e));case 5:return w(t.stringValue,e.stringValue);case 6:return function(t,e){var n=F(t),r=F(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=w(n[i],r[i]);if(0!==o)return o}return w(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=w(j(t.latitude),j(e.latitude));return 0!==n?n:w(j(t.longitude),j(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Y(n[i],r[i]);if(o)return o}return w(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=w(r[a],o[a]);if(0!==s)return s;var u=Y(n[r[a]],i[o[a]]);if(0!==u)return u}return w(r.length,o.length)}(t.mapValue,e.mapValue);default:throw g()}}function Q(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return w(t,e);var n=M(t),r=M(e),i=w(n.seconds,r.seconds);return 0!==i?i:w(n.nanos,r.nanos)}function X(t){return J(t)}function J(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=M(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?F(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,H.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=J(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+J(t.fields[o])}return e+"}"}(t.mapValue):g();var e,n}function Z(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function tt(t){return!!t&&"integerValue"in t}function et(t){return!!t&&"arrayValue"in t}function nt(t){return!!t&&"nullValue"in t}function rt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function it(t){return!!t&&"mapValue"in t}function ot(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return S(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=ot(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ot(t.arrayValue.values[r]);return n}return Object.assign({},t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!it(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ot(e)},t.prototype.setAll=function(t){var e=this,n=R.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=ot(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());it(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return G(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];it(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){S(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(ot(this.value))},t}();function st(t){var e=[];return S(t.fields,(function(t,n){var r=new R([t]);if(it(n)){var i=st(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new P(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var ut=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,k.min(),at.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,at.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,at.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=at.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=at.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),ct=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ct(t,e,n,r,i,o,a)}function ft(t){var e=y(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+X(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),B(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Tt(e.startAt)),e.endAt&&(n+="|ub:",n+=Tt(e.endAt)),e.h=n}return e.h}function ht(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ct(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!G(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!At(t.startAt,e.startAt)&&At(t.endAt,e.endAt)}function pt(t){return H.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var dt=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,r.__extends)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new vt(t,n,r):"array-contains"===n?new _t(t,r):"in"===n?new bt(t,r):"not-in"===n?new wt(t,r):"array-contains-any"===n?new Et(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new gt(t,n):new mt(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(Y(e,this.value)):null!==e&&W(this.value)===W(e)&&this.m(Y(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return g()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),vt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=H.fromName(r.referenceValue),i}return(0,r.__extends)(e,t),e.prototype.matches=function(t){var e=H.comparator(t.key,this.key);return this.m(e)},e}(dt),gt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=yt("in",n),r}return(0,r.__extends)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(dt),mt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=yt("not-in",n),r}return(0,r.__extends)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(dt);function yt(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return H.fromName(t.referenceValue)}))}var _t=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,r.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return et(e)&&$(e.arrayValue,this.value)},e}(dt),bt=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,r.__extends)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&$(this.value.arrayValue,e)},e}(dt),wt=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,r.__extends)(e,t),e.prototype.matches=function(t){if($(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!$(this.value.arrayValue,e)},e}(dt),Et=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,r.__extends)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!et(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return $(e.value.arrayValue,t)}))},e}(dt),It=function(t,e){this.position=t,this.before=e};function Tt(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return X(t)})).join(",")}var kt=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ct(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function St(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?H.comparator(H.fromName(a.referenceValue),n.key):Y(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function At(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!G(t.position[n],e.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Nt(t,e,n,r,i,o,a,s){return new xt(t,e,n,r,i,o,a,s)}function Ot(t){return new xt(t)}function Rt(t){return!B(t.limit)&&"F"===t.limitType}function Pt(t){return!B(t.limit)&&"L"===t.limitType}function Dt(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Lt(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Mt(t){return null!==t.collectionGroup}function jt(t){var e=y(t);if(null===e.p){e.p=[];var n=Lt(e),r=Dt(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new kt(n)),e.p.push(new kt(R.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new kt(R.keyField(),u))}}}return e.p}function Ft(t){var e=y(t);if(!e.T)if("F"===e.limitType)e.T=lt(e.path,e.collectionGroup,jt(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=jt(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new kt(o.field,a))}var s=e.endAt?new It(e.endAt.position,!e.endAt.before):null,u=e.startAt?new It(e.startAt.position,!e.startAt.before):null;e.T=lt(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function Ut(t,e,n){return new xt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qt(t,e){return ht(Ft(t),Ft(e))&&t.limitType===e.limitType}function Vt(t){return ft(Ft(t))+"|lt:"+t.limitType}function Bt(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+X(e.value);var e})).join(", ")+"]"),B(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Tt(t.startAt)),t.endAt&&(e+=", endAt: "+Tt(t.endAt)),"Target("+e+")"}(Ft(t))+"; limitType="+t.limitType+")"}function Kt(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):H.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!St(t.startAt,jt(t),e))&&(!t.endAt||!St(t.endAt,jt(t),e))}(t,e)}function zt(t){return function(e,n){for(var r=!1,i=0,o=jt(t);i<o.length;i++){var a=o[i],s=Ht(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function Ht(t,e,n){var r=t.field.isKeyField()?H.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Y(r,i):g()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return g()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K(e)?"-0":e}}function Gt(t){return{integerValue:""+t}}function $t(t,e){return z(e)?Gt(e):Wt(t,e)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yt=function(){this._=void 0};function Qt(t,e,n){return t instanceof Zt?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof te?ee(t,e):t instanceof ne?re(t,e):function(t,e){var n=Jt(t,e),r=oe(n)+oe(t.A);return tt(n)&&tt(t.A)?Gt(r):Wt(t.R,r)}(t,e)}function Xt(t,e,n){return t instanceof te?ee(t,e):t instanceof ne?re(t,e):n}function Jt(t,e){return t instanceof ie?tt(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e}(Yt),te=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,r.__extends)(e,t),e}(Yt);function ee(t,e){for(var n=ae(e),r=function(t){n.some((function(e){return G(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ne=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,r.__extends)(e,t),e}(Yt);function re(t,e){for(var n=ae(e),r=function(t){n=n.filter((function(e){return!G(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ie=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,r.__extends)(e,t),e}(Yt);function oe(t){return j(t.integerValue||t.doubleValue)}function ae(t){return et(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se=function(t,e){this.field=t,this.transform=e},ue=function(t,e){this.version=t,this.transformResults=e},ce=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function le(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var fe=function(){};function he(t,e,n){t instanceof me?function(t,e,n){var r=t.value.clone(),i=be(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ye?function(t,e,n){if(le(t.precondition,e)){var r=be(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(_e(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function pe(t,e,n){t instanceof me?function(t,e,n){if(le(t.precondition,e)){var r=t.value.clone(),i=we(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(ge(e),r).setHasLocalMutations()}}(t,e,n):t instanceof ye?function(t,e,n){if(le(t.precondition,e)){var r=we(t.fieldTransforms,n,e),i=e.data;i.setAll(_e(t)),i.setAll(r),e.convertToFoundDocument(ge(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){le(t.precondition,e)&&e.convertToNoDocument(k.min())}(t,e)}function de(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=Jt(o.transform,a||null);null!=s&&(null==n&&(n=at.empty()),n.set(o.field,s))}return n||null}function ve(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&E(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof te&&e instanceof te||t instanceof ne&&e instanceof ne?E(t.elements,e.elements,G):t instanceof ie&&e instanceof ie?G(t.A,e.A):t instanceof Zt&&e instanceof Zt}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function ge(t){return t.isFoundDocument()?t.version:k.min()}var me=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,r.__extends)(e,t),e}(fe),ye=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,r.__extends)(e,t),e}(fe);function _e(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function be(t,e,n){var r=new Map;m(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Xt(a,s,n[i]))}return r}function we(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,Qt(s,u,e))}return r}var Ee,Ie,Te=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,r.__extends)(e,t),e}(fe),ke=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,r.__extends)(e,t),e}(fe),Ce=function(t){this.count=t};function Se(t){switch(t){case u.OK:return g();case u.CANCELLED:case u.UNKNOWN:case u.DEADLINE_EXCEEDED:case u.RESOURCE_EXHAUSTED:case u.INTERNAL:case u.UNAVAILABLE:case u.UNAUTHENTICATED:return!1;case u.INVALID_ARGUMENT:case u.NOT_FOUND:case u.ALREADY_EXISTS:case u.PERMISSION_DENIED:case u.FAILED_PRECONDITION:case u.ABORTED:case u.OUT_OF_RANGE:case u.UNIMPLEMENTED:case u.DATA_LOSS:return!0;default:return g()}}function Ae(t){if(void 0===t)return p("GRPC error has no .code"),u.UNKNOWN;switch(t){case Ee.OK:return u.OK;case Ee.CANCELLED:return u.CANCELLED;case Ee.UNKNOWN:return u.UNKNOWN;case Ee.DEADLINE_EXCEEDED:return u.DEADLINE_EXCEEDED;case Ee.RESOURCE_EXHAUSTED:return u.RESOURCE_EXHAUSTED;case Ee.INTERNAL:return u.INTERNAL;case Ee.UNAVAILABLE:return u.UNAVAILABLE;case Ee.UNAUTHENTICATED:return u.UNAUTHENTICATED;case Ee.INVALID_ARGUMENT:return u.INVALID_ARGUMENT;case Ee.NOT_FOUND:return u.NOT_FOUND;case Ee.ALREADY_EXISTS:return u.ALREADY_EXISTS;case Ee.PERMISSION_DENIED:return u.PERMISSION_DENIED;case Ee.FAILED_PRECONDITION:return u.FAILED_PRECONDITION;case Ee.ABORTED:return u.ABORTED;case Ee.OUT_OF_RANGE:return u.OUT_OF_RANGE;case Ee.UNIMPLEMENTED:return u.UNIMPLEMENTED;case Ee.DATA_LOSS:return u.DATA_LOSS;default:return g()}}(Ie=Ee||(Ee={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xe=function(){function t(t,e){this.comparator=t,this.root=e||Oe.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Oe.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oe.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ne(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ne(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ne(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ne(this.root,t,this.comparator,!0)},t}(),Ne=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Oe=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw g();if(this.right.isRed())throw g();var t=this.left.check();if(t!==this.right.check())throw g();return t+(this.isRed()?0:1)},t}();Oe.EMPTY=null,Oe.RED=!0,Oe.BLACK=!1,Oe.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw g()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw g()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Oe(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Re=function(){function t(t){this.comparator=t,this.data=new xe(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Pe(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Pe(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Pe=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),De=new xe(H.comparator);function Le(){return De}var Me=new xe(H.comparator);function je(){return Me}var Fe=new xe(H.comparator);function Ue(){return Fe}var qe=new Re(H.comparator);function Ve(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=qe,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Be=new Re(w);function Ke(){return Be}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,He.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(k.min(),r,Ke(),Le(),Ve())},t}(),He=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(D.EMPTY_BYTE_STRING,n,Ve(),Ve(),Ve())},t}(),We=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Ge=function(t,e){this.targetId=t,this.V=e},$e=function(t,e,n,r){void 0===n&&(n=D.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ye=function(){function t(){this.S=0,this.D=Je(),this.C=D.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=Ve(),e=Ve(),n=Ve();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:g()}})),new He(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=Je()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),Qe=function(){function t(t){this.W=t,this.G=new Map,this.H=Le(),this.J=Xe(),this.Y=new Re(w)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:g()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(pt(i))if(0===n){var o=new H(i.path);this.tt(e,o,ut.newNoDocument(o,k.min()))}else m(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&pt(o.target)){var a=new H(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,ut.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=Ve();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new ze(t,n,this.Y,this.H,r);return this.H=Le(),this.J=Xe(),this.Y=new Re(w),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Ye,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Re(w),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||h("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Ye),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function Xe(){return new xe(H.comparator)}function Je(){return new xe(H.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ze={asc:"ASCENDING",desc:"DESCENDING"},tn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},en=function(t,e){this.databaseId=t,this.I=e};function nn(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function rn(t,e){return t.I?e.toBase64():e.toUint8Array()}function on(t,e){return nn(t,e.toTimestamp())}function an(t){return m(!!t),k.fromTimestamp(function(t){var e=M(t);return new T(e.seconds,e.nanos)}(t))}function sn(t,e){return function(t){return new N(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function un(t){var e=N.fromString(t);return m(Rn(e)),e}function cn(t,e){return sn(t.databaseId,e.path)}function ln(t,e){var n=un(e);if(n.get(1)!==t.databaseId.projectId)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new c(u.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new H(dn(n))}function fn(t,e){return sn(t.databaseId,e)}function hn(t){var e=un(t);return 4===e.length?N.emptyPath():dn(e)}function pn(t){return new N(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dn(t){return m(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function vn(t,e,n){return{name:cn(t,e),fields:n.value.mapValue.fields}}function gn(t,e,n){var r=ln(t,e.name),i=an(e.updateTime),o=new at({mapValue:{fields:e.fields}}),a=ut.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function mn(t,e){var n;if(e instanceof me)n={update:vn(t,e.key,e.value)};else if(e instanceof Te)n={delete:cn(t,e.key)};else if(e instanceof ye)n={update:vn(t,e.key,e.data),updateMask:On(e.fieldMask)};else{if(!(e instanceof ke))return g();n={verify:cn(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Zt)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof te)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ne)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ie)return{fieldPath:e.field.canonicalString(),increment:n.A};throw g()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:on(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:g()}(t,e.precondition)),n}function yn(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?ce.updateTime(an(t.updateTime)):void 0!==t.exists?ce.exists(t.exists):ce.none()}(e.currentDocument):ce.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)m("REQUEST_TIME"===e.setToServerValue),n=new Zt;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new te(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new ne(i)}else"increment"in e?n=new ie(t,e.increment):g();var o=R.fromServerFormat(e.fieldPath);return new se(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=ln(t,e.update.name),o=new at({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new P(e.map((function(t){return R.fromServerFormat(t)})))}(e.updateMask);return new ye(i,o,a,n,r)}return new me(i,o,n,r)}if(e.delete){var s=ln(t,e.delete);return new Te(s,n)}if(e.verify){var u=ln(t,e.verify);return new ke(u,n)}return g()}function _n(t,e){return{documents:[fn(t,e.path)]}}function bn(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fn(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fn(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(rt(t.value))return{unaryFilter:{field:Sn(t.field),op:"IS_NAN"}};if(nt(t.value))return{unaryFilter:{field:Sn(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(rt(t.value))return{unaryFilter:{field:Sn(t.field),op:"IS_NOT_NAN"}};if(nt(t.value))return{unaryFilter:{field:Sn(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sn(t.field),op:Cn(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Sn(t.field),direction:kn(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||B(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=In(e.startAt)),e.endAt&&(n.structuredQuery.endAt=In(e.endAt)),n}function wn(t){var e=hn(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){m(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=En(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new kt(An(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return B(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Tn(n.startAt));var l=null;return n.endAt&&(l=Tn(n.endAt)),Nt(e,i,s,a,u,"F",c,l)}function En(t){return t?void 0!==t.unaryFilter?[Nn(t)]:void 0!==t.fieldFilter?[xn(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return En(t)})).reduce((function(t,e){return t.concat(e)})):g():[]}function In(t){return{before:t.before,values:t.position}}function Tn(t){var e=!!t.before,n=t.values||[];return new It(n,e)}function kn(t){return Ze[t]}function Cn(t){return tn[t]}function Sn(t){return{fieldPath:t.canonicalString()}}function An(t){return R.fromServerFormat(t.fieldPath)}function xn(t){return dt.create(An(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return g()}}(t.fieldFilter.op),t.fieldFilter.value)}function Nn(t){switch(t.unaryFilter.op){case"IS_NAN":var e=An(t.unaryFilter.field);return dt.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=An(t.unaryFilter.field);return dt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=An(t.unaryFilter.field);return dt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=An(t.unaryFilter.field);return dt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return g()}}function On(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Rn(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Ln(e)),e=Dn(t.get(n),e);return Ln(e)}function Dn(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function Ln(t){return t+""}function Mn(t){var e=t.length;if(m(e>=2),2===e)return m(""===t.charAt(0)&&""===t.charAt(1)),N.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("",o);switch((a<0||a>n)&&g(),t.charAt(a+1)){case"":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:g()}o=a+2}return new N(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jn=function(t,e){this.seconds=t,this.nanoseconds=e},Fn=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Fn.store="owner",Fn.key="owner";var Un=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Un.store="mutationQueues",Un.keyPath="userId";var qn=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};qn.store="mutations",qn.keyPath="batchId",qn.userMutationsIndex="userMutationsIndex",qn.userMutationsKeyPath=["userId","batchId"];var Vn=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Pn(e)]},t.key=function(t,e,n){return[t,Pn(e),n]},t}();Vn.store="documentMutations",Vn.PLACEHOLDER=new Vn;var Bn=function(t,e){this.path=t,this.readTime=e},Kn=function(t,e){this.path=t,this.version=e},zn=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};zn.store="remoteDocuments",zn.readTimeIndex="readTimeIndex",zn.readTimeIndexPath="readTime",zn.collectionReadTimeIndex="collectionReadTimeIndex",zn.collectionReadTimeIndexPath=["parentPath","readTime"];var Hn=function(t){this.byteSize=t};Hn.store="remoteDocumentGlobal",Hn.key="remoteDocumentGlobalKey";var Wn=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Wn.store="targets",Wn.keyPath="targetId",Wn.queryTargetsIndexName="queryTargetsIndex",Wn.queryTargetsKeyPath=["canonicalId","targetId"];var Gn=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Gn.store="targetDocuments",Gn.keyPath=["targetId","path"],Gn.documentTargetsIndex="documentTargetsIndex",Gn.documentTargetsKeyPath=["path","targetId"];var $n=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};$n.key="targetGlobalKey",$n.store="targetGlobal";var Yn=function(t,e){this.collectionId=t,this.parent=e};Yn.store="collectionParents",Yn.keyPath=["collectionId","parent"];var Qn=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Qn.store="clientMetadata",Qn.keyPath="clientId";var Xn=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Xn.store="bundles",Xn.keyPath="bundleId";var Jn=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Jn.store="namedQueries",Jn.keyPath="name";var Zn=(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__spreadArray)((0,r.__spreadArray)([],[Un.store,qn.store,Vn.store,zn.store,Wn.store,Fn.store,$n.store,Gn.store]),[Qn.store])),[Hn.store])),[Yn.store])),[Xn.store,Jn.store]),tr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",er=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),nr=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},rr=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&g(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),ir=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new nr,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new sr(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=hr(e.target.error);n.ft.reject(new sr(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new sr(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(h("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new cr(e)},t}(),or=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,i.getUA)())&&p("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return h("SimpleDb","Removing database:",t),lr(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,i.getUA)(),n=t._t(e),r=0<n&&n<10,o=t.Et(e),a=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t={NODE_ENV:"production",BASE_URL:"/"})||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(h("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new sr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new c(u.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new sr(t,n))},i.onupgradeneeded=function(t){h("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){h("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c;return(0,r.__generator)(this,(function(l){switch(l.label){case 0:o="readonly"===e,a=0,s=function(){var e,s,c,l,f;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:++a,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=r.sent(),e=ir.open(u.db,t,o?"readonly":"readwrite",n),s=i(e).catch((function(t){return e.abort(t),rr.reject(t)})).toPromise(),c={},s.catch((function(){})),[4,e.dt];case 3:return[2,(c.value=(r.sent(),s),c)];case 4:return l=r.sent(),f="FirebaseError"!==l.name&&a<3,h("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),u.close(),f?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ar=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return lr(this.Pt.delete())},t}(),sr=function(t){function e(e,n){var r=this;return(r=t.call(this,u.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,r.__extends)(e,t),e}(c);function ur(t){return"IndexedDbTransactionError"===t.name}var cr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(h("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(h("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),lr(n)},t.prototype.add=function(t){return h("SimpleDb","ADD",this.store.name,t,t),lr(this.store.add(t))},t.prototype.get=function(t){var e=this;return lr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),h("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return h("SimpleDb","DELETE",this.store.name,t),lr(this.store.delete(t))},t.prototype.count=function(){return h("SimpleDb","COUNT",this.store.name),lr(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){h("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new rr((function(n,r){e.onerror=function(t){var e=hr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new rr((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ar(i),a=e(i.primaryKey,i.value,o);if(a instanceof rr){var s=a.catch((function(t){return o.done(),rr.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return rr.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function lr(t){return new rr((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=hr(t.target.error);n(e)}}))}var fr=!1;function hr(t){var e=or._t((0,i.getUA)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new c("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return fr||(fr=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,r.__extends)(e,t),e}(er);function dr(t,e){var n=y(t);return or.It(n.Mt,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&he(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&pe(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&pe(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(k.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Ve())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&E(this.mutations,t.mutations,(function(t,e){return ve(t,e)}))&&E(this.baseMutations,t.baseMutations,(function(t,e){return ve(t,e)}))},t}(),gr=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){m(e.mutations.length===r.length);for(var i=Ue(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),mr=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=k.min()),void 0===o&&(o=k.min()),void 0===a&&(a=D.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),yr=function(t){this.Lt=t};function _r(t,e){if(e.document)return gn(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=H.fromSegments(e.noDocument.path),r=Tr(e.noDocument.readTime),i=ut.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=H.fromSegments(e.unknownDocument.path);return r=Tr(e.unknownDocument.version),ut.newUnknownDocument(o,r)}return g()}function br(t,e,n){var r=wr(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:cn(t,e.key),fields:e.data.value.mapValue.fields,updateTime:nn(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new zn(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=Ir(e.version);return a=e.hasCommittedMutations,new zn(null,new Bn(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Ir(e.version);return new zn(new Kn(c,l),null,null,!0,r,i)}return g()}function wr(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Er(t){var e=new T(t[0],t[1]);return k.fromTimestamp(e)}function Ir(t){var e=t.toTimestamp();return new jn(e.seconds,e.nanoseconds)}function Tr(t){var e=new T(t.seconds,t.nanoseconds);return k.fromTimestamp(e)}function kr(t,e){for(var n=(e.baseMutations||[]).map((function(e){return yn(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return yn(t.Lt,e)})),s=T.fromMillis(e.localWriteTimeMs);return new vr(e.batchId,s,n,a)}function Cr(t){var e,n,r=Tr(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Tr(t.lastLimboFreeSnapshotVersion):k.min();return void 0!==t.query.documents?(m(1===(n=t.query).documents.length),e=Ft(Ot(hn(n.documents[0])))):e=function(t){return Ft(wn(t))}(t.query),new mr(e,t.targetId,0,t.lastListenSequenceNumber,r,i,D.fromBase64String(t.resumeToken))}function Sr(t,e){var n,r=Ir(e.snapshotVersion),i=Ir(e.lastLimboFreeSnapshotVersion);n=pt(e.target)?_n(t.Lt,e.target):bn(t.Lt,e.target);var o=e.resumeToken.toBase64();return new Wn(e.targetId,ft(e.target),r,o,e.sequenceNumber,i,n)}function Ar(t){var e=wn({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ut(e,e.limit,"L"):e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xr=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Nr(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Tr(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Nr(t).put({bundleId:(n=e).id,createTime:Ir(an(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return Or(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Ar(e.bundledQuery),readTime:Tr(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return Or(t).put(function(t){return{name:t.name,readTime:Ir(an(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Nr(t){return dr(t,Xn.store)}function Or(t){return dr(t,Jn.store)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr=function(){function t(){this.Bt=new Pr}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),rr.resolve()},t.prototype.getCollectionParents=function(t,e){return rr.resolve(this.Bt.getEntries(e))},t}(),Pr=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Re(N.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Re(N.comparator)).toArray()},t}(),Dr=function(){function t(){this.qt=new Pr}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Pn(i)};return Lr(t).put(o)}return rr.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[I(e),""],!1,!0);return Lr(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Mn(o.parent))}return n}))},t}();function Lr(t){return dr(t,Yn.store)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mr={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},jr=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(t,e,n){var r=t.store(qn.store),i=t.store(Vn.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){m(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],p=Vn.key(e,h.key.path,n.batchId);o.push(i.delete(p)),c.push(h.key)}return rr.waitFor(o).next((function(){return c}))}function Ur(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw g();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr.DEFAULT_COLLECTION_PERCENTILE=10,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jr.DEFAULT=new jr(41943040,jr.DEFAULT_COLLECTION_PERCENTILE,jr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jr.DISABLED=new jr(-1,0,0);var qr=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return m(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Br(t).$t({index:qn.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=Kr(t),a=Br(t);return a.add({}).next((function(s){m("number"==typeof s);for(var u=new vr(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return mn(t.Lt,e)})),i=n.mutations.map((function(e){return mn(t.Lt,e)}));return new qn(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new Re((function(t,e){return w(t.canonicalString(),e.canonicalString())})),h=0,p=r;h<p.length;h++){var d=p[h],v=Vn.key(i.userId,d.key.path,s);f=f.add(d.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,Vn.PLACEHOLDER))}return f.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),rr.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Br(t).get(e).next((function(t){return t?(m(t.userId===n.userId),kr(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?rr.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Br(t).$t({index:qn.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(m(e.batchId>=r),o=kr(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Br(t).$t({index:qn.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Br(t).Nt(qn.userMutationsIndex,n).next((function(t){return t.map((function(t){return kr(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=Vn.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Kr(t).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Mn(u);if(s===n.userId&&e.path.isEqual(l))return Br(t).get(c).next((function(t){if(!t)throw g();m(t.userId===n.userId),o.push(kr(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Re(w),i=[];return e.forEach((function(e){var o=Vn.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Kr(t).$t({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Mn(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),rr.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=Vn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Re(w);return Kr(t).$t({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Mn(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Br(t).get(e).next((function(t){if(null===t)throw g();m(t.userId===n.userId),r.push(kr(n.R,t))})))})),rr.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Fr(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),rr.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return rr.resolve();var r=IDBKeyRange.lowerBound(Vn.prefixForUser(e.userId)),i=[];return Kr(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Mn(t[1]);i.push(o)}else r.done()})).next((function(){m(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return Vr(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return zr(t).get(this.userId).next((function(t){return t||new Un(e.userId,-1,"")}))},t}();function Vr(t,e,n){var r=Vn.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Kr(t).$t({range:o,Ft:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function Br(t){return dr(t,qn.store)}function Kr(t){return dr(t,Vn.store)}function zr(t){return dr(t,Un.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),Wr=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new Hr(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return k.fromTimestamp(new T(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return Gr(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return m(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Gr(t).$t((function(a,s){var u=Cr(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return rr.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return Gr(t).$t((function(t,n){var r=Cr(n);e(r)}))},t.prototype.Xt=function(t){return $r(t).get($n.key).next((function(t){return m(null!==t),t}))},t.prototype.Zt=function(t,e){return $r(t).put($n.key,e)},t.prototype.te=function(t,e){return Gr(t).put(Sr(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=ft(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Gr(t).$t({range:r,index:Wn.queryTargetsIndexName},(function(t,n,r){var o=Cr(n);ht(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Yr(t);return e.forEach((function(e){var a=Pn(e.path);i.push(o.put(new Gn(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),rr.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Yr(t);return rr.forEach(e,(function(e){var o=Pn(e.path);return rr.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Yr(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Yr(t),i=Ve();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=Mn(t[1]),o=new H(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Pn(e.path),r=IDBKeyRange.bound([n],[I(n)],!1,!0),i=0;return Yr(t).$t({index:Gn.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return Gr(t).get(e).next((function(t){return t?Cr(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t){return dr(t,Wn.store)}function $r(t){return dr(t,$n.store)}function Yr(t){return dr(t,Gn.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){if(t.code!==u.FAILED_PRECONDITION||t.message!==tr)throw t;return h("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=w(n,i);return 0===a?w(r,o):a}var Jr=function(){function t(t){this.ne=t,this.buffer=new Re(Xr),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Xr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Zr=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;h("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return ur(e=n.sent())?(h("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Qr(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),ti=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return rr.resolve(s.o);var r=new Jr(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(h("LruGarbageCollector","Garbage collection skipped; disabled"),rr.resolve(Mr)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(h("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Mr):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,a,s,u,c,l=this,p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(h("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,a=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),f()<=o.LogLevel.DEBUG&&h("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-p)+"ms\n\tDetermined least recently used "+r+" in "+(s-a)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-p)+"ms"),rr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),ei=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new ti(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return ni(t,n)},t.prototype.removeReference=function(t,e,n){return ni(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return ni(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return zr(t).Ot((function(r){return Vr(t,r,e).next((function(t){return t&&(n=!0),rr.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),Yr(t).delete([0,Pn(a.path)])}))}));i.push(u)}})).next((function(){return rr.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return ni(t,e)},t.prototype.we=function(t,e){var n,r=Yr(t),i=s.o;return r.$t({index:Gn.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var a=r.path,u=r.sequenceNumber;0===o?(i!==s.o&&e(new H(Mn(n)),i),i=u,n=a):i=s.o})).next((function(){i!==s.o&&e(new H(Mn(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function ni(t,e){return Yr(t).put(function(t,e){return new Gn(0,Pn(t.path),e)}(e,t.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ri=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){S(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return A(this.inner)},t}(),ii=function(){function t(){this.changes=new ri((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:k.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:ut.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?rr.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),oi=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return ui(t).put(ci(e),n)},t.prototype.removeEntry=function(t,e){var n=ui(t),r=ci(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return ui(t).get(ci(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return ui(t).get(ci(e)).next((function(t){return{document:n.ye(e,t),size:Ur(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Le();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Le(),i=new xe(H.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,Ur(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return rr.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return ui(t).$t({range:r},(function(t,e,r){for(var a=H.fromSegments(t);o&&H.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Le(),o=e.path.length+1,a={};if(n.isEqual(k.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=wr(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=zn.collectionReadTimeIndex}return ui(t).$t(a,(function(t,n,a){if(t.length===o){var s=_r(r.R,n);e.path.isPrefixOf(s.key.path)?Kt(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new ai(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return si(t).get(Hn.key).next((function(t){return m(!!t),t}))},t.prototype.me=function(t,e){return si(t).put(Hn.key,e)},t.prototype.ye=function(t,e){if(e){var n=_r(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(k.min()))return n}return ut.newInvalidDocument(t)},t}(),ai=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new ri((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return(0,r.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Re((function(t,e){return w(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=br(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=Ur(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=br(e.Ie.R,ut.newNoDocument(o,k.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),rr.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(ii);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(t){return dr(t,Hn.store)}function ui(t){return dr(t,zn.store)}function ci(t){return t.path.toArray()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var li=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;m(n<r&&n>=0&&r<=11);var o=new ir("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Fn.store)}(t),function(t){t.createObjectStore(Un.store,{keyPath:Un.keyPath}),t.createObjectStore(qn.store,{keyPath:qn.keyPath,autoIncrement:!0}).createIndex(qn.userMutationsIndex,qn.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Vn.store)}(t),fi(t),function(t){t.createObjectStore(zn.store)}(t));var a=rr.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Gn.store),t.deleteObjectStore(Wn.store),t.deleteObjectStore($n.store)}(t),fi(t)),a=a.next((function(){return function(t){var e=t.store($n.store),n=new $n(0,0,k.min().toTimestamp(),0);return e.put($n.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(qn.store).Nt().next((function(n){t.deleteObjectStore(qn.store),t.createObjectStore(qn.store,{keyPath:qn.keyPath,autoIncrement:!0}).createIndex(qn.userMutationsIndex,qn.userMutationsKeyPath,{unique:!0});var r=e.store(qn.store),i=n.map((function(t){return r.put(t)}));return rr.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(Qn.store,{keyPath:Qn.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Hn.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(zn.store);e.createIndex(zn.readTimeIndex,zn.readTimeIndexPath,{unique:!1}),e.createIndex(zn.collectionReadTimeIndex,zn.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(Xn.store,{keyPath:Xn.keyPath})}(t),function(t){t.createObjectStore(Jn.store,{keyPath:Jn.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(zn.store).$t((function(t,n){e+=Ur(n)})).next((function(){var n=new Hn(e);return t.store(Hn.store).put(Hn.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(Un.store),r=t.store(qn.store);return n.Nt().next((function(n){return rr.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(qn.userMutationsIndex,i).next((function(r){return rr.forEach(r,(function(r){m(r.userId===n.userId);var i=kr(e.R,r);return Fr(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(Gn.store),n=t.store(zn.store);return t.store($n.store).get($n.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new N(n),a=function(t){return[0,Pn(t)]}(o);r.push(e.get(a).next((function(n){return n?rr.resolve():function(n){return e.put(new Gn(0,Pn(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return rr.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(Yn.store,{keyPath:Yn.keyPath});var n=e.store(Yn.store),r=new Pr,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Pn(i)})}};return e.store(zn.store).$t({Ft:!0},(function(t,e){var n=new N(t);return i(n.popLast())})).next((function(){return e.store(Vn.store).$t({Ft:!0},(function(t,e){t[0];var n=t[1];t[2];var r=Mn(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(Wn.store);return n.$t((function(t,r){var i=Cr(r),o=Sr(e.R,i);return n.put(o)}))},t}();function fi(t){t.createObjectStore(Gn.store,{keyPath:Gn.keyPath}).createIndex(Gn.documentTargetsIndex,Gn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Wn.store,{keyPath:Wn.keyPath}).createIndex(Wn.queryTargetsIndexName,Wn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore($n.store)}var hi="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",pi=function(){function t(e,n,r,i,o,a,s,l,f,h){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=f,this.Ce=h,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new c(u.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ei(this,i),this.Le=n+"main",this.R=new yr(l),this.Be=new or(this.Le,11,new li(this.R)),this.qe=new Wr(this.referenceDelegate,this.R),this.Ut=new Dr,this.Ue=function(t,e){return new oi(t,e)}(this.R,this.Ut),this.Ke=new xr,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===h&&p("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,hi);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new s(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return vi(e).put(new Qn(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(ur(e))return h("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return h("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return di(t).get(Fn.key).next((function(t){return rr.resolve(e.tn(t))}))},t.prototype.en=function(t){return vi(t).delete(this.clientId)},t.prototype.nn=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e,n,i,o=this;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=dr(t,Qn.store);return e.Nt().next((function(t){var n=o.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return rr.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=r.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)i=n[e],this.Qe.removeItem(this.on(i.clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?rr.resolve(!0):di(t).get(Fn.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new c(u.FAILED_PRECONDITION,hi);return!1}}return!(!e.networkEnabled||!e.inForeground)||vi(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&h("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t=this;return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Fn.store,Qn.store],(function(e){var n=new pr(e,s.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return vi(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return qr.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;h("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,Zn,(function(o){return i=new pr(o,r.Ne?r.Ne.next():s.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw p("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new c(u.FAILED_PRECONDITION,tr);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return di(t).get(Fn.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new c(u.FAILED_PRECONDITION,hi)}))},t.prototype.Ze=function(t){var e=new Fn(this.clientId,this.allowTabSynchronization,Date.now());return di(t).put(Fn.key,e)},t.yt=function(){return or.yt()},t.prototype.Xe=function(t){var e=this,n=di(t);return n.get(Fn.key).next((function(t){return e.tn(t)?(h("IndexedDbPersistence","Releasing primary lease."),n.delete(Fn.key)):rr.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(p("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),(0,i.isSafari)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return h("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return p("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){p("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function di(t){return dr(t,Fn.store)}function vi(t){return dr(t,Qn.store)}function gi(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var mi=function(t,e){this.progress=t,this.wn=e},yi=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return H.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Mt(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new H(e)).next((function(t){var e=je();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=je();return this.Ut.getCollectionParents(t,i).next((function(a){return rr.forEach(a,(function(a){var s=function(t,e){return new xt(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=ut.newInvalidDocument(c),r=r.insert(c,l)),pe(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){Kt(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=Ve(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof ye&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),_i=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Ve(),i=Ve(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),bi=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(k.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(a){var s=i.Cn(e,a);return(Rt(e)||Pt(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(f()<=o.LogLevel.DEBUG&&h("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Bt(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Re(zt(t));return e.forEach((function(e,r){Kt(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return f()<=o.LogLevel.DEBUG&&h("QueryEngine","Using full collection scan to execute query:",Bt(e)),this.Sn.getDocumentsMatchingQuery(t,e,k.min())},t}(),wi=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new xe(w),this.Fn=new ri((function(t){return ft(t)}),ht),this.$n=k.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new yi(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e,n,r){return new wi(t,e,n,r)}function Ii(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=y(t),i=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n._n.getAllMutationBatches(t).next((function(a){return r=a,i=n.persistence.getMutationQueue(e),o=new yi(n.On,i,n.persistence.getIndexManager()),i.getAllMutationBatches(t)})).next((function(e){for(var n=[],i=[],a=Ve(),s=0,u=r;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var p=0,d=e;p<d.length;p++){var v=d[p];i.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return o.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:i}}))}))}))];case 1:return a=r.sent(),[2,(n._n=i,n.Mn=o,n.xn.Vn(n.Mn),a)]}}))}))}function Ti(t,e){var n=y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=rr.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);m(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function ki(t){var e=y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Ci(t,e){var n=y(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return m(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=Le();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(Si(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(k.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return rr.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.kn=i,t}))}function Si(t,e,n,r,i){var o=Ve();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Le();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(k.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):h("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Ai(t,e){var n=y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function xi(t,e){var n=y(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,rr.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new mr(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function Ni(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:i=y(t),o=i.kn.get(e),a=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",a,(function(t){return i.persistence.referenceDelegate.removeTarget(t,o)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!ur(s=r.sent()))throw s;return h("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return i.kn=i.kn.remove(e),i.Fn.delete(o.target),[2]}}))}))}function Oi(t,e,n){var r=y(t),i=k.min(),o=Ve();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=y(t),i=r.Fn.get(n);return void 0!==i?rr.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,Ft(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:k.min(),n?o:Ve())})).next((function(t){return{documents:t,Bn:o}}))}))}function Ri(t,e){var n=y(t),r=y(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Pi(t){var e=y(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=y(t),i=Le(),o=wr(n),a=ui(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:zn.readTimeIndex,range:s},(function(t,e){var n=_r(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Er(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function Di(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return[2,(e=y(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=ui(t),n=k.min();return e.$t({index:zn.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Er(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Li(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,h,p,d;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:for(o=y(t),a=Ve(),s=Le(),u=Ue(),c=0,l=n;c<l.length;c++)f=l[c],h=e.qn(f.metadata.name),f.document&&(a=a.add(h)),s=s.insert(h,e.Un(f)),u=u.insert(h,e.Kn(f.metadata.readTime));return p=o.On.newChangeBuffer({trackRemovals:!0}),[4,xi(o,function(t){return Ft(Ot(N.fromString("__bundle__/docs/"+t)))}(i))];case 1:return d=r.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Si(t,p,s,k.min(),u).next((function(e){return p.apply(t),e})).next((function(e){return o.qe.removeMatchingKeysForTargetId(t,d.targetId).next((function(){return o.qe.addMatchingKeys(t,a,d.targetId)})).next((function(){return o.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Mi(t,e,n){return void 0===n&&(n=Ve()),(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,xi(t,Ft(Ar(e.bundledQuery)))];case 1:return i=r.sent(),[2,(o=y(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var r=an(e.readTime);if(i.snapshotVersion.compareTo(r)>=0)return o.Ke.saveNamedQuery(t,e);var a=i.withResumeToken(D.EMPTY_BYTE_STRING,r);return o.kn=o.kn.insert(a.targetId,a),o.qe.updateTargetData(t,a).next((function(){return o.qe.removeMatchingKeysForTargetId(t,i.targetId)})).next((function(){return o.qe.addMatchingKeys(t,n,i.targetId)})).next((function(){return o.Ke.saveNamedQuery(t,e)}))}))]}}))}))
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var ji=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return rr.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:an(n.createTime)}),rr.resolve()},t.prototype.getNamedQuery=function(t,e){return rr.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Ar(t.bundledQuery),readTime:an(t.readTime)}}(e)),rr.resolve()},t}(),Fi=function(){function t(){this.Wn=new Re(Ui.Gn),this.zn=new Re(Ui.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ui(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new Ui(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new H(new N([])),r=new Ui(n,t),i=new Ui(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new H(new N([])),n=new Ui(e,t),r=new Ui(e,t+1),i=Ve();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new Ui(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ui=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return H.comparator(t.key,e.key)||w(t.ns,e.ns)},t.Hn=function(t,e){return w(t.ns,e.ns)||H.comparator(t.key,e.key)},t}(),qi=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Re(Ui.Gn)}return t.prototype.checkEmpty=function(t){return rr.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new vr(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new Ui(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return rr.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return rr.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return rr.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return rr.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return rr.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ui(e,0),i=new Ui(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),rr.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Re(w);return e.forEach((function(t){var e=new Ui(t,0),i=new Ui(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),rr.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;H.isDocumentKey(i)||(i=i.child(""));var o=new Ui(new H(i),0),a=new Re(w);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),rr.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;m(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return rr.forEach(e.mutations,(function(i){var o=new Ui(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new Ui(e,0),r=this.rs.firstAfterOrEqual(n);return rr.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,rr.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),Vi=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new xe(H.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return rr.resolve(n?n.document.clone():ut.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Le();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():ut.newInvalidDocument(t))})),rr.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Le(),i=new H(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||Kt(e,c)&&(r=r.insert(c.key,c.clone()))}return rr.resolve(r)},t.prototype.fs=function(t,e){return rr.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new Bi(this)},t.prototype.getSize=function(t){return rr.resolve(this.size)},t}(),Bi=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,r.__extends)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),rr.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(ii),Ki=function(){function t(t){this.persistence=t,this.ds=new ri((function(t){return ft(t)}),ht),this.lastRemoteSnapshotVersion=k.min(),this.highestTargetId=0,this.ws=0,this._s=new Fi,this.targetCount=0,this.ys=Hr.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),rr.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return rr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return rr.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),rr.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),rr.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new Hr(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,rr.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),rr.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,rr.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),rr.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return rr.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return rr.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),rr.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),rr.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),rr.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return rr.resolve(n)},t.prototype.containsKey=function(t,e){return rr.resolve(this._s.containsKey(e))},t}(),zi=function(){function t(t,e){var n=this;this.gs={},this.Ne=new s(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new Ki(this),this.Ut=new Rr,this.Ue=function(t,e){return new Vi(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new yr(e),this.Ke=new ji(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new qi(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;h("MemoryPersistence","Starting transaction:",t);var i=new Hi(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return rr.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),Hi=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,r.__extends)(e,t),e}(er),Wi=function(){function t(t){this.persistence=t,this.As=new Fi,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw g()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),rr.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),rr.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),rr.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rr.forEach(this.vs,(function(r){var i=H.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return rr.or([function(){return rr.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),Gi=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){return"firestore_clients_"+t+"_"+e}function Yi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function Qi(t,e){return"firestore_targets_"+t+"_"+e}Gi.UNAUTHENTICATED=new Gi(null),Gi.GOOGLE_CREDENTIALS=new Gi("google-credentials-uid"),Gi.FIRST_PARTY=new Gi("first-party-uid"),Gi.MOCK_USER=new Gi("mock-user");var Xi=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new c(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(p("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ji=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new c(i.error.code,i.error.message)),o?new t(e,i.state,r):(p("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Zi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ke(),a=0;i&&a<r.activeTargetIds.length;++a)i=z(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(p("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),to=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(p("SharedClientState","Failed to parse online state: "+e),null)},t}(),eo=function(){function t(){this.activeTargetIds=Ke()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),no=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new xe(w),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=$i(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new eo),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e,n,i,o,a,s,u,c,l,f,h=this;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.Ns&&(o=this.getItem($i(this.persistenceKey,i)))&&(a=Zi.Vs(i,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)f=l[c],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(Qi(this.persistenceKey,t));if(n){var r=Ji.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(Qi(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return h("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){h("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){h("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(h("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var t,e,i,o,a,u;return(0,r.__generator)(this,(function(r){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(i=this.si(n.key,n.newValue)))return[2,this.ii(i)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(a=this.js(n.newValue)))return[2,this.Ws(a)]}else if(n.key===this.Ms)(u=function(t){var e=s.o;if(null!=t)try{var n=JSON.parse(t);m("number"==typeof n),e=n}catch(t){p("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==s.o&&this.sequenceNumberHandler(u);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new Xi(this.currentUser,t,e,n),i=Yi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=Yi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=Qi(this.persistenceKey,t),i=new Ji(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Zi.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Xi.Vs(new Gi(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return Ji.Vs(r,e)},t.prototype.js=function(t){return to.Vs(t)},t.prototype.ii=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(h("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Ke();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),ro=function(){function t(){this.li=new eo,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new eo,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),io=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),oo=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){h("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){h("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ao={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},so=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),uo=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,r.__extends)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var s=new a.JJ;s.listenOnce(a.tw.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case a.jK.NO_ERROR:var e=s.getResponseJson();h("Connection","XHR received:",JSON.stringify(e)),i(e);break;case a.jK.TIMEOUT:h("Connection",'RPC "'+t+'" timed out'),o(new c(u.DEADLINE_EXCEEDED,"Request time out"));break;case a.jK.HTTP_ERROR:var n=s.getStatus();if(h("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var l=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(u).indexOf(e)>=0?e:u.UNKNOWN}(r.status);o(new c(l,r.message))}else o(new c(u.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new c(u.UNAVAILABLE,"Connection failed."));break;default:g()}}finally{h("Connection",'RPC "'+t+'" completed.')}}));var l=JSON.stringify(r);s.send(e,"POST",l,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=(0,a.UE)(),o=(0,a.FJ)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new a.zI({})),this.ki(s.initMessageHeaders,e),(0,i.isMobileCordova)()||(0,i.isReactNative)()||(0,i.isElectron)()||(0,i.isIE)()||(0,i.isUWP)()||(0,i.isBrowserExtension)()||(s.httpHeadersOverwriteParam="$httpHeaders");var l=n.join("");h("Connection","Creating WebChannel: "+l,s);var f=r.createWebChannel(l,s),p=!1,v=!1,g=new so({Ei:function(t){v?h("Connection","Not sending because WebChannel is closed:",t):(p||(h("Connection","Opening WebChannel transport."),f.open(),p=!0),h("Connection","WebChannel sending:",t),f.send(t))},Ti:function(){return f.close()}}),y=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return y(f,a.ii.EventType.OPEN,(function(){v||h("Connection","WebChannel transport opened.")})),y(f,a.ii.EventType.CLOSE,(function(){v||(v=!0,h("Connection","WebChannel transport closed"),g.Vi())})),y(f,a.ii.EventType.ERROR,(function(t){v||(v=!0,d("Connection","WebChannel transport errored:",t),g.Vi(new c(u.UNAVAILABLE,"The operation could not be completed")))})),y(f,a.ii.EventType.MESSAGE,(function(t){var e;if(!v){var n=t.data[0];m(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){h("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Ee[t];if(void 0!==e)return Ae(e)}(o),s=i.message;void 0===a&&(a=u.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),v=!0,g.Vi(new c(a,s)),f.close()}else h("Connection","WebChannel received:",n),g.Si(n)}})),y(o,a.ju.STAT_EVENT,(function(t){t.stat===a.kN.PROXY?h("Connection","Detected buffering proxy"):t.stat===a.kN.NOPROXY&&h("Connection","Detected no buffering proxy")})),setTimeout((function(){g.Pi()}),0),g},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);h("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return h("RestConnection","Received: ",t),t}),(function(e){throw d("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=ao[t];return this.Di+"/v1/"+e+":"+n},t}());
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(){return"undefined"!=typeof window?window:null}function lo(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(t){return new en(t,!0)}var ho=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&h("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),po=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new ho(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===u.RESOURCE_EXHAUSTED?(p(e.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===u.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new c(u.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return h("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(h("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),vo=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,r.__extends)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:g()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(m(void 0===e||"string"==typeof e),D.fromBase64String(e||"")):(m(void 0===e||e instanceof Uint8Array),D.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?u.UNKNOWN:Ae(t.code);return new c(e,t.message||"")}(s);n=new $e(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=ln(t,r.document.name),o=an(r.document.updateTime);var s=new at({mapValue:{fields:r.document.fields}}),l=(a=ut.newFoundDocument(i,o,s),r.targetIds||[]),f=r.removedTargetIds||[];n=new We(l,f,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=ln(t,r.document),o=r.readTime?an(r.readTime):k.min(),s=ut.newNoDocument(i,o),a=r.removedTargetIds||[],n=new We([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=ln(t,r.document),o=r.removedTargetIds||[],n=new We([],o,i,null);else{if(!("filter"in e))return g();e.filter;var h=e.filter;h.targetId,r=h.count||0,i=new Ce(r),o=h.targetId,n=new Ge(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return k.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?k.min():e.readTime?an(e.readTime):k.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=pn(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=pt(r)?{documents:_n(t,r)}:{query:bn(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=rn(t,e.resumeToken):e.snapshotVersion.compareTo(k.min())>0&&(n.readTime=nn(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return g()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=pn(this.R),e.removeTarget=t,this.cr(e)},e}(po),go=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(m(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(m(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?an(t.updateTime):an(e);return n.isEqual(k.min())&&(n=an(e)),new ue(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=an(t.commitTime);return this.listener.Tr(n,e)}return m(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=pn(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return mn(e.R,t)}))};this.cr(n)},e}(po),mo=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,r.__extends)(e,t),e.prototype.br=function(){if(this.Rr)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new c(u.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===u.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new c(u.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),yo=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(p(e),this.Vr=!1):h("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),_o=function(t,e,n,i,o){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di((function(t){n.enqueueAndForget((function(){return(0,r.__awaiter)(a,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return Ao(this)?(h("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return(e=y(t)).Or.add(4),[4,wo(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,bo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new yo(n,i)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(!Ao(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function wo(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Eo(t,e){var n=y(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),So(n)?Co(n):Ko(n).er()&&To(n,e))}function Io(t,e){var n=y(t),r=Ko(n);n.$r.delete(e),r.er()&&ko(n,e),0===n.$r.size&&(r.er()?r.ir():Ao(n)&&n.Br.set("Unknown"))}function To(t,e){t.qr.U(e.targetId),Ko(t).mr(e)}function ko(t,e){t.qr.U(e),Ko(t).yr(e)}function Co(t){t.qr=new Qe({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),Ko(t).start(),t.Br.Sr()}function So(t){return Ao(t)&&!Ko(t).tr()&&t.$r.size>0}function Ao(t){return 0===y(t).Or.size}function xo(t){t.qr=void 0}function No(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return t.$r.forEach((function(e,n){To(t,e)})),[2]}))}))}function Oo(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){return xo(t),So(t)?(t.Br.Nr(e),Co(t)):t.Br.set("Unknown"),[2]}))}))}function Ro(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o,a;return(0,r.__generator)(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof $e&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:n=e.cause,i=0,o=e.targetIds,r.label=1;case 1:return i<o.length?(a=o[i],t.$r.has(a)?[4,t.remoteSyncer.rejectListen(a,n)]:[3,3]):[3,5];case 2:r.sent(),t.$r.delete(a),t.qr.removeTarget(a),r.label=3;case 3:r.label=4;case 4:return i++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return i=s.sent(),h("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),[4,Po(t,i)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof We?t.qr.X(e):e instanceof Ge?t.qr.rt(e):t.qr.et(e),n.isEqual(k.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,ki(t.localStore)];case 8:return o=s.sent(),n.compareTo(o)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(D.EMPTY_BYTE_STRING,n.snapshotVersion)),ko(t,e);var r=new mr(n.target,e,1,n.sequenceNumber);To(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return h("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,Po(t,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Po(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i=this;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:if(!ur(e))throw e;return t.Or.add(1),[4,wo(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return ki(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return(0,r.__awaiter)(i,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return h("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,bo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Do(t,e){return e().catch((function(n){return Po(t,n,e)}))}function Lo(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n,i,o,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:e=y(t),n=zo(e),i=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,r.label=1;case 1:if(!function(t){return Ao(t)&&t.Fr.length<10}(e))return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Ai(e.localStore,i)];case 3:return null===(o=r.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(i=o.batchId,function(t,e){t.Fr.push(e);var n=zo(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,o),[3,6]);case 4:return a=r.sent(),[4,Po(e,a)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return Mo(e)&&jo(e),[2]}}))}))}function Mo(t){return Ao(t)&&!zo(t).tr()&&t.Fr.length>0}function jo(t){zo(t).start()}function Fo(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return zo(t).Ar(),[2]}))}))}function Uo(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n,i,o;return(0,r.__generator)(this,(function(r){for(e=zo(t),n=0,i=t.Fr;n<i.length;n++)o=i[n],e.Er(o.mutations);return[2]}))}))}function qo(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return i=t.Fr.shift(),o=gr.from(i,e,n),[4,Do(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}))];case 1:return r.sent(),[4,Lo(t)];case 2:return r.sent(),[2]}}))}))}function Vo(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return e&&zo(t).pr?[4,function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return Se(i=e.code)&&i!==u.ABORTED?(n=t.Fr.shift(),zo(t).sr(),[4,Do(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return r.sent(),[4,Lo(t)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Mo(t)&&jo(t),[2]}}))}))}function Bo(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=y(t),e?(n.Or.delete(2),[4,bo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,wo(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Ko(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=y(t);return r.br(),new vo(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:No.bind(null,t),Ri:Oo.bind(null,t),_r:Ro.bind(null,t)}),t.Mr.push((function(n){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),So(t)?Co(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),xo(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function zo(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=y(t);return r.br(),new go(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Fo.bind(null,t),Ri:Vo.bind(null,t),Ir:Uo.bind(null,t),Tr:qo.bind(null,t)}),t.Mr.push((function(n){return(0,r.__awaiter)(e,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Lo(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(h("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ho=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new c(u.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function Wo(t,e){if(p("AsyncQueue",e+": "+t),ur(t))return new c(u.UNAVAILABLE,e+": "+t);throw t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Go=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||H.comparator(e.key,n.key)}:function(t,e){return H.comparator(t.key,e.key)},this.keyedMap=je(),this.sortedSet=new xe(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),$o=function(){function t(){this.Qr=new xe(H.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):g():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),Yo=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Go.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qt(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Qo=function(){this.Wr=void 0,this.listeners=[]},Xo=function(){this.queries=new ri((function(t){return Vt(t)}),qt),this.onlineState="Unknown",this.Gr=new Set};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,u,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(n=y(t),i=e.query,o=!1,(a=n.queries.get(i))||(o=!0,a=new Qo),!o)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=a,[4,n.onListen(i)];case 2:return s.Wr=r.sent(),[3,4];case 3:return u=r.sent(),c=Wo(u,"Initialization of query '"+Bt(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(i,a),a.listeners.push(e),e.zr(n.onlineState),a.Wr&&e.Hr(a.Wr)&&na(n),[2]}}))}))}function Zo(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s;return(0,r.__generator)(this,(function(r){return n=y(t),i=e.query,o=!1,(a=n.queries.get(i))&&(s=a.listeners.indexOf(e))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.queries.delete(i),n.onUnlisten(i))]:[2]}))}))}function ta(t,e){for(var n=y(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&na(n)}function ea(t,e,n){var r=y(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function na(t){t.Gr.forEach((function(t){t.next()}))}var ra=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Yo(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=Yo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),ia=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),oa=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return ln(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?gn(this.R,t.document,!1):ut.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return an(t)},t}(),aa=function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=sa(t)}return t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new oa(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||Ve()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e,n,i,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,Li(this.localStore,new oa(this.R),this.documents,this.ro.id)];case 1:t=r.sent(),e=this.co(this.documents),n=0,i=this.queries,r.label=2;case 2:return n<i.length?(o=i[n],[4,Mi(this.localStore,o,e.get(o.name))]):[3,5];case 3:r.sent(),r.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new mi(Object.assign({},this.progress),t))]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sa(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ua=function(t){this.key=t},ca=function(t){this.key=t},la=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Ve(),this.mutatedKeys=Ve(),this.lo=zt(t),this.fo=new Go(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new $o,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Rt(this.query)&&i.size===this.query.limit?i.last():null,c=Pt(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),f=Kt(n.query,e)?e:null,h=!!l&&n.mutatedKeys.has(l.key),p=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),d=!1;l&&f?l.data.isEqual(f.data)?h!==p&&(r.track({type:3,doc:f}),d=!0):n.yo(l,f)||(r.track({type:2,doc:f}),d=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),d=!0):l&&!f&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(s=!0)),d&&(f?(a=a.add(f),o=p?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Rt(this.query)||Pt(this.query))for(;a.size>this.query.limit;){var l=Rt(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return g()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new Yo(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new $o,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Ve(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new ca(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new ua(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Ve();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return Yo.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),fa=function(t,e,n){this.query=t,this.targetId=e,this.view=n},ha=function(t){this.key=t,this.bo=!1},pa=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new ri((function(t){return Vt(t)}),qt),this.Vo=new Map,this.So=new Set,this.Do=new xe(H.comparator),this.Co=new Map,this.No=new Fi,this.xo={},this.ko=new Map,this.Fo=Hr.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function da(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,u;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=Ka(t),(a=n.Po.get(e))?(i=a.targetId,n.sharedClientState.addLocalQueryTarget(i),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,xi(n.localStore,Ft(e))];case 2:return s=r.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,[4,va(n,e,i,"current"===u)];case 3:o=r.sent(),n.isPrimaryClient&&Eo(n.remoteStore,s),r.label=4;case 4:return[2,o]}}))}))}function va(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l;return(0,r.__generator)(this,(function(f){switch(f.label){case 0:return t.Oo=function(e,n,i){return function(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,a,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return o=e.view._o(n),o.Nn?[4,Oi(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,o)}))]:[3,2];case 1:o=r.sent(),r.label=2;case 2:return a=i&&i.targetChanges.get(e.targetId),s=e.view.applyChanges(o,t.isPrimaryClient,a),[2,(Aa(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,i)},[4,Oi(t.localStore,e,!0)];case 1:return o=f.sent(),a=new la(e,o.Bn),s=a._o(o.documents),u=He.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState),c=a.applyChanges(s,t.isPrimaryClient,u),Aa(t,n,c.To),l=new fa(e,n,a),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}}))}))}function ga(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=y(t),i=n.Po.get(e),(o=n.Vo.get(i.targetId)).length>1?[2,(n.Vo.set(i.targetId,o.filter((function(t){return!qt(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)?[3,2]:[4,Ni(n.localStore,i.targetId,!1).then((function(){n.sharedClientState.clearQueryState(i.targetId),Io(n.remoteStore,i.targetId),Ca(n,i.targetId)})).catch(Qr)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return Ca(n,i.targetId),[4,Ni(n.localStore,i.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))}function ma(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:i=za(t),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=y(t),i=T.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Ve());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=de(c,n.get(c.key));null!=l&&a.push(new ye(c.key,l,st(l.value.mapValue),ce.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(i.localStore,e)];case 2:return o=r.sent(),i.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new xe(w)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(i,o.batchId,n),[4,Oa(i,o.changes)];case 3:return r.sent(),[4,Lo(i.remoteStore)];case 4:return r.sent(),[3,6];case 5:return a=r.sent(),s=Wo(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function ya(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:n=y(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Ci(n.localStore,e)];case 2:return i=r.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(m(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?m(r.bo):t.removedDocuments.size>0&&(m(r.bo),r.bo=!1))})),[4,Oa(n,i,e)];case 3:return r.sent(),[3,6];case 4:return[4,Qr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function _a(t,e,n){var r=y(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=y(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&na(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function ba(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return(i=y(t)).sharedClientState.updateQueryState(e,"rejected",n),o=i.Co.get(e),(a=o&&o.key)?(s=(s=new xe(H.comparator)).insert(a,ut.newNoDocument(a,k.min())),u=Ve().add(a),c=new ze(k.min(),new Map,new Re(w),s,u),[4,ya(i,c)]):[3,2];case 1:return r.sent(),i.Do=i.Do.remove(a),i.Co.delete(e),Na(i),[3,4];case 2:return[4,Ni(i.localStore,e,!1).then((function(){return Ca(i,e,n)})).catch(Qr)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))}function wa(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:n=y(t),i=e.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Ti(n.localStore,e)];case 2:return o=r.sent(),ka(n,i,null),Ta(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),[4,Oa(n,o)];case 3:return r.sent(),[3,6];case 4:return[4,Qr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ea(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:i=y(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return m(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(i.localStore,e)];case 2:return o=r.sent(),ka(i,e,n),Ta(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),[4,Oa(i,o)];case 3:return r.sent(),[3,6];case 4:return[4,Qr(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))}function Ia(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:Ao((n=y(t)).remoteStore)||h("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=y(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(i=r.sent())?[2,void e.resolve()]:((o=n.ko.get(i)||[]).push(e),n.ko.set(i,o),[3,4]);case 3:return a=r.sent(),s=Wo(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Ta(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function ka(t,e,n){var r=y(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Ca(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Sa(t,e)}))}function Sa(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Io(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Na(t))}function Aa(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof ua?(t.No.addReference(o.key,e),xa(t,o)):o instanceof ca?(h("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Sa(t,o.key)):g()}}function xa(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(h("SyncEngine","New document in limbo: "+n),t.So.add(r),Na(t))}function Na(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new H(N.fromString(e)),r=t.Fo.next();t.Co.set(r,new ha(n)),t.Do=t.Do.insert(n,r),Eo(t.remoteStore,new mr(Ft(Ot(n.path)),r,2,s.o))}}function Oa(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s;return(0,r.__generator)(this,(function(u){switch(u.label){case 0:return i=y(t),o=[],a=[],s=[],i.Po.isEmpty()?[3,3]:(i.Po.forEach((function(t,r){s.push(i.Oo(r,e,n).then((function(t){if(t){i.isPrimaryClient&&i.sharedClientState.updateQueryState(r.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=_i.Pn(r.targetId,t);a.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),i.vo._r(o),[4,function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,f;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:n=y(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return rr.forEach(e,(function(e){return rr.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return rr.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!ur(i=r.sent()))throw i;return h("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(o=0,a=e;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.kn.get(u),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(u,f));return[2]}}))}))}(i.localStore,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Ra(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return(n=y(t)).currentUser.isEqual(e)?[3,3]:(h("SyncEngine","User change. New user:",e.toKey()),[4,Ii(n.localStore,e)]);case 1:return i=r.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new c(u.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),[4,Oa(n,i.Ln)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))}function Pa(t,e){var n=y(t),r=n.Co.get(e);if(r&&r.bo)return Ve().add(r.key);var i=Ve(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Da(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,Oi((n=y(t)).localStore,e.query,!0)];case 1:return i=r.sent(),o=e.view.Ao(i),[2,(n.isPrimaryClient&&Aa(n,e.targetId,o.To),o)]}}))}))}function La(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){return[2,Pi((e=y(t)).localStore).then((function(t){return Oa(e,t)}))]}))}))}function Ma(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,function(t,e){var n=y(t),r=y(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):rr.resolve(null)}))}))}((o=y(t)).localStore,e)];case 1:return null===(a=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,Lo(o.remoteStore)];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ka(o,e,i||null),Ta(o,e),function(t,e){y(y(t)._n).Gt(e)}(o.localStore,e)):g(),r.label=4;case 4:return[4,Oa(o,a)];case 5:return r.sent(),[3,7];case 6:h("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function ja(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return Ka(n=y(t)),za(n),!0!==e||!0===n.$o?[3,3]:(i=n.sharedClientState.getAllActiveQueryTargets(),[4,Fa(n,i.toArray())]);case 1:return o=r.sent(),n.$o=!0,[4,Bo(n.remoteStore,!0)];case 2:for(r.sent(),a=0,s=o;a<s.length;a++)u=s[a],Eo(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):l=l.then((function(){return Ca(n,e),Ni(n.localStore,e,!0)})),Io(n.remoteStore,e)})),[4,l]);case 4:return r.sent(),[4,Fa(n,c)];case 5:return r.sent(),function(t){var e=y(t);e.Co.forEach((function(t,n){Io(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new xe(H.comparator)}(n),n.$o=!1,[4,Bo(n.remoteStore,!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function Fa(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,u,c,l,f,h,p,d,v,g;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:n=y(t),i=[],o=[],a=0,s=e,r.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,xi(n.localStore,Ft(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),f=0,h=l,r.label=3;case 3:return f<h.length?(p=h[f],d=n.Po.get(p),[4,Da(n,d)]):[3,6];case 4:(v=r.sent()).snapshot&&o.push(v.snapshot),r.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Ri(n.localStore,u)];case 8:return g=r.sent(),[4,xi(n.localStore,g)];case 9:return c=r.sent(),[4,va(n,Ua(g),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return a++,[3,1];case 13:return[2,(n.vo._r(o),i)]}}))}))}function Ua(t){return Nt(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function qa(t){var e=y(t);return y(y(e.localStore).persistence).fn()}function Va(t,e,n,i){return(0,r.__awaiter)(this,void 0,void 0,(function(){var o,a,s;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return(o=y(t)).$o?(h("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Pi(o.localStore)];case 3:return a=r.sent(),s=ze.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Oa(o,a,s)];case 4:return r.sent(),[3,8];case 5:return[4,Ni(o.localStore,e,!0)];case 6:return r.sent(),Ca(o,e,i),[3,8];case 7:g(),r.label=8;case 8:return[2]}}))}))}function Ba(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c,l,f,p,d;return(0,r.__generator)(this,(function(v){switch(v.label){case 0:if(!(i=Ka(t)).$o)return[3,10];o=0,a=e,v.label=1;case 1:return o<a.length?(s=a[o],i.Vo.has(s)?(h("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ri(i.localStore,s)]):[3,6];case 2:return u=v.sent(),[4,xi(i.localStore,u)];case 3:return c=v.sent(),[4,va(i,Ua(u),c.targetId,!1)];case 4:v.sent(),Eo(i.remoteStore,c),v.label=5;case 5:return o++,[3,1];case 6:l=function(t){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return i.Vo.has(t)?[4,Ni(i.localStore,t,!1).then((function(){Io(i.remoteStore,t),Ca(i,t)})).catch(Qr)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},f=0,p=n,v.label=7;case 7:return f<p.length?(d=p[f],[5,l(d)]):[3,10];case 8:v.sent(),v.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function Ka(t){var e=y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ya.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pa.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ba.bind(null,e),e.vo._r=ta.bind(null,e.eventManager),e.vo.Mo=ea.bind(null,e.eventManager),e}function za(t){var e=y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wa.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ea.bind(null,e),e}function Ha(t,e,n){var i=y(t);(function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u,c;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,14,,15]),[4,e.getMetadata()];case 1:return i=r.sent(),[4,function(t,e){var n=y(t),r=an(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(t){return n.Ke.getBundleMetadata(t,e.id)})).then((function(t){return!!t&&t.createTime.compareTo(r)>=0}))}(t.localStore,i)];case 2:return r.sent()?[4,e.close()]:[3,4];case 3:return[2,(r.sent(),void n._completeWith(function(t){return{taskState:"Success",documentsLoaded:t.totalDocuments,bytesLoaded:t.totalBytes,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(i)))];case 4:return n._updateProgress(sa(i)),o=new aa(i,t.localStore,e.R),[4,e.Lo()];case 5:a=r.sent(),r.label=6;case 6:return a?[4,o.oo(a)]:[3,10];case 7:return(s=r.sent())&&n._updateProgress(s),[4,e.Lo()];case 8:a=r.sent(),r.label=9;case 9:return[3,6];case 10:return[4,o.complete()];case 11:return u=r.sent(),[4,Oa(t,u.wn,void 0)];case 12:return r.sent(),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("Save bundle","readwrite",(function(t){return n.Ke.saveBundleMetadata(t,e)}))}(t.localStore,i)];case 13:return r.sent(),n._completeWith(u.progress),[3,15];case 14:return d("SyncEngine","Loading bundle failed with "+(c=r.sent())),n._failWith(c),[3,15];case 15:return[2]}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(i,e,n).then((function(){i.sharedClientState.notifyBundleLoaded()}))}var Wa=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return this.R=fo(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Ei(this.persistence,new bi,t.initialUser,this.R)},t.prototype.qo=function(t){return new zi(Wi.bs,this.R)},t.prototype.Bo=function(t){return new ro},t.prototype.terminate=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),Ga=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,r.__extends)(e,t),e.prototype.initialize=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Di(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,za(this.Qo.syncEngine)];case 4:return r.sent(),[4,Lo(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Ei(this.persistence,new bi,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new Zr(e,t.asyncQueue)},e.prototype.qo=function(t){var e=gi(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?jr.withCacheSize(this.cacheSizeBytes):jr.DEFAULT;return new pi(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,co(),lo(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new ro},e}(Wa),$a=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,r.__extends)(e,t),e.prototype.initialize=function(e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i=this;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof no?(this.sharedClientState.syncEngine={ui:Ma.bind(null,n),ai:Va.bind(null,n),hi:Ba.bind(null,n),fn:qa.bind(null,n),ci:La.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He((function(t){return(0,r.__awaiter)(i,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,ja(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=co();if(!no.yt(e))throw new c(u.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=gi(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new no(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Ga),Ya=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return _a(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Ra.bind(null,this.syncEngine),[4,Bo(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new Xo},t.prototype.createDatastore=function(t){var e,n=fo(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new uo(e));return function(t,e,n){return new mo(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return _a(a.syncEngine,t,0)},o=oo.yt()?new oo:new io,new _o(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new pa(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return e=y(t),h("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,wo(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t,e){void 0===e&&(e=10240);var n=0;return{read:function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i;return(0,r.__generator)(this,(function(r){return n<t.byteLength?(i={value:t.slice(n,n+e),done:!1},[2,(n+=e,i)]):[2,{done:!0}]}))}))},cancel:function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xa=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Ja=function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new nr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}return t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e,n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.Jo()];case 1:return null===(t=r.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return i=r.sent(),[2,new ia(JSON.parse(i),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))},t}(),Za=function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new c(u.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o,a,s,u;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=y(t),i=pn(n.R)+"/documents",o={documents:e.map((function(t){return cn(n.R,t)}))},[4,n.$i("BatchGetDocuments",i,o)];case 1:return a=r.sent(),s=new Map,a.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){m(!!e.found),e.found.name,e.found.updateTime;var n=ln(t,e.found.name),r=an(e.found.updateTime),i=new at({mapValue:{fields:e.found.fields}});return ut.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){m(!!e.missing),m(!!e.readTime);var n=ln(t,e.missing),r=an(e.readTime);return ut.newNoDocument(n,r)}(t,e):g()}(n.R,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());m(!!e),u.push(e)})),u)]}}))}))}(this.datastore,t)];case 1:return[2,((e=i.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Te(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e=this;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=H.fromPath(n);e.mutations.push(new ke(r,e.precondition(r)))})),[4,function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=y(t),i=pn(n.R)+"/documents",o={writes:e.map((function(t){return mn(n.R,t)}))},[4,n.Ni("Commit",i,o)];case 1:return r.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw g();e=k.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new c(u.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?ce.updateTime(e):ce.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(k.min()))throw new c(u.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ce.updateTime(e)}return ce.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}(),ts=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new ho(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t,e,n=this;return(0,r.__generator)(this,(function(r){return t=new Za(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!B(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Se(e)}return!1},t}(),es=function(){function t(t,e,n){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Gi.UNAUTHENTICATED,this.clientId=b.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return(0,r.__awaiter)(i,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return h("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new c(u.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,r.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Wo(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i,o=this;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return t.asyncQueue.verifyOperationInProgress(),h("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=a.sent(),[4,e.initialize(n)];case 2:return a.sent(),i=n.initialUser,t.setCredentialChangeListener((function(t){return(0,r.__awaiter)(o,void 0,void 0,(function(){return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return i.isEqual(t)?[3,2]:[4,Ii(e.localStore,t)];case 1:n.sent(),i=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function rs(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,is(t)];case 1:return n=o.sent(),h("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return i=o.sent(),[4,e.initialize(n,i)];case 3:return o.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return(0,r.__awaiter)(this,void 0,void 0,(function(){var n,i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return(n=y(t)).asyncQueue.verifyOperationInProgress(),h("RemoteStore","RemoteStore received new credentials"),i=Ao(n),n.Or.add(3),[4,wo(n)];case 1:return r.sent(),i&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return r.sent(),n.Or.delete(3),[4,bo(n)];case 3:return r.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function is(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(h("FirestoreClient","Using default OfflineComponentProvider"),[4,ns(t,new Wa)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function os(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(h("FirestoreClient","Using default OnlineComponentProvider"),[4,rs(t,new Ya)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function as(t){return is(t).then((function(t){return t.persistence}))}function ss(t){return is(t).then((function(t){return t.localStore}))}function us(t){return os(t).then((function(t){return t.remoteStore}))}function cs(t){return os(t).then((function(t){return t.syncEngine}))}function ls(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,os(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=da.bind(null,e.syncEngine),n.onUnlisten=ga.bind(null,e.syncEngine),n)]}}))}))}function fs(t,e,n){var i=this;void 0===n&&(n={});var o=new nr;return t.asyncQueue.enqueueAndForget((function(){return(0,r.__awaiter)(i,void 0,void 0,(function(){var i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new Xa({next:function(o){e.enqueueAndForget((function(){return Zo(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new c(u.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new ra(Ot(n.path),o,{includeMetadataChanges:!0,so:!0});return Jo(t,a)},[4,ls(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}function hs(t,e,n){var i=this;void 0===n&&(n={});var o=new nr;return t.asyncQueue.enqueueAndForget((function(){return(0,r.__awaiter)(i,void 0,void 0,(function(){var i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return i=function(t,e,n,r,i){var o=new Xa({next:function(n){e.enqueueAndForget((function(){return Zo(t,a)})),n.fromCache&&"server"===r.source?i.reject(new c(u.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new ra(n,o,{includeMetadataChanges:!0,so:!0});return Jo(t,a)},[4,ls(t)];case 1:return[2,i.apply(void 0,[r.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}var ps=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},ds=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),vs=new Map,gs=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},ms=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(Gi.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),ys=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),_s=function(){function t(t){var e=this;this.currentUser=Gi.UNAUTHENTICATED,this.oc=new nr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){h("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(h("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(h("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(m("string"==typeof n.accessToken),new gs(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return(0,r.__awaiter)(n,void 0,void 0,(function(){return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return m(null===t||"string"==typeof t),new Gi(t)},t}(),bs=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=Gi.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),ws=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new bs(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(Gi.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,e,n){if(!n)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Is(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new c(u.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ts(t,e,n,r){if(!0===e&&!0===r)throw new c(u.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ks(t){if(!H.isDocumentKey(t))throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Cs(t){if(H.isDocumentKey(t))throw new c(u.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ss(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":g()}function As(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new c(u.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ss(t);throw new c(u.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function xs(t,e){if(e<=0)throw new c(u.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ns=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new c(u.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new c(u.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ts("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Os=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ns({}),this._settingsFrozen=!1,t instanceof ds?(this._databaseId=t,this._credentials=new ms):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new c(u.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ds(t.options.projectId)}(t),this._credentials=new _s(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ns(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ms;switch(t.type){case"gapi":var e=t.client;return m(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ws(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new c(u.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return t=this,(e=vs.get(t))&&(h("ComponentProvider","Removing Datastore"),vs.delete(t),e.terminate()),Promise.resolve();var t,e},t}(),Rs=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ds(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Ps=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ds=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,Ot(r))||this)._path=r,i.type="collection",i}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Rs(this.firestore,null,new H(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Ps);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(t,e){for(var n,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(t=(0,i.getModularInstance)(t),Es("collection","path",e),t instanceof Os)return Cs(n=N.fromString.apply(N,(0,r.__spreadArray)([e],o))),new Ds(t,null,n);if(!(t instanceof Rs||t instanceof Ds))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Cs(n=N.fromString.apply(N,(0,r.__spreadArray)([t.path],o)).child(N.fromString(e))),new Ds(t.firestore,null,n)}function Ms(t,e){for(var n,o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];if(t=(0,i.getModularInstance)(t),1===arguments.length&&(e=b.u()),Es("doc","path",e),t instanceof Os)return ks(n=N.fromString.apply(N,(0,r.__spreadArray)([e],o))),new Rs(t,null,new H(n));if(!(t instanceof Rs||t instanceof Ds))throw new c(u.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ks(n=t._path.child(N.fromString.apply(N,(0,r.__spreadArray)([e],o)))),new Rs(t.firestore,t instanceof Ds?t.converter:null,new H(n))}function js(t,e){return t=(0,i.getModularInstance)(t),e=(0,i.getModularInstance)(e),(t instanceof Rs||t instanceof Ds)&&(e instanceof Rs||e instanceof Ds)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Fs(t,e){return t=(0,i.getModularInstance)(t),e=(0,i.getModularInstance)(e),t instanceof Ps&&e instanceof Ps&&t.firestore===e.firestore&&qt(t._query,e._query)&&t.converter===e.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Us=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new ho(this,"async_queue_retry"),this.Ic=function(){var e=lo();e&&h("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=lo();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=lo();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new nr;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,e=this;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!ur(t=n.sent()))throw t;return h("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,p("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=Ho.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&g()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t;return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function qs(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var Vs=function(){function t(){this._progressObserver={},this._taskCompletionResolver=new nr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)},t}(),Bs=-1,Ks=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Us,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,r.__extends)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Hs(this),this._firestoreClient.terminate()},e}(Os);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t){return t._firestoreClient||Hs(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Hs(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new ps(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new es(t._credentials,t._queue,r)}function Ws(t,e,n){var i=this,o=new nr;return t.asyncQueue.enqueue((function(){return(0,r.__awaiter)(i,void 0,void 0,(function(){var i;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,ns(t,n)];case 1:return r.sent(),[4,rs(t,e)];case 2:return r.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===u.FAILED_PRECONDITION||t.code===u.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(i=r.sent()))throw i;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),o.reject(i),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function Gs(t){if(t._initialized||t._terminated)throw new c(u.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $s=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new c(u.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new R(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),Ys=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(D.fromBase64String(e))}catch(e){throw new c(u.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(D.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Qs=function(t){this._methodName=t},Xs=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new c(u.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new c(u.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return w(this._lat,t._lat)||w(this._long,t._long)},t}(),Js=/^__.*__$/,Zs=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ye(t,this.data,this.fieldMask,e,this.fieldTransforms):new me(t,this.data,e,this.fieldTransforms)},t}(),tu=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ye(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw g()}}var nu=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Eu(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(eu(this.Nc)&&Js.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),ru=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||fo(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new nu({Nc:t,methodName:e,qc:n,path:R.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function iu(t){var e=t._freezeSettings(),n=fo(t._databaseId);return new ru(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ou(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);yu("Data must be an object, but it was:",a,r);var s,l,f=gu(r,a);if(o.merge)s=new P(a.fieldMask),l=a.fieldTransforms;else if(o.mergeFields){for(var h=[],p=0,d=o.mergeFields;p<d.length;p++){var v=_u(e,d[p],n);if(!a.contains(v))throw new c(u.INVALID_ARGUMENT,"Field '"+v+"' is specified in your field mask but missing from your input data.");Iu(h,v)||h.push(v)}s=new P(h),l=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,l=a.fieldTransforms;return new Zs(new at(f),s,l)}var au=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Qs);function su(t,e,n){return new nu({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var uu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype._toFieldTransform=function(t){return new se(t.path,new Zt)},e.prototype.isEqual=function(t){return t instanceof e},e}(Qs),cu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,r.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=su(this,t,!0),n=this.Kc.map((function(t){return vu(t,e)})),r=new te(n);return new se(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Qs),lu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,r.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=su(this,t,!0),n=this.Kc.map((function(t){return vu(t,e)})),r=new ne(n);return new se(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Qs),fu=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,r.__extends)(e,t),e.prototype._toFieldTransform=function(t){var e=new ie(t.R,$t(t.R,this.Qc));return new se(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Qs);function hu(t,e,n,r){var o=t.Uc(1,e,n);yu("Data must be an object, but it was:",o,r);var a=[],s=at.empty();S(r,(function(t,r){var u=wu(e,t,n);r=(0,i.getModularInstance)(r);var c=o.Oc(u);if(r instanceof au)a.push(u);else{var l=vu(r,c);null!=l&&(a.push(u),s.set(u,l))}}));var u=new P(a);return new tu(s,u,o.fieldTransforms)}function pu(t,e,n,r,o,a){var s=t.Uc(1,e,n),l=[_u(e,r,n)],f=[o];if(a.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var h=0;h<a.length;h+=2)l.push(_u(e,a[h])),f.push(a[h+1]);for(var p=[],d=at.empty(),v=l.length-1;v>=0;--v)if(!Iu(p,l[v])){var g=l[v],m=f[v];m=(0,i.getModularInstance)(m);var y=s.Oc(g);if(m instanceof au)p.push(g);else{var _=vu(m,y);null!=_&&(p.push(g),d.set(g,_))}}var b=new P(p);return new tu(d,b,s.fieldTransforms)}function du(t,e,n,r){return void 0===r&&(r=!1),vu(n,t.Uc(r?4:3,e))}function vu(t,e){if(mu(t=(0,i.getModularInstance)(t)))return yu("Unsupported field value:",e,t),gu(t,e);if(t instanceof Qs)return function(t,e){if(!eu(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=vu(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,i.getModularInstance)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $t(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=T.fromDate(t);return{timestampValue:nn(e.R,n)}}if(t instanceof T)return n=new T(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:nn(e.R,n)};if(t instanceof Xs)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ys)return{bytesValue:rn(e.R,t._byteString)};if(t instanceof Rs){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:sn(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Ss(t))}(t,e)}function gu(t,e){var n={};return A(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):S(t,(function(t,r){var i=vu(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function mu(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof T||t instanceof Xs||t instanceof Ys||t instanceof Rs||t instanceof Qs)}function yu(t,e,n){if(!mu(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ss(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function _u(t,e,n){if((e=(0,i.getModularInstance)(e))instanceof $s)return e._internalPath;if("string"==typeof e)return wu(t,e);throw Eu("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var bu=new RegExp("[~\\*/\\[\\]]");function wu(t,e,n){if(e.search(bu)>=0)throw Eu("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new($s.bind.apply($s,(0,r.__spreadArray)([void 0],e.split(".")))))._internalPath}catch(i){throw Eu("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Eu(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var l="";return(o||a)&&(l+=" (found",o&&(l+=" in field "+r),a&&(l+=" in document "+i),l+=")"),new c(u.INVALID_ARGUMENT,(s+=". ")+t+l)}function Iu(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tu=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Rs(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new ku(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Cu("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),ku=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Tu);function Cu(t,e){return"string"==typeof e?wu(t,e):e instanceof $s?e._internalPath:e._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Su=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Au=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,r.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new xu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Cu("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Tu),xu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Au),Nu=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Su(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new xu(n._firestore,n._userDataWriter,r.key,r,new Su(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new c(u.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new xu(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Su(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new xu(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Su(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Ou(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Ou(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return g()}}function Ru(t,e){return t instanceof Au&&e instanceof Au?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Nu&&e instanceof Nu&&t._firestore===e._firestore&&Fs(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t){if(Pt(t)&&0===t.explicitOrderBy.length)throw new c(u.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Du=function(){};function Lu(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Mu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,r.__extends)(e,t),e.prototype._apply=function(t){var e=iu(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new c(u.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Ku(a,o);for(var l=[],f=0,h=a;f<h.length;f++){var p=h[f];l.push(Bu(r,t,p))}s={arrayValue:{values:l}}}else s=Bu(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ku(a,o),s=du(n,"where",a,"in"===o||"not-in"===o);var d=dt.create(i,o,s);return function(t,e){if(e.g()){var n=Lt(t);if(null!==n&&!n.isEqual(e.field))throw new c(u.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Dt(t);null!==r&&zu(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new c(u.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,d),d}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Ps(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new xt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Du),ju=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,r.__extends)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new c(u.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new kt(e,n);return function(t,e){if(null===Dt(t)){var n=Lt(t);null!==n&&zu(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Ps(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new xt(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Du),Fu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,r.__extends)(e,t),e.prototype._apply=function(t){return new Ps(t.firestore,t.converter,Ut(t._query,this.Hc,this.Jc))},e}(Du),Uu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,r.__extends)(e,t),e.prototype._apply=function(t){var e=Vu(t,this.type,this.Yc,this.Xc);return new Ps(t.firestore,t.converter,function(t,e){return new xt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Du),qu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,r.__extends)(e,t),e.prototype._apply=function(t){var e=Vu(t,this.type,this.Yc,this.Xc);return new Ps(t.firestore,t.converter,function(t,e){return new xt(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Du);function Vu(t,e,n,r){if(n[0]=(0,i.getModularInstance)(n[0]),n[0]instanceof Tu)return function(t,e,n,r,i){if(!r)throw new c(u.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=jt(t);a<s.length;a++){var l=s[a];if(l.field.isKeyField())o.push(Z(e,r.key));else{var f=r.data.field(l.field);if(U(f))throw new c(u.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===f){var h=l.field.canonicalString();throw new c(u.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+h+"' (used as the orderBy) does not exist.")}o.push(f)}}return new It(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var o=iu(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new c(u.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],l=0;l<i.length;l++){var f=i[l];if(a[l].field.isKeyField()){if("string"!=typeof f)throw new c(u.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof f);if(!Mt(t)&&-1!==f.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+f+"' contains a slash.");var h=t.path.child(N.fromString(f));if(!H.isDocumentKey(h))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+h+"' is not because it contains an odd number of segments.");var p=new H(h);s.push(Z(e,p))}else{var d=du(n,r,f);s.push(d)}}return new It(s,o)}(t._query,t.firestore._databaseId,o,e,n,r)}function Bu(t,e,n){if("string"==typeof(n=(0,i.getModularInstance)(n))){if(""===n)throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mt(e)&&-1!==n.indexOf("/"))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(N.fromString(n));if(!H.isDocumentKey(r))throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Z(t,new H(r))}if(n instanceof Rs)return Z(t,n._key);throw new c(u.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ss(n)+".")}function Ku(t,e){if(!Array.isArray(t)||0===t.length)throw new c(u.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new c(u.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function zu(t,e,n){if(!n.isEqual(e))throw new c(u.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hu=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),W(t)){case 0:return null;case 1:return t.booleanValue;case 2:return j(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(F(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw g()}},t.prototype.convertObject=function(t,e){var n=this,r={};return S(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new Xs(j(t.latitude),j(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=q(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(V(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=M(t);return new T(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=N.fromString(t);m(Rn(n));var r=new ds(n.get(1),n.get(3)),i=new H(n.popFirst(5));return r.isEqual(e)||p("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Gu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,r.__extends)(e,t),e.prototype.convertBytes=function(t){return new Ys(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Rs(this.firestore,null,e)},e}(Hu),$u=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=iu(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=Yu(t,this._firestore),i=Wu(r.converter,e,n),o=ou(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,ce.none())),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];this._verifyNotCommitted();var a,s=Yu(t,this._firestore);return a="string"==typeof(e=(0,i.getModularInstance)(e))||e instanceof $s?pu(this._dataReader,"WriteBatch.update",s._key,e,n,r):hu(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,ce.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=Yu(t,this._firestore);return this._mutations=this._mutations.concat(new Te(e._key,ce.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new c(u.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t,e){if((t=(0,i.getModularInstance)(t)).firestore!==e)throw new c(u.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,r.__extends)(e,t),e.prototype.convertBytes=function(t){return new Ys(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Rs(this.firestore,null,e)},e}(Hu);function Xu(t,e,n){t=As(t,Rs);var r=As(t.firestore,Ks),i=Wu(t.converter,e,n);return tc(r,[ou(iu(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ce.none())])}function Ju(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];t=As(t,Rs);var a=As(t.firestore,Ks),s=iu(a);return tc(a,[("string"==typeof(e=(0,i.getModularInstance)(e))||e instanceof $s?pu(s,"updateDoc",t._key,e,n,r):hu(s,"updateDoc",t._key,e)).toMutation(t._key,ce.exists(!0))])}function Zu(t){for(var e,n,o,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];t=(0,i.getModularInstance)(t);var u={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||qs(a[c])||(u=a[c],c++);var l,f,h,p={includeMetadataChanges:u.includeMetadataChanges};if(qs(a[c])){var d=a[c];a[c]=null===(e=d.next)||void 0===e?void 0:e.bind(d),a[c+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),a[c+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(t instanceof Rs)f=As(t.firestore,Ks),h=Ot(t._key.path),l={next:function(e){a[c]&&a[c](ec(f,t,e))},error:a[c+1],complete:a[c+2]};else{var v=As(t,Ps);f=As(v.firestore,Ks),h=v._query;var g=new Qu(f);l={next:function(t){a[c]&&a[c](new Nu(f,g,v,t))},error:a[c+1],complete:a[c+2]},Pu(t._query)}return function(t,e,n,i){var o=this,a=new Xa(i),s=new ra(e,a,n);return t.asyncQueue.enqueueAndForget((function(){return(0,r.__awaiter)(o,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return e=Jo,[4,ls(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){a.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,r.__awaiter)(o,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return e=Zo,[4,ls(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(zs(f),h,p,l)}function tc(t,e){return function(t,e){var n=this,i=new nr;return t.asyncQueue.enqueueAndForget((function(){return(0,r.__awaiter)(n,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=ma,[4,cs(t)];case 1:return[2,n.apply(void 0,[r.sent(),e,i])]}}))}))})),i.promise}(zs(t),e)}function ec(t,e,n){var r=n.docs.get(e._key),i=new Qu(t);return new Au(t,i,e._key,r,new Su(n.hasPendingWrites,n.fromCache),e.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,r.__extends)(e,t),e.prototype.get=function(e){var n=this,r=Yu(e,this._firestore),i=new Qu(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Au(n._firestore,i,r._key,t._document,new Su(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=iu(t)}return t.prototype.get=function(t){var e=this,n=Yu(t,this._firestore),r=new Gu(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return g();var i=t[0];if(i.isFoundDocument())return new Tu(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Tu(e._firestore,r,n._key,null,n.converter);throw g()}))},t.prototype.set=function(t,e,n){var r=Yu(t,this._firestore),i=Wu(r.converter,e,n),o=ou(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];var a,s=Yu(t,this._firestore);return a="string"==typeof(e=(0,i.getModularInstance)(e))||e instanceof $s?pu(this._dataReader,"Transaction.update",s._key,e,n,r):hu(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this},t.prototype.delete=function(t){var e=Yu(t,this._firestore);return this._transaction.delete(e._key),this},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(){if("undefined"==typeof Uint8Array)throw new c(u.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ic(){if("undefined"==typeof atob)throw new c(u.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var oc=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return ic(),new t(Ys.fromBase64String(e))},t.fromUint8Array=function(e){return rc(),new t(Ys.fromUint8Array(e))},t.prototype.toBase64=function(){return ic(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return rc(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),ac=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Gs(t=As(t,Ks));var n=zs(t),r=t._freezeSettings(),i=new Ya;return Ws(n,i,new Ga(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Gs(t=As(t,Ks));var e=zs(t),n=t._freezeSettings(),r=new Ya;return Ws(e,r,new $a(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new c(u.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new nr;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return or.yt()?(e=t+"main",[4,or.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(gi(t._databaseId,t._persistenceKey))];case 1:return i.sent(),n.resolve(),[3,3];case 2:return e=i.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),sc=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof ds||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||d("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var o;void 0===r&&(r={});var a=(t=As(t,Os))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&d("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},a),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,l;if("string"==typeof r.mockUserToken)s=r.mockUserToken,l=Gi.MOCK_USER;else{s=(0,i.createMockUserToken)(r.mockUserToken,null===(o=t._app)||void 0===o?void 0:o.options.projectId);var f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new c(u.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Gi(f)}t._credentials=new ys(new gs(s,l))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,as(t)];case 1:return e=r.sent(),[4,us(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=y(t);return e.Or.delete(0),bo(e)}(n))]}}))}))}))}(zs(As(this._delegate,Ks)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,r.__generator)(this,(function(i){switch(i.label){case 0:return[4,as(t)];case 1:return e=i.sent(),[4,us(t)];case 2:return n=i.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return(e=y(t)).Or.add(0),[4,wo(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(zs(As(this._delegate,Ks)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ts("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new nr;return t.asyncQueue.enqueueAndForget((function(){return(0,r.__awaiter)(e,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return e=Ia,[4,cs(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(zs(As(this._delegate,Ks)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,i=new Xa(e);return t.asyncQueue.enqueueAndForget((function(){return(0,r.__awaiter)(n,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return e=function(t,e){y(t).Gr.add(e),e.next()},[4,ls(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))})),function(){i.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,r.__awaiter)(n,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return e=function(t,e){y(t).Gr.delete(e)},[4,ls(t)];case 1:return[2,e.apply(void 0,[n.sent(),i])]}}))}))}))}}(zs(t=As(t,Ks)),qs(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new c(u.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ec(this,Ls(this._delegate,t))}catch(t){throw dc(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new pc(this,Ms(this._delegate,t))}catch(t){throw dc(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new _c(this,function(t,e){if(t=As(t,Os),Es("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new c(u.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ps(t,null,function(t){return new xt(N.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw dc(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,i=new nr;return t.asyncQueue.enqueueAndForget((function(){return(0,r.__awaiter)(n,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return[4,function(t){return os(t).then((function(t){return t.datastore}))}(t)];case 1:return n=r.sent(),new ts(t.asyncQueue,n,e,i).run(),[2]}}))}))})),i.promise}(zs(t),(function(n){return e(new nc(t,n))}))}(this._delegate,(function(n){return t(new lc(e,n))}))},t.prototype.batch=function(){var t=this;return zs(this._delegate),new fc(new $u(this._delegate,(function(e){return tc(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new c(u.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new c(u.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),uc=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,r.__extends)(e,t),e.prototype.convertBytes=function(t){return new oc(new Ys(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return pc.eu(e,this.firestore,null)},e}(Hu);function cc(t){var e;e=t,l.setLogLevel(e)}var lc=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new uc(t)}return t.prototype.get=function(t){var e=this,n=Ic(t);return this._delegate.get(n).then((function(t){return new mc(e._firestore,new Au(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Ic(t);return n?(Is("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=Ic(t);return 2===arguments.length?this._delegate.update(s,e):(i=this._delegate).update.apply(i,(0,r.__spreadArray)([s,e,n],o)),this},t.prototype.delete=function(t){var e=Ic(t);return this._delegate.delete(e),this},t}(),fc=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Ic(t);return n?(Is("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=Ic(t);return 2===arguments.length?this._delegate.update(s,e):(i=this._delegate).update.apply(i,(0,r.__spreadArray)([s,e,n],o)),this},t.prototype.delete=function(t){var e=Ic(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),hc=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new xu(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new yc(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new uc(e),n),i.set(n,o)),o},t}();hc.su=new WeakMap;var pc=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new uc(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new c(u.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Rs(n._delegate,r,new H(e)))},t.eu=function(e,n,r){return new t(n,new Rs(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ec(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Ec(this.firestore,Ls(this._delegate,t))}catch(t){throw dc(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,i.getModularInstance)(t))instanceof Rs&&js(this._delegate,t)},t.prototype.set=function(t,e){e=Is("DocumentReference.set",e);try{return e?Xu(this._delegate,t,e):Xu(this._delegate,t)}catch(t){throw dc(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];try{return 1===arguments.length?Ju(this._delegate,t):Ju.apply(void 0,(0,r.__spreadArray)([this._delegate,t,e],n))}catch(t){throw dc(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return tc(As((t=this._delegate).firestore,Ks),[new Te(t._key,ce.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vc(e),i=gc(e,(function(e){return new mc(t.firestore,new Au(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return Zu(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=As(t,Rs);var e=As(t.firestore,Ks),n=zs(e),i=new Qu(e);return function(t,e){var n=this,i=new nr;return t.asyncQueue.enqueueAndForget((function(){return(0,r.__awaiter)(n,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=y(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(o=r.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new c(u.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=r.sent(),o=Wo(i,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,ss(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}}))}))})),i.promise}(n,t._key).then((function(n){return new Au(e,i,t._key,n,new Su(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=As(t,Rs);var e=As(t.firestore,Ks);return fs(zs(e),t._key,{source:"server"}).then((function(n){return ec(e,t,n)}))}(this._delegate):function(t){t=As(t,Rs);var e=As(t.firestore,Ks);return fs(zs(e),t._key).then((function(n){return ec(e,t,n)}))}(this._delegate)).then((function(t){return new mc(e.firestore,new Au(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(hc.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function dc(t,e,n){return t.message=t.message.replace(e,n),t}function vc(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!qs(r))return r}return{}}function gc(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=qs(t[0])?t[0]:qs(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var mc=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new pc(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Ru(this._delegate,t._delegate)},t}(),yc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.__extends)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(mc),_c=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new uc(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Lu(this._delegate,function(t,e,n){var r=e,i=Cu("where",t);return new Mu(i,r,n)}(e,n,r)))}catch(e){throw dc(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Lu(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Cu("orderBy",t);return new ju(r,n)}(e,n)))}catch(e){throw dc(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Lu(this._delegate,function(t){return xs("limit",t),new Fu("limit",t,"F")}(e)))}catch(e){throw dc(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Lu(this._delegate,function(t){return xs("limitToLast",t),new Fu("limitToLast",t,"L")}(e)))}catch(e){throw dc(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uu("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw dc(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Uu("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw dc(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qu("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw dc(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Lu(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new qu("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw dc(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Fs(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=As(t,Ps);var e=As(t.firestore,Ks),n=zs(e),i=new Qu(e);return function(t,e){var n=this,i=new nr;return t.asyncQueue.enqueueAndForget((function(){return(0,r.__awaiter)(n,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Oi(t,e,!0)];case 1:return u=r.sent(),i=new la(e,u.Bn),o=i._o(u.documents),a=i.applyChanges(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=r.sent(),u=Wo(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,ss(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,i])]}}))}))})),i.promise}(n,t._query).then((function(n){return new Nu(e,i,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=As(t,Ps);var e=As(t.firestore,Ks),n=zs(e),r=new Qu(e);return hs(n,t._query,{source:"server"}).then((function(n){return new Nu(e,r,t,n)}))}(this._delegate):function(t){t=As(t,Ps);var e=As(t.firestore,Ks),n=zs(e),r=new Qu(e);return Pu(t._query),hs(n,t._query).then((function(n){return new Nu(e,r,t,n)}))}(this._delegate)).then((function(t){return new wc(e.firestore,new Nu(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=vc(e),i=gc(e,(function(e){return new wc(t.firestore,new Nu(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return Zu(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(hc.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),bc=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new yc(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),wc=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new _c(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new yc(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new bc(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new yc(n._firestore,r))}))},t.prototype.isEqual=function(t){return Ru(this._delegate,t._delegate)},t}(),Ec=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,r.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new pc(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new pc(this.firestore,void 0===t?Ms(this._delegate):Ms(this._delegate,t))}catch(t){throw dc(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=As(t.firestore,Ks),r=Ms(t),i=Wu(t.converter,e);return tc(n,[ou(iu(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ce.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new pc(e.firestore,t)}))},e.prototype.isEqual=function(t){return js(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(hc.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(_c);function Ic(t){return As(t,Rs)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tc=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new($s.bind.apply($s,(0,r.__spreadArray)([void 0],t)))}return t.documentId=function(){return new t(R.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,i.getModularInstance)(t))instanceof $s&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),kc=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new uu("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new au("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new cu("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new lu("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new fu("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cc(t){return function(t,e){var n=zs(t=As(t,Ks)),i=new Vs;return function(t,e,n,i){var o=this,a=function(t,e){return function(t,e){return new Ja(t,e)}(function(t,e){if(t instanceof Uint8Array)return Qa(t,e);if(t instanceof ArrayBuffer)return Qa(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof t?(new TextEncoder).encode(t):t),e)}(n,fo(e));t.asyncQueue.enqueueAndForget((function(){return(0,r.__awaiter)(o,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(n){switch(n.label){case 0:return e=Ha,[4,cs(t)];case 1:return e.apply(void 0,[n.sent(),a,i]),[2]}}))}))}))}(n,t._databaseId,e,i),i}(this._delegate,t)}function Sc(t){var e,n,i=this;return(e=this._delegate,n=t,function(t,e){var n=this;return t.asyncQueue.enqueue((function(){return(0,r.__awaiter)(n,void 0,void 0,(function(){var n;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return n=function(t,e){var n=y(t);return n.persistence.runTransaction("Get named query","readonly",(function(t){return n.Ke.getNamedQuery(t,e)}))},[4,ss(t)];case 1:return[2,n.apply(void 0,[r.sent(),e])]}}))}))}))}(zs(e=As(e,Ks)),n).then((function(t){return t?new Ps(e,null,t.query):null}))).then((function(t){return t?new _c(i,t):null}))}},2864:function(t,e,n){"use strict";n.r(e),n.d(e,{LogLevel:function(){return o},Logger:function(){return f},setLogLevel:function(){return h},setUserLogHandler:function(){return p}});var r;n(1703);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
function i(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var o,a=[];(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=(r={},r[o.DEBUG]="log",r[o.VERBOSE]="log",r[o.INFO]="info",r[o.WARN]="warn",r[o.ERROR]="error",r),l=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,i(["["+o+"]  "+t.name+":"],n))}},f=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.DEBUG],t)),this._logHandler.apply(this,i([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.VERBOSE],t)),this._logHandler.apply(this,i([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.INFO],t)),this._logHandler.apply(this,i([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.WARN],t)),this._logHandler.apply(this,i([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,i([this,o.ERROR],t)),this._logHandler.apply(this,i([this,o.ERROR],t))},t}();function h(t){a.forEach((function(e){e.setLogLevel(t)}))}function p(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){var u=i[r];n(u)}}},527:function(t,e,n){"use strict";n(2801),n(8675),n(3462);var r=n(8866),i=n(4270),o=n(9556),a=n(6037),s="firebasestorage.googleapis.com",u="storageBucket",c=12e4,l=6e5,f=function(t){function e(n,r){var i=t.call(this,h(n),"Firebase Storage: "+r+" ("+h(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return(0,i.__extends)(e,t),e.prototype._codeEquals=function(t){return h(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(o.FirebaseError);function h(t){return"storage/"+t}function p(){var t="An unknown error occurred, please check the error payload for server response.";return new f("unknown",t)}function d(t){return new f("object-not-found","Object '"+t+"' does not exist.")}function v(t){return new f("quota-exceeded","Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function g(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new f("unauthenticated",t)}function m(){return new f("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function y(t){return new f("unauthorized","User does not have permission to access '"+t+"'.")}function _(){return new f("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function b(){return new f("canceled","User canceled the upload/download.")}function w(t){return new f("invalid-url","Invalid URL '"+t+"'.")}function E(t){return new f("invalid-default-bucket","Invalid default bucket '"+t+"'.")}function I(){return new f("no-default-bucket","No default bucket found. Did you set the '"+u+"' property when initializing the app?")}function T(){return new f("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function k(){return new f("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function C(){return new f("no-download-url","The given file does not have any download URLs.")}function S(t){return new f("invalid-argument",t)}function A(){return new f("app-deleted","The Firebase app was deleted.")}function x(t){return new f("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function N(t,e){return new f("invalid-format","String does not match format '"+t+"': "+e)}function O(t){throw new f("internal-error","Internal error: "+t)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R(t){return atob(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},D=function(){function t(t,e){this.data=t,this.contentType=e||null}return t}();function L(t,e){switch(t){case P.RAW:return new D(M(e));case P.BASE64:case P.BASE64URL:return new D(F(t,e));case P.DATA_URL:return new D(q(e),V(e))}throw p()}function M(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r)){var i=n<t.length-1&&56320===(64512&t.charCodeAt(n+1));if(i){var o=r,a=t.charCodeAt(++n);r=65536|(1023&o)<<10|1023&a,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function j(t){var e;try{e=decodeURIComponent(t)}catch(n){throw N(P.DATA_URL,"Malformed data URL.")}return M(e)}function F(t,e){switch(t){case P.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){var i=n?"-":"_";throw N(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case P.BASE64URL:var o=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(o||a){i=o?"+":"/";throw N(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}var s;try{s=R(e)}catch(l){throw N(t,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}var U=function(){function t(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw N(P.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=B(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}return t}();function q(t){var e=new U(t);return e.base64?F(P.BASE64,e.rest):j(e.rest)}function V(t){var e=new U(t);return e.contentType}function B(t,e){var n=t.length>=e.length;return!!n&&t.substring(t.length-e.length)===e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var K,z={STATE_CHANGED:"state_changed"},H={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function W(t){switch(t){case"running":case"pausing":case"canceling":return H.RUNNING;case"paused":return H.PAUSED;case"success":return H.SUCCESS;case"canceled":return H.CANCELED;case"error":return H.ERROR;default:return H.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["NO_ERROR"]=0]="NO_ERROR",t[t["NETWORK_ERROR"]=1]="NETWORK_ERROR",t[t["ABORT"]=2]="ABORT"})(K||(K={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var G=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=K.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=K.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=K.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw O("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw O("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw O("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw O("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}();function $(){return new G}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Y=function(){function t(){}return t.prototype.createConnection=function(){return $()},t}(),Q=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(""===r.path)return r;throw E(e)},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";function o(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}var a="(/(.*))?$",u=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function l(t){t.path_=decodeURIComponent(t.path)}for(var f="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",d=new RegExp("^https?://"+h+"/"+f+"/b/"+i+"/o"+p,"i"),v={bucket:1,path:3},g=n===s?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",y=new RegExp("^https?://"+g+"/"+i+"/"+m,"i"),_={bucket:1,path:2},b=[{regex:u,indices:c,postModify:o},{regex:d,indices:v,postModify:l},{regex:y,indices:_,postModify:l}],E=0;E<b.length;E++){var I=b[E],T=I.regex.exec(e);if(T){var k=T[I.indices.bucket],C=T[I.indices.path];C||(C=""),r=new t(k,C),I.postModify(r);break}}if(null==r)throw w(e);return r},t}(),X=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function J(t,e,n){var r=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c||(c=!0,e.apply(null,t))}function f(e){o=setTimeout((function(){o=null,t(h,u())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,(0,i.__spreadArray)([null,t],e));else{var o,h=u()||a;if(h)l.call.apply(l,(0,i.__spreadArray)([null,t],e));else r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),f(o)}}var p=!1;function d(t){p||(p=!0,c||(null!==o?(t||(s=2),clearTimeout(o),f(0)):t||(s=1)))}return f(0),setTimeout((function(){a=!0,d(!0)}),n),d}function Z(t){t(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(t){return void 0!==t}function et(t){return"function"===typeof t}function nt(t){return"object"===typeof t&&!Array.isArray(t)}function rt(t){return"string"===typeof t||t instanceof String}function it(t){return ot()&&t instanceof Blob}function ot(){return"undefined"!==typeof Blob}function at(t,e,n,r){if(r<e)throw S("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw S("Invalid value for '"+t+"'. Expected "+n+" or less.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function st(t,e){var n=e.match(/^(\w+):\/\/.+/),r=null===n||void 0===n?void 0:n[1],i=e;return null==r&&(i="https://"+e),i+"/v0"+t}function ut(t){var e=encodeURIComponent,n="?";for(var r in t)if(t.hasOwnProperty(r)){var i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){f.resolve_=t,f.reject_=e,f.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){if(n)e(!1,new lt(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===K.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new lt(a,r))}else{var s=r.getErrorCode()===K.ABORT;e(!1,new lt(!1,null,s))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}function n(e,n){var r=t.resolve_,i=t.reject_,o=n.connection;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());tt(a)?r(a):r()}catch(u){i(u)}else if(null!==o){var s=p();s.serverResponse=o.getResponseText(),t.errorCallback_?i(t.errorCallback_(o,s)):i(s)}else if(n.canceled){s=t.appDelete_?A():b();i(s)}else{s=_();i(s)}}this.canceled_?n(!1,new lt(!1,null,!0)):this.backoffId_=J(e,n,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&Z(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=[408,429],r=-1!==n.indexOf(t),i=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||i},t}(),lt=function(){function t(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n}return t}();function ft(t,e){null!==e&&e.length>0&&(t["Authorization"]="Firebase "+e)}function ht(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}function pt(t,e){e&&(t["X-Firebase-GMPID"]=e)}function dt(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}function vt(t,e,n,r,i,o){var a=ut(t.urlParams),s=t.url+a,u=Object.assign({},t.headers);return pt(u,e),ft(u,n),ht(u,o),dt(u,r),new ct(s,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function mt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=gt();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(ot())return new Blob(t);throw new f("unsupported-environment","This browser doesn't seem to support creating Blobs")}function yt(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t=function(){function t(t,e){var n=0,r="";it(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(it(this.data_)){var r=this.data_,i=yt(r,e,n);return null===i?null:new t(i)}var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(ot()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(mt.apply(null,r))}var i=e.map((function(t){return rt(t)?L(P.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){var e;try{e=JSON.parse(t)}catch(n){return null}return nt(e)?e:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t){if(0===t.length)return null;var e=t.lastIndexOf("/");if(-1===e)return"";var n=t.slice(0,e);return n}function Et(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function It(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t,e){return e}var kt=function(){function t(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Tt}return t}(),Ct=null;function St(t){return!rt(t)||t.length<2?t:It(t)}function At(){if(Ct)return Ct;var t=[];function e(t,e){return St(e)}t.push(new kt("bucket")),t.push(new kt("generation")),t.push(new kt("metageneration")),t.push(new kt("name","fullPath",!0));var n=new kt("name");function r(t,e){return void 0!==e?Number(e):e}n.xform=e,t.push(n);var i=new kt("size");return i.xform=r,t.push(i),t.push(new kt("timeCreated")),t.push(new kt("updated")),t.push(new kt("md5Hash",null,!0)),t.push(new kt("cacheControl",null,!0)),t.push(new kt("contentDisposition",null,!0)),t.push(new kt("contentEncoding",null,!0)),t.push(new kt("contentLanguage",null,!0)),t.push(new kt("contentType",null,!0)),t.push(new kt("metadata","customMetadata",!0)),Ct=t,Ct}function xt(t,e){function n(){var n=t["bucket"],r=t["fullPath"],i=new Q(n,r);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Nt(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return xt(r,t),r}function Ot(t,e,n){var r=bt(e);if(null===r)return null;var i=r;return Nt(t,i,n)}function Rt(t,e,n){var r=bt(e);if(null===r)return null;if(!rt(r["downloadTokens"]))return null;var i=r["downloadTokens"];if(0===i.length)return null;var o=encodeURIComponent,a=i.split(","),s=a.map((function(e){var r=t["bucket"],i=t["fullPath"],a="/b/"+o(r)+"/o/"+o(i),s=st(a,n),u=ut({alt:"media",token:e});return s+u}));return s[0]}function Pt(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt="prefixes",Lt="items";function Mt(t,e,n){var r={prefixes:[],items:[],nextPageToken:n["nextPageToken"]};if(n[Dt])for(var i=0,o=n[Dt];i<o.length;i++){var a=o[i],s=a.replace(/\/$/,""),u=t._makeStorageReference(new Q(e,s));r.prefixes.push(u)}if(n[Lt])for(var c=0,l=n[Lt];c<l.length;c++){var f=l[c];u=t._makeStorageReference(new Q(e,f["name"]));r.items.push(u)}return r}function jt(t,e,n){var r=bt(n);if(null===r)return null;var i=r;return Mt(t,e,i)}var Ft=function(){function t(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){if(!t)throw p()}function qt(t,e){function n(n,r){var i=Ot(t,r,e);return Ut(null!==i),i}return n}function Vt(t,e){function n(n,r){var i=jt(t,e,r);return Ut(null!==i),i}return n}function Bt(t,e){function n(n,r){var i=Ot(t,r,e);return Ut(null!==i),Rt(i,r,t.host)}return n}function Kt(t){function e(e,n){var r;return r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?m():g():402===e.getStatus()?v(t.bucket):403===e.getStatus()?y(t.path):n,r.serverResponse=n.serverResponse,r}return e}function zt(t){var e=Kt(t);function n(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=d(t.path)),i.serverResponse=r.serverResponse,i}return n}function Ht(t,e,n){var r=e.fullServerUrl(),i=st(r,t.host),o="GET",a=t.maxOperationRetryTime,s=new Ft(i,o,qt(t,n),a);return s.errorHandler=zt(e),s}function Wt(t,e,n,r,i){var o={};e.isRoot?o["prefix"]="":o["prefix"]=e.path+"/",n&&n.length>0&&(o["delimiter"]=n),r&&(o["pageToken"]=r),i&&(o["maxResults"]=i);var a=e.bucketOnlyServerUrl(),s=st(a,t.host),u="GET",c=t.maxOperationRetryTime,l=new Ft(s,u,Vt(t,e.bucket),c);return l.urlParams=o,l.errorHandler=Kt(e),l}function Gt(t,e,n){var r=e.fullServerUrl(),i=st(r,t.host),o="GET",a=t.maxOperationRetryTime,s=new Ft(i,o,Bt(t,n),a);return s.errorHandler=zt(e),s}function $t(t,e,n,r){var i=e.fullServerUrl(),o=st(i,t.host),a="PATCH",s=Pt(n,r),u={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,l=new Ft(o,a,qt(t,r),c);return l.headers=u,l.body=s,l.errorHandler=zt(e),l}function Yt(t,e){var n=e.fullServerUrl(),r=st(n,t.host),i="DELETE",o=t.maxOperationRetryTime;function a(t,e){}var s=new Ft(r,i,a,o);return s.successCodes=[200,204],s.errorHandler=zt(e),s}function Qt(t,e){return t&&t["contentType"]||e&&e.type()||"application/octet-stream"}function Xt(t,e,n){var r=Object.assign({},n);return r["fullPath"]=t.path,r["size"]=e.size(),r["contentType"]||(r["contentType"]=Qt(null,e)),r}function Jt(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}var u=s();a["Content-Type"]="multipart/related; boundary="+u;var c=Xt(e,r,i),l=Pt(c,n),f="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+u+"\r\nContent-Type: "+c["contentType"]+"\r\n\r\n",h="\r\n--"+u+"--",p=_t.getBlob(f,r,h);if(null===p)throw T();var d={name:c["fullPath"]},v=st(o,t.host),g="POST",m=t.maxUploadRetryTime,y=new Ft(v,g,qt(t,n),m);return y.urlParams=d,y.headers=a,y.body=p.uploadData(),y.errorHandler=Kt(e),y}var Zt=function(){function t(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}return t}();function te(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(i){Ut(!1)}var r=e||["active"];return Ut(!!n&&-1!==r.indexOf(n)),n}function ee(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=Xt(e,r,i),s={name:a["fullPath"]},u=st(o,t.host),c="POST",l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a["contentType"],"Content-Type":"application/json; charset=utf-8"},f=Pt(a,n),h=t.maxUploadRetryTime;function p(t){var e;te(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){Ut(!1)}return Ut(rt(e)),e}var d=new Ft(u,c,p,h);return d.urlParams=s,d.headers=l,d.body=f,d.errorHandler=Kt(e),d}function ne(t,e,n,r){var i={"X-Goog-Upload-Command":"query"};function o(t){var e=te(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Ut(!1)}n||Ut(!1);var i=Number(n);return Ut(!isNaN(i)),new Zt(i,r.size(),"final"===e)}var a="POST",s=t.maxUploadRetryTime,u=new Ft(n,a,o,s);return u.headers=i,u.errorHandler=Kt(e),u}var re=262144;function ie(t,e,n,r,i,o,a,s){var u=new Zt(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw k();var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,p=l===c?"upload, finalize":"upload",d={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":""+u.current},v=r.slice(f,h);if(null===v)throw T();function g(t,n){var i,a=te(t,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?qt(e,o)(t,n):null,new Zt(s,c,"final"===a,i)}var m="POST",y=e.maxUploadRetryTime,_=new Ft(n,m,g,y);return _.headers=d,_.body=v.uploadData(),_.progressCallback=s||null,_.errorHandler=Kt(t),_}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe=function(){function t(t,e,n){var r=et(t)||null!=e||null!=n;if(r)this.next=t,this.error=e,this.complete=n;else{var i=t;this.next=i.next,this.error=i.error,this.complete=i.complete}}return t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=At(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused");break}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=ee(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=ne(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=re*this._chunkMultiplier,n=new Zt(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=ie(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(u){return t._error=u,void t._transition("error")}var s=t._ref.storage._makeRequest(a,i,o);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){var t=re*this._chunkMultiplier;t<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=Ht(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=Jt(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":this._state=t,void 0!==this._request&&this._request.cancel();break;case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=b(),this._state=t,this._notifyObservers();break;case"error":this._state=t,this._notifyObservers();break;case"success":this._state=t,this._notifyObservers();break}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=W(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new oe(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise();var e=this._observers.slice();e.forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(W(this._state)){case H.SUCCESS:ae(this._resolve.bind(null,this.snapshot))();break;case H.CANCELED:case H.ERROR:var e=this._reject;ae(e.bind(null,this._error))();break;default:t=!1;break}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){var e=W(this._state);switch(e){case H.RUNNING:case H.PAUSED:t.next&&ae(t.next.bind(t,this.snapshot))();break;case H.SUCCESS:t.complete&&ae(t.complete.bind(t))();break;case H.CANCELED:case H.ERROR:t.error&&ae(t.error.bind(t,this._error))();break;default:t.error&&ae(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),ue=function(){function t(t,e){this._service=t,this._location=e instanceof Q?e:Q.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new Q(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return It(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=wt(this._location.path);if(null===e)return null;var n=new Q(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw x(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new se(t,new _t(e),n)}function le(t){var e={prefixes:[],items:[]};return fe(t,e).then((function(){return e}))}function fe(t,e,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r={pageToken:n},[4,he(t,r)];case 1:return o=i.sent(),(a=e.prefixes).push.apply(a,o.prefixes),(s=e.items).push.apply(s,o.items),null==o.nextPageToken?[3,3]:[4,fe(t,e,o.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function he(t,e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return null!=e&&"number"===typeof e.maxResults&&at("options.maxResults",1,1e3,e.maxResults),n=e||{},r=Wt(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function pe(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=Ht(t.storage,t._location,At()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function de(t,e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=$t(t.storage,t._location,e,At()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function ve(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=Gt(t.storage,t._location,At()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw C();return t}))]}}))}))}function ge(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=Yt(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function me(t,e){var n=Et(t._location.path,e),r=new Q(t._location.bucket,n);return new ue(t.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t){return/^[A-Za-z]+:\/\//.test(t)}function _e(t,e){return new ue(t,e)}function be(t,e){if(t instanceof Te){var n=t;if(null==n._bucket)throw I();var r=new ue(n,n._bucket);return null!=e?be(r,e):r}return void 0!==e?me(t,e):t}function we(t,e){if(e&&ye(e)){if(t instanceof Te)return _e(t,e);throw S("To use ref(service, url), the first argument must be a Storage instance.")}return be(t,e)}function Ee(t,e){var n=null===e||void 0===e?void 0:e[u];return null==n?null:Q.makeFromBucketSpec(n,t)}function Ie(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"===typeof i?i:(0,o.createMockUserToken)(i,t.app.options.projectId))}var Te=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=s,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=c,this._maxUploadRetryTime=l,this._requests=new Set,this._bucket=null!=i?Q.makeFromBucketSpec(i,this._host):Ee(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=Q.makeFromBucketSpec(this._url,t):this._bucket=Ee(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){at("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){at("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2]);case 1:if(e=n.sent(),null!==e)return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return t=this._appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return e=n.sent(),[2,e.token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new ue(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new X(A());var i=vt(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=i.sent(),n=e[0],r=e[1],[2,this._makeRequest(t,n,r)]}}))}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(t,e,n){return t=(0,o.getModularInstance)(t),ce(t,e,n)}function Ce(t){return t=(0,o.getModularInstance)(t),pe(t)}function Se(t,e){return t=(0,o.getModularInstance)(t),de(t,e)}function Ae(t,e){return t=(0,o.getModularInstance)(t),he(t,e)}function xe(t){return t=(0,o.getModularInstance)(t),le(t)}function Ne(t){return t=(0,o.getModularInstance)(t),ve(t)}function Oe(t){return t=(0,o.getModularInstance)(t),ge(t)}function Re(t,e){return t=(0,o.getModularInstance)(t),we(t,e)}function Pe(t,e){return me(t,e)}function De(t,e,n,r){void 0===r&&(r={}),Ie(t,e,n,r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Me=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Le(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Le(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"===typeof e?function(t){return e(new Le(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Le(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),je=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new Fe(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new Fe(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Fe=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=Pe(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Me(ke(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=P.RAW),this._throwIfRoot("putString");var r=L(e,t),o=(0,i.__assign)({},n);return null==o["contentType"]&&null!=r.contentType&&(o["contentType"]=r.contentType),new Me(new se(this._delegate,new _t(r.data,!0),o),this)},t.prototype.listAll=function(){var t=this;return xe(this._delegate).then((function(e){return new je(e,t.storage)}))},t.prototype.list=function(t){var e=this;return Ae(this._delegate,t||void 0).then((function(t){return new je(t,e.storage)}))},t.prototype.getMetadata=function(){return Ce(this._delegate)},t.prototype.updateMetadata=function(t){return Se(this._delegate,t)},t.prototype.getDownloadURL=function(){return Ne(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),Oe(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw x(t)},t}(),Ue=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(ye(t))throw S("ref() expected a child path but got a URL, use refFromURL instead.");return new Fe(Re(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!ye(t))throw S("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Q.makeFromUrl(t,this._delegate.host)}catch(e){throw S("refFromUrl() expected a valid full URL but got an invalid one.")}return new Fe(Re(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),De(this._delegate,t,e,n)},t}(),qe="@firebase/storage",Ve="0.7.1",Be="storage";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal"),s=new Ue(i,new Te(i,o,a,new Y,n,r["default"].SDK_VERSION));return s}function ze(t){var e={TaskState:H,TaskEvent:z,StringFormat:P,Storage:Te,Reference:Fe};t.INTERNAL.registerComponent(new a.Component(Be,Ke,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion(qe,Ve)}ze(r["default"])},9556:function(t,e,n){"use strict";n.r(e),n.d(e,{CONSTANTS:function(){return i},Deferred:function(){return g},ErrorFactory:function(){return L},FirebaseError:function(){return D},MAX_VALUE_MILLIS:function(){return vt},RANDOM_FACTOR:function(){return gt},Sha1:function(){return tt},areCookiesEnabled:function(){return O},assert:function(){return o},assertionError:function(){return a},async:function(){return rt},base64:function(){return c},base64Decode:function(){return h},base64Encode:function(){return l},base64urlEncodeWithoutPadding:function(){return f},calculateBackoffMillis:function(){return mt},contains:function(){return H},createMockUserToken:function(){return m},createSubscribe:function(){return et},decode:function(){return q},deepCopy:function(){return p},deepEqual:function(){return Y},deepExtend:function(){return d},errorPrefix:function(){return st},extractQuerystring:function(){return Z},getGlobal:function(){return R},getModularInstance:function(){return bt},getUA:function(){return y},isAdmin:function(){return z},isBrowser:function(){return w},isBrowserExtension:function(){return E},isElectron:function(){return T},isEmpty:function(){return G},isIE:function(){return k},isIndexedDBAvailable:function(){return x},isMobileCordova:function(){return _},isNode:function(){return b},isNodeSdk:function(){return S},isReactNative:function(){return I},isSafari:function(){return A},isUWP:function(){return C},isValidFormat:function(){return K},isValidTimestamp:function(){return V},issuedAtTime:function(){return B},jsonEval:function(){return F},map:function(){return $},ordinal:function(){return yt},querystring:function(){return X},querystringDecode:function(){return J},safeGet:function(){return W},stringLength:function(){return ht},stringToByteArray:function(){return ft},stringify:function(){return U},validateArgCount:function(){return at},validateCallback:function(){return ct},validateContextObject:function(){return lt},validateIndexedDBOpenable:function(){return N},validateNamespace:function(){return ut}});n(1703),n(2801);var r=n(4270),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u=function(t){var e=[],n=0,r=0;while(n<t.length){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){o=t[n++];var a=t[n++],s=t[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(h=64)),r.push(n[l],n[f],n[h],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,s=a?n[t.charAt(i)]:0;++i;var u=i<t.length,c=u?n[t.charAt(i)]:64;++i;var l=i<t.length,f=l?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==c||null==f)throw Error();var h=o<<2|s>>4;if(r.push(h),64!==c){var p=s<<4&240|c>>2;if(r.push(p),64!==f){var d=c<<6&192|f;r.push(d)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){var e=s(t);return c.encodeByteArray(e,!0)},f=function(t){return l(t).replace(/\./g,"")},h=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function p(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&v(r)&&(t[r]=d(t[r],e[r]));return t}function v(t){return"__proto__"!==t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var g=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=(0,r.__assign)({iss:"https://securetoken.google.com/"+i,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t),u="";return[f(JSON.stringify(n)),f(JSON.stringify(s)),u].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function _(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function b(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function w(){return"object"===typeof self&&self.self===self}function E(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function I(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function T(){return y().indexOf("Electron/")>=0}function k(){var t=y();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function C(){return y().indexOf("MSAppHost/")>=0}function S(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function A(){return!b()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x(){return"indexedDB"in self&&null!=indexedDB}function N(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function O(){return!(!navigator||!navigator.cookieEnabled)}function R(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var P="FirebaseError",D=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name=P,Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,L.prototype.create),o}return(0,r.__extends)(e,t),e}(Error),L=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?M(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new D(i,s,r);return u},t}();function M(t,e){return t.replace(j,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var j=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(t){return JSON.parse(t)}function U(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var q=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=F(h(o[0])||""),n=F(h(o[1])||""),i=o[2],r=n["d"]||{},delete n["d"]}catch(a){}return{header:e,claims:n,data:r,signature:i}},V=function(t){var e=q(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof e&&(e.hasOwnProperty("nbf")?r=e["nbf"]:e.hasOwnProperty("iat")&&(r=e["iat"]),i=e.hasOwnProperty("exp")?e["exp"]:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},B=function(t){var e=q(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e["iat"]:null},K=function(t){var e=q(t),n=e.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},z=function(t){var e=q(t).claims;return"object"===typeof e&&!0===e["admin"]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function H(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function W(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function G(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Y(t,e){if(t===e)return!0;for(var n=Object.keys(t),r=Object.keys(e),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=t[a],u=e[a];if(Q(s)&&Q(u)){if(!Y(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function Q(t){return null!==t&&"object"===typeof t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r],a=o[0],s=o[1];n(a,s)}return e.length?"&"+e.join("&"):""}function J(t){var e={},n=t.replace(/^\?/,"").split("&");return n.forEach((function(t){if(t){var n=t.split("="),r=n[0],i=n[1];e[decodeURIComponent(r)]=decodeURIComponent(i)}})),e}function Z(t){var e=t.indexOf("?");if(!e)return"";var n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;while(r<e){if(0===o)while(r<=n)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){while(r<e)if(i[o]=t.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else while(r<e)if(i[o]=t[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function et(t,e){var n=new nt(t,e);return n.subscribe.bind(n)}var nt=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=it(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=ot),void 0===r.error&&(r.error=ot),void 0===r.complete&&(r.complete=ot);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function rt(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}}function it(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}function ot(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}};function st(t,e){return t+" failed: "+e+" argument "}function ut(t,e,n){if((!n||e)&&"string"!==typeof e)throw new Error(st(t,"namespace")+"must be a valid firebase namespace.")}function ct(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(st(t,e)+"must be a valid function.")}function lt(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(st(t,e)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<t.length,"Surrogate pair missing trail surrogate.");var s=t.charCodeAt(r)-56320;i=65536+(a<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},ht=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},pt=1e3,dt=2,vt=144e5,gt=.5;function mt(t,e,n){void 0===e&&(e=pt),void 0===n&&(n=dt);var r=e*Math.pow(n,t),i=Math.round(gt*r*(Math.random()-.5)*2);return Math.min(vt,r+i)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return Number.isFinite(t)?t+_t(t):""+t}function _t(t){t=Math.abs(t);var e=t%100;if(e>=10&&e<=20)return"th";var n=t%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){return t&&t._delegate?t._delegate:t}},7057:function(t,e,n){"use strict";n.d(e,{FJ:function(){return xr},JJ:function(){return Mr},UE:function(){return Ar},ii:function(){return Lr},jK:function(){return Nr},ju:function(){return Rr},kN:function(){return Pr},tw:function(){return Or},zI:function(){return Dr}});n(1703),n(8675),n(3462);var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var a,s="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},u=u||{},c=s||self;function l(){}function f(t){var e=typeof t;return e="object"!=e?e:t?Array.isArray(t)?"array":e:"null","array"==e||"object"==e&&"number"==typeof t.length}function h(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function p(t){return Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++v)}var d="closure_uid_"+(1e9*Math.random()>>>0),v=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:m,y.apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function b(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function w(){this.s=this.s,this.o=this.o}var E=0,I={};w.prototype.s=!1,w.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=E)){var t=p(this);delete I[t]}},w.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var T=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},k=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function C(t){t:{for(var e=zn,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}function S(t){return Array.prototype.concat.apply([],arguments)}function A(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var N,O=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function R(t,e){return-1!=t.indexOf(e)}function P(t,e){return t<e?-1:t>e?1:0}t:{var D=c.navigator;if(D){var L=D.userAgent;if(L){N=L;break t}}N=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function j(t){var e={};for(var n in t)e[n]=t[n];return e}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function q(t){return q[" "](t),t}function V(t){var e=tt;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}q[" "]=l;var B,K=R(N,"Opera"),z=R(N,"Trident")||R(N,"MSIE"),H=R(N,"Edge"),W=H||z,G=R(N,"Gecko")&&!(R(N.toLowerCase(),"webkit")&&!R(N,"Edge"))&&!(R(N,"Trident")||R(N,"MSIE"))&&!R(N,"Edge"),$=R(N.toLowerCase(),"webkit")&&!R(N,"Edge");function Y(){var t=c.document;return t?t.documentMode:void 0}t:{var Q="",X=function(){var t=N;return G?/rv:([^\);]+)(\)|;)/.exec(t):H?/Edge\/([\d\.]+)/.exec(t):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):$?/WebKit\/(\S+)/.exec(t):K?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(X&&(Q=X?X[1]:""),z){var J=Y();if(null!=J&&J>parseFloat(Q)){B=String(J);break t}}B=Q}var Z,tt={};function et(){return V((function(){for(var t=0,e=O(String(B)).split("."),n=O("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=P(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||P(0==o[2].length,0==a[2].length)||P(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}))}if(c.document&&z){var nt=Y();Z=nt||(parseInt(B,10)||void 0)}else Z=void 0;var rt=Z,it=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{c.addEventListener("test",l,e),c.removeEventListener("test",l,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function at(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(G){t:{try{q(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:st[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&at.Z.h.call(this)}}ot.prototype.h=function(){this.defaultPrevented=!0},b(at,ot);var st={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ut="closure_listenable_"+(1e6*Math.random()|0),ct=0;function lt(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++ct,this.ca=this.fa=!1}function ft(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ht(t){this.src=t,this.g={},this.h=0}function pt(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=T(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ft(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}ht.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var a=dt(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):(e=new lt(e,this.src,o,!!r,i),e.fa=n,t.push(e)),e};var vt="closure_lm_"+(1e6*Math.random()|0),gt={};function mt(t,e,n,r,i){if(r&&r.once)return bt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)mt(t,e[o],n,r,i);return null}return n=St(n),t&&t[ut]?t.N(e,n,h(r)?!!r.capture:!!r,i):yt(t,e,n,!1,r,i)}function yt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=h(i)?!!i.capture:!!i,s=kt(t);if(s||(t[vt]=s=new ht(t)),n=s.add(e,n,r,a,o),n.proxy)return n;if(r=_t(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(It(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function _t(){function t(n){return e.call(t.src,t.listener,n)}var e=Tt;return t}function bt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)bt(t,e[o],n,r,i);return null}return n=St(n),t&&t[ut]?t.O(e,n,h(r)?!!r.capture:!!r,i):yt(t,e,n,!0,r,i)}function wt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)wt(t,e[o],n,r,i);else r=h(r)?!!r.capture:!!r,n=St(n),t&&t[ut]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=dt(o,n,r,i),-1<n&&(ft(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=kt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dt(e,n,r,i)),(n=-1<t?e[t]:null)&&Et(n))}function Et(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[ut])pt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(It(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=kt(e))?(pt(n,t),0==n.h&&(n.src=null,e[vt]=null)):ft(t)}}}function It(t){return t in gt?gt[t]:gt[t]="on"+t}function Tt(t,e){if(t.ca)t=!0;else{e=new at(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Et(t),t=n.call(r,e)}return t}function kt(t){return t=t[vt],t instanceof ht?t:null}var Ct="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"===typeof t?t:(t[Ct]||(t[Ct]=function(e){return t.handleEvent(e)}),t[Ct])}function At(){w.call(this),this.i=new ht(this),this.P=this,this.I=null}function xt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new ot(e,t);else if(e instanceof ot)e.target=e.target||t;else{var i=e;e=new ot(r,t),U(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=Nt(a,r,!0,e)&&i}if(a=e.g=t,i=Nt(a,r,!0,e)&&i,i=Nt(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)a=e.g=n[o],i=Nt(a,r,!1,e)&&i}function Nt(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&pt(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}b(At,w),At.prototype[ut]=!0,At.prototype.removeEventListener=function(t,e,n,r){wt(this,t,e,n,r)},At.prototype.M=function(){if(At.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)ft(n[r]);delete e.g[t],e.h--}}this.I=null},At.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Ot=c.JSON.stringify;function Rt(){var t=Vt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Pt,Dt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Lt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Lt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Mt}),(function(t){return t.reset()})),Mt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function jt(t){c.setTimeout((function(){throw t}),0)}function Ft(t,e){Pt||Ut(),qt||(Pt(),qt=!0),Vt.add(t,e)}function Ut(){var t=c.Promise.resolve(void 0);Pt=function(){t.then(Bt)}}var qt=!1,Vt=new Dt;function Bt(){for(var t;t=Rt();){try{t.h.call(t.g)}catch(n){jt(n)}var e=Lt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}qt=!1}function Kt(t,e){At.call(this),this.h=t||1,this.g=e||c,this.j=y(this.kb,this),this.l=Date.now()}function zt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function Ht(t,e,n){if("function"===typeof t)n&&(t=y(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:c.setTimeout(t,e||0)}function Wt(t){t.g=Ht((function(){t.g=null,t.i&&(t.i=!1,Wt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}b(Kt,At),a=Kt.prototype,a.da=!1,a.S=null,a.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),xt(this,"tick"),this.da&&(zt(this),this.start()))}},a.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},a.M=function(){Kt.Z.M.call(this),zt(this),delete this.g};var Gt=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return i(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Wt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(w);function $t(t){w.call(this),this.h=t,this.g={}}b($t,w);var Yt=[];function Qt(t,e,n,r){Array.isArray(n)||(n&&(Yt[0]=n.toString()),n=Yt);for(var i=0;i<n.length;i++){var o=mt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Xt(t){M(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Et(t)}),t),t.g={}}function Jt(){this.g=!0}function Zt(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}function te(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}function ee(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+re(t,n)+(r?" "+r:"")}))}function ne(t,e){t.info((function(){return"TIMEOUT: "+e}))}function re(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ot(n)}catch(s){return e}}$t.prototype.M=function(){$t.Z.M.call(this),Xt(this)},$t.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jt.prototype.Aa=function(){this.g=!1},Jt.prototype.info=function(){};var ie={},oe=null;function ae(){return oe=oe||new At}function se(t){ot.call(this,ie.Ma,t)}function ue(t){var e=ae();xt(e,new se(e,t))}function ce(t,e){ot.call(this,ie.STAT_EVENT,t),this.stat=e}function le(t){var e=ae();xt(e,new ce(e,t))}function fe(t,e){ot.call(this,ie.Na,t),this.size=e}function he(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return c.setTimeout((function(){t()}),e)}ie.Ma="serverreachability",b(se,ot),ie.STAT_EVENT="statevent",b(ce,ot),ie.Na="timingevent",b(fe,ot);var pe={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},de={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ve(){}function ge(t){return t.h||(t.h=t.i())}function me(){}ve.prototype.h=null;var ye,_e={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function be(){ot.call(this,"d")}function we(){ot.call(this,"c")}function Ee(){}function Ie(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new $t(this),this.P=ke,t=W?125:void 0,this.W=new Kt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Te}function Te(){this.i=null,this.g="",this.h=!1}b(be,ot),b(we,ot),b(Ee,ve),Ee.prototype.g=function(){return new XMLHttpRequest},Ee.prototype.i=function(){return{}},ye=new Ee;var ke=45e3,Ce={},Se={};function Ae(t,e,n){t.K=1,t.v=Ze(Ge(e)),t.s=n,t.U=!0,xe(t,null)}function xe(t,e){t.F=Date.now(),Pe(t),t.A=Ge(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),vn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Te,t.g=wr(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Gt(y(t.Ia,t,t.g),t.O)),Qt(t.V,t.g,"readystatechange",t.gb),e=t.H?j(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ue(1),Zt(t.j,t.u,t.A,t.m,t.X,t.s)}function Ne(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function Oe(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if(r=Re(t,n),r==Se){4==e&&(t.o=4,le(14),i=!1),ee(t.j,t.m,null,"[Incomplete Response]");break}if(r==Ce){t.o=4,le(15),ee(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}ee(t.j,t.m,r,null),Fe(t,r)}Ne(t)&&r!=Se&&r!=Ce&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,le(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),pr(e),e.L=!0,le(11))):(ee(t.j,t.m,n,"[Invalid Chunked Response]"),je(t),Me(t))}function Re(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Se:(n=Number(e.substring(n,r)),isNaN(n)?Ce:(r+=1,r+n>e.length?Se:(e=e.substr(r,n),t.C=r+n,e)))}function Pe(t){t.Y=Date.now()+t.P,De(t,t.P)}function De(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=he(y(t.eb,t),e)}function Le(t){t.B&&(c.clearTimeout(t.B),t.B=null)}function Me(t){0==t.l.G||t.I||gr(t.l,t)}function je(t){Le(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,zt(t.W),Xt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Fe(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||In(n.i,t)))if(n.I=t.N,!t.J&&In(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;vr(n),rr(n)}hr(n),le(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=he(y(n.ab,n),6e3));if(1>=En(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else yr(n,11)}else if((t.J||n.g==t)&&vr(n),!x(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(R(l,"spdy")||R(l,"quic")||R(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Tn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Je(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var p=t;if(r.oa=br(r,r.H?r.la:null,r.W),p.J){kn(r.i,p);var d=p,v=r.K;v&&d.setTimeout(v),d.B&&(Le(d),Pe(d)),r.g=p}else fr(r);0<n.l.length&&ar(n)}else"stop"!=o[0]&&"close"!=o[0]||yr(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?yr(n,7):nr(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}ue(4)}catch(o){}}function Ue(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function qe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"===typeof t)k(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(f(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=Ue(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ve(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ve)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Be(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ke(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Ke(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Ke(t,e){return Object.prototype.hasOwnProperty.call(t,e)}a=Ie.prototype,a.setTimeout=function(t){this.P=t},a.gb=function(t){t=t.target;var e=this.L;e&&3==Qn(t)?e.l():this.Ia(t)},a.Ia=function(t){try{if(t==this.g)t:{var e=Qn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||W||this.g&&(this.h.h||this.g.ga()||Xn(this.g)))){this.I||4!=e||7==n||ue(8==n||0>=r?3:2),Le(this);var i=this.g.ba();this.N=i;e:if(Ne(this)){var o=Xn(this.g);t="";var a=o.length,s=4==Qn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){je(this),Me(this);var u="";break e}this.h.i=new c.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,te(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var l,f=this.g;if((l=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(l)){var h=l;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,le(12),je(this),Me(this);break t}ee(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Fe(this,i)}this.U?(Oe(this,e,u),W&&this.i&&3==e&&(Qt(this.V,this.W,"tick",this.fb),this.W.start())):(ee(this.j,this.m,u,null),Fe(this,u)),4==e&&je(this),this.i&&!this.I&&(4==e?gr(this.l,this):(this.i=!1,Pe(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,le(12)):(this.o=0,le(13)),je(this),Me(this)}}}catch(e){}},a.fb=function(){if(this.g){var t=Qn(this.g),e=this.g.ga();this.C<e.length&&(Le(this),Oe(this,t,e),this.i&&4!=t&&Pe(this))}},a.cancel=function(){this.I=!0,je(this)},a.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(ne(this.j,this.A),2!=this.K&&(ue(3),le(17)),je(this),this.o=2,Me(this)):De(this,this.Y-t)},a=Ve.prototype,a.R=function(){Be(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},a.T=function(){return Be(this),this.g.concat()},a.get=function(t,e){return Ke(this.h,t)?this.h[t]:e},a.set=function(t,e){Ke(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},a.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ze=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function He(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function We(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof We){this.g=void 0!==e?e:t.g,$e(this,t.j),this.s=t.s,Ye(this,t.i),Qe(this,t.m),this.l=t.l,e=t.h;var n=new fn;n.i=e.i,e.g&&(n.g=new Ve(e.g),n.h=e.h),Xe(this,n),this.o=t.o}else t&&(n=String(t).match(ze))?(this.g=!!e,$e(this,n[1]||"",!0),this.s=nn(n[2]||""),Ye(this,n[3]||"",!0),Qe(this,n[4]),this.l=nn(n[5]||"",!0),Xe(this,n[6]||"",!0),this.o=nn(n[7]||"")):(this.g=!!e,this.h=new fn(null,this.g))}function Ge(t){return new We(t)}function $e(t,e,n){t.j=n?nn(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ye(t,e,n){t.i=n?nn(e,!0):e}function Qe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Xe(t,e,n){e instanceof fn?(t.h=e,mn(t.h,t.g)):(n||(e=rn(e,cn)),t.h=new fn(e,t.g))}function Je(t,e,n){t.h.set(e,n)}function Ze(t){return Je(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function tn(t){return t instanceof We?Ge(t):new We(t,void 0)}function en(t,e,n,r){var i=new We(null,void 0);return t&&$e(i,t),e&&Ye(i,e),n&&Qe(i,n),r&&(i.l=r),i}function nn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function rn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,on),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function on(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}We.prototype.toString=function(){var t=[],e=this.j;e&&t.push(rn(e,an,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(rn(e,an,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(rn(n,"/"==n.charAt(0)?un:sn,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",rn(n,ln)),t.join("")};var an=/[#\/\?@]/g,sn=/[#\?:]/g,un=/[#\?]/g,cn=/[#\?@]/g,ln=/#/g;function fn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function hn(t){t.g||(t.g=new Ve,t.h=0,t.i&&He(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function pn(t,e){hn(t),e=gn(t,e),Ke(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Ke(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Be(t)))}function dn(t,e){return hn(t),e=gn(t,e),Ke(t.g.h,e)}function vn(t,e,n){pn(t,e),0<n.length&&(t.i=null,t.g.set(gn(t,e),A(n)),t.h+=n.length)}function gn(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function mn(t,e){e&&!t.j&&(hn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(pn(this,e),vn(this,n,t))}),t)),t.j=e}a=fn.prototype,a.add=function(t,e){hn(this),this.i=null,t=gn(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},a.forEach=function(t,e){hn(this),this.g.forEach((function(n,r){k(n,(function(n){t.call(e,n,r,this)}),this)}),this)},a.T=function(){hn(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},a.R=function(t){hn(this);var e=[];if("string"===typeof t)dn(this,t)&&(e=S(e,this.g.get(gn(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},a.set=function(t,e){return hn(this),this.i=null,t=gn(this,t),dn(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},a.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e},a.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var yn=function(){function t(t,e){this.h=t,this.g=e}return t}();function _n(t){this.l=t||bn,c.PerformanceNavigationTiming?(t=c.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(c.g&&c.g.Ea&&c.g.Ea()&&c.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var bn=10;function wn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function En(t){return t.h?1:t.g?t.g.size:0}function In(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Tn(t,e){t.g?t.g.add(e):t.h=e}function kn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Cn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=o(t.g.values()),a=i.next();!a.done;a=i.next()){var s=a.value;r=r.concat(s.D)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return A(t.i)}function Sn(){}function An(){this.g=new Sn}function xn(t,e,n){var r=n||"";try{qe(t,(function(t,n){var i=t;h(t)&&(i=Ot(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nn(t,e){var n=new Jt;if(c.Image){var r=new Image;r.onload=_(On,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(On,n,r,"TestLoadImage: error",!1,e),r.onabort=_(On,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(On,n,r,"TestLoadImage: timeout",!1,e),c.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}function On(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function Rn(t){this.l=t.$b||null,this.j=t.ib||!1}function Pn(t,e){At.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Dn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_n.prototype.cancel=function(){var t,e;if(this.i=Cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=o(this.g.values()),r=n.next();!r.done;r=n.next()){var i=r.value;i.cancel()}}catch(a){t={error:a}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},Sn.prototype.stringify=function(t){return c.JSON.stringify(t,void 0)},Sn.prototype.parse=function(t){return c.JSON.parse(t,void 0)},b(Rn,ve),Rn.prototype.g=function(){return new Pn(this.l,this.j)},Rn.prototype.i=function(t){return function(){return t}}({}),b(Pn,At);var Dn=0;function Ln(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Mn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,jn(t)}function jn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}a=Pn.prototype,a.open=function(t,e){if(this.readyState!=Dn)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,jn(this)},a.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||c).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},a.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mn(this)),this.readyState=Dn},a.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof c.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ln(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},a.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Mn(this):jn(this),3==this.readyState&&Ln(this)}},a.Ua=function(t){this.g&&(this.response=this.responseText=t,Mn(this))},a.Ta=function(t){this.g&&(this.response=t,Mn(this))},a.ha=function(){this.g&&Mn(this)},a.setRequestHeader=function(t,e){this.v.append(t,e)},a.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Pn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Fn=c.JSON.parse;function Un(t){At.call(this),this.headers=new Ve,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qn,this.K=this.L=!1}b(Un,At);var qn="",Vn=/^https?$/i,Bn=["POST","PUT"];function Kn(t){return z&&et()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}function zn(t){return"content-type"==t.toLowerCase()}function Hn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Wn(t),$n(t)}function Wn(t){t.D||(t.D=!0,xt(t,"complete"),xt(t,"error"))}function Gn(t){if(t.h&&"undefined"!=typeof u&&(!t.C[1]||4!=Qn(t)||2!=t.ba()))if(t.v&&4==Qn(t))Ht(t.Fa,0,t);else if(xt(t,"readystatechange"),4==Qn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(ze)[1]||null;if(!o&&c.self&&c.self.location){var a=c.self.location.protocol;o=a.substr(0,a.length-1)}i=!Vn.test(o?o.toLowerCase():"")}e=i}if(e)xt(t,"complete"),xt(t,"success");else{t.m=6;try{var s=2<Qn(t)?t.g.statusText:""}catch(l){s=""}t.j=s+" ["+t.ba()+"]",Wn(t)}}finally{$n(t)}}}function $n(t,e){if(t.g){Yn(t);var n=t.g,r=t.C[0]?l:null;t.g=null,t.C=null,e||xt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Yn(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(c.clearTimeout(t.A),t.A=null)}function Qn(t){return t.g?t.g.readyState:0}function Xn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case qn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Jn(t){var e="";return M(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Zn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Jn(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Je(t,e,n))}function tr(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function er(t){this.za=0,this.l=[],this.h=new Jt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=tr("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=tr("baseRetryDelayMs",5e3,t),this.$a=tr("retryDelaySeedMs",1e4,t),this.Ya=tr("forwardChannelMaxRetries",2,t),this.ra=tr("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new _n(t&&t.concurrentRequestLimit),this.Ca=new An,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function nr(t){if(ir(t),3==t.G){var e=t.V++,n=Ge(t.F);Je(n,"SID",t.J),Je(n,"RID",e),Je(n,"TYPE","terminate"),cr(t,n),e=new Ie(t,t.h,e,void 0),e.K=2,e.v=Ze(Ge(n)),n=!1,c.navigator&&c.navigator.sendBeacon&&(n=c.navigator.sendBeacon(e.v.toString(),"")),!n&&c.Image&&((new Image).src=e.v,n=!0),n||(e.g=wr(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Pe(e)}_r(t)}function rr(t){t.g&&(pr(t),t.g.cancel(),t.g=null)}function ir(t){rr(t),t.u&&(c.clearTimeout(t.u),t.u=null),vr(t),t.i.cancel(),t.m&&("number"===typeof t.m&&c.clearTimeout(t.m),t.m=null)}function or(t,e){t.l.push(new yn(t.Za++,e)),3==t.G&&ar(t)}function ar(t){wn(t.i)||t.m||(t.m=!0,Ft(t.Ha,t),t.C=0)}function sr(t,e){return!(En(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=he(y(t.Ha,t,e),mr(t,t.C)),t.C++,!0))}function ur(t,e){var n;n=e?e.m:t.V++;var r=Ge(t.F);Je(r,"SID",t.J),Je(r,"RID",n),Je(r,"AID",t.U),cr(t,r),t.o&&t.s&&Zn(r,t.o,t.s),n=new Ie(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=lr(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Tn(t.i,n),Ae(n,r,e)}function cr(t,e){t.j&&qe({},(function(t,n){Je(e,n,t)}))}function lr(t,e,n){n=Math.min(t.l.length,n);var r=t.j?y(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(c-=o,0>c)o=Math.max(0,i[u].h-100),s=!1;else try{xn(l,a,"req"+c+"_")}catch(f){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function fr(t){t.g||t.u||(t.Y=1,Ft(t.Ga,t),t.A=0)}function hr(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=he(y(t.Ga,t),mr(t,t.A)),t.A++,!0)}function pr(t){null!=t.B&&(c.clearTimeout(t.B),t.B=null)}function dr(t){t.g=new Ie(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=Ge(t.oa);Je(e,"RID","rpc"),Je(e,"SID",t.J),Je(e,"CI",t.N?"0":"1"),Je(e,"AID",t.U),cr(t,e),Je(e,"TYPE","xmlhttp"),t.o&&t.s&&Zn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=Ze(Ge(e)),n.s=null,n.U=!0,xe(n,t)}function vr(t){null!=t.v&&(c.clearTimeout(t.v),t.v=null)}function gr(t,e){var n=null;if(t.g==e){vr(t),pr(t),t.g=null;var r=2}else{if(!In(t.i,e))return;n=e.D,kn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=ae(),xt(r,new fe(r,n,e,i)),ar(t)}else fr(t);else if(i=e.o,3==i||0==i&&0<t.I||!(1==r&&sr(t,e)||2==r&&hr(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:yr(t,5);break;case 4:yr(t,10);break;case 3:yr(t,6);break;default:yr(t,2)}}function mr(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function yr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=y(t.jb,t);n||(n=new We("//www.google.com/images/cleardot.gif"),c.location&&"http"==c.location.protocol||$e(n,"https"),Ze(n)),Nn(n.toString(),r)}else le(2);t.G=0,t.j&&t.j.va(e),_r(t),ir(t)}function _r(t){t.G=0,t.I=-1,t.j&&(0==Cn(t.i).length&&0==t.l.length||(t.i.i.length=0,A(t.l),t.l.length=0),t.j.ua())}function br(t,e,n){var r=tn(n);if(""!=r.i)e&&Ye(r,e+"."+r.i),Qe(r,r.m);else{var i=c.location;r=en(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&M(t.aa,(function(t,e){Je(r,e,t)})),e=t.D,n=t.sa,e&&n&&Je(r,e,n),Je(r,"VER",t.ma),cr(t,r),r}function wr(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Un(new Rn({ib:!0})):new Un(t.qa),e.L=t.H,e}function Er(){}function Ir(){if(z&&!(10<=Number(rt)))throw Error("Environmental error: no available transport.")}function Tr(t,e){At.call(this),this.g=new er(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.g.D=e,t=this.h,null!==t&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Sr(this)}function kr(t){be.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function Cr(){we.call(this),this.status=1}function Sr(t){this.g=t}a=Un.prototype,a.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ye.g(),this.C=this.u?ge(this.u):ge(ye),this.g.onreadystatechange=y(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Hn(this,o)}t=n||"";var i=new Ve(this.headers);r&&qe(r,(function(t,e){i.set(e,t)})),r=C(i.T()),n=c.FormData&&t instanceof c.FormData,!(0<=T(Bn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yn(this),0<this.B&&((this.K=Kn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=y(this.pa,this)):this.A=Ht(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Hn(this,o)}},a.pa=function(){"undefined"!=typeof u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xt(this,"timeout"),this.abort(8))},a.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xt(this,"complete"),xt(this,"abort"),$n(this))},a.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$n(this,!0)),Un.Z.M.call(this)},a.Fa=function(){this.s||(this.F||this.v||this.l?Gn(this):this.cb())},a.cb=function(){Gn(this)},a.ba=function(){try{return 2<Qn(this)?this.g.status:-1}catch(t){return-1}},a.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},a.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Fn(e)}},a.Da=function(){return this.m},a.La=function(){return"string"===typeof this.j?this.j:String(this.j)},a=er.prototype,a.ma=8,a.G=1,a.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},a.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new Ie(this,this.h,t,void 0),n=this.s;if(this.P&&(n?(n=j(n),U(n,this.P)):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(o="__data__"in o.g&&(o=o.g.__data__,"string"===typeof o)?o.length:void 0,void 0===o)break;if(r+=o,4096<r){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=lr(this,e,r),i=Ge(this.F),Je(i,"RID",t),Je(i,"CVER",22),this.D&&Je(i,"X-HTTP-Session-Id",this.D),cr(this,i),this.o&&n&&Zn(i,this.o,n),Tn(this.i,e),this.Ra&&Je(i,"TYPE","init"),this.ja?(Je(i,"$req",r),Je(i,"SID","null"),e.$=!0,Ae(e,i,null)):Ae(e,i,r),this.G=2}}else 3==this.G&&(t?ur(this,t):0==this.l.length||wn(this.i)||ur(this))},a.Ga=function(){if(this.u=null,dr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=he(y(this.bb,this),t)}},a.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,le(10),rr(this),dr(this))},a.ab=function(){null!=this.v&&(this.v=null,rr(this),hr(this),le(19))},a.jb=function(t){t?(this.h.info("Successfully pinged google.com"),le(2)):(this.h.info("Failed to ping google.com"),le(1))},a=Er.prototype,a.xa=function(){},a.wa=function(){},a.va=function(){},a.ua=function(){},a.Oa=function(){},Ir.prototype.g=function(t,e){return new Tr(t,e)},b(Tr,At),Tr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ft(y(t.hb,t,e))),le(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=br(t,null,t.W),ar(t)},Tr.prototype.close=function(){nr(this.g)},Tr.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,or(this.g,e)}else this.v?(e={},e.__data__=Ot(t),or(this.g,e)):or(this.g,t)},Tr.prototype.M=function(){this.g.j=null,delete this.j,nr(this.g),delete this.g,Tr.Z.M.call(this)},b(kr,be),b(Cr,we),b(Sr,Er),Sr.prototype.xa=function(){xt(this.g,"a")},Sr.prototype.wa=function(t){xt(this.g,new kr(t))},Sr.prototype.va=function(t){xt(this.g,new Cr(t))},Sr.prototype.ua=function(){xt(this.g,"b")},Ir.prototype.createWebChannel=Ir.prototype.g,Tr.prototype.send=Tr.prototype.u,Tr.prototype.open=Tr.prototype.m,Tr.prototype.close=Tr.prototype.close,pe.NO_ERROR=0,pe.TIMEOUT=8,pe.HTTP_ERROR=6,de.COMPLETE="complete",me.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",At.prototype.listen=At.prototype.N,Un.prototype.listenOnce=Un.prototype.O,Un.prototype.getLastError=Un.prototype.La,Un.prototype.getLastErrorCode=Un.prototype.Da,Un.prototype.getStatus=Un.prototype.ba,Un.prototype.getResponseJson=Un.prototype.Qa,Un.prototype.getResponseText=Un.prototype.ga,Un.prototype.send=Un.prototype.ea;var Ar=function(){return new Ir},xr=function(){return ae()},Nr=pe,Or=de,Rr=ie,Pr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Dr=Rn,Lr=me,Mr=Un},81:function(t,e,n){"use strict";n.d(e,{Qc:function(){return Qn},fL:function(){return Jn},qv:function(){return Xn},vI:function(){return Yn},vc:function(){return $n}});n(1703);
/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */
function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e){return p(t)||v(t,e)||g(t,e)||_()}function f(t){return h(t)||d(t)||g(t)||y()}function h(t){if(Array.isArray(t))return m(t)}function p(t){if(Array.isArray(t))return t}function d(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function v(t,e){var n=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(t);!(a=(r=n.next()).done);a=!0)if(o.push(r.value),e&&o.length===e)break}catch(u){s=!0,i=u}finally{try{a||null==n["return"]||n["return"]()}finally{if(s)throw i}}return o}}function g(t,e){if(t){if("string"===typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var b=function(){},w={},E={},I=null,T={mark:b,measure:b};try{"undefined"!==typeof window&&(w=window),"undefined"!==typeof document&&(E=document),"undefined"!==typeof MutationObserver&&(I=MutationObserver),"undefined"!==typeof performance&&(T=performance)}catch(Zn){}var k=w.navigator||{},C=k.userAgent,S=void 0===C?"":C,A=w,x=E,N=I,O=T,R=(A.document,!!x.documentElement&&!!x.head&&"function"===typeof x.addEventListener&&"function"===typeof x.createElement),P=~S.indexOf("MSIE")||~S.indexOf("Trident/"),D="___FONT_AWESOME___",L=16,M="fa",j="svg-inline--fa",F="data-fa-i2svg",U="data-fa-pseudo-element",q="data-fa-pseudo-element-pending",V="data-prefix",B="data-icon",K="fontawesome-i2svg",z="async",H=["HTML","HEAD","STYLE","SCRIPT"],W=function(){try{return!0}catch(Zn){return!1}}(),G={fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands",fak:"kit","fa-kit":"kit",fa:"solid"},$={solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab",kit:"fak"},Y={fab:"fa-brands",fad:"fa-duotone",fak:"fa-kit",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},Q={"fa-brands":"fab","fa-duotone":"fad","fa-kit":"fak","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},X=/fa[srltdbk\-\ ]/,J="fa-layers-text",Z=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Kit)?.*/i,tt={900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},et=[1,2,3,4,5,6,7,8,9,10],nt=et.concat([11,12,13,14,15,16,17,18,19,20]),rt=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],it={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},ot=[].concat(f(Object.keys($)),["2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",it.GROUP,it.SWAP_OPACITY,it.PRIMARY,it.SECONDARY]).concat(et.map((function(t){return"".concat(t,"x")}))).concat(nt.map((function(t){return"w-".concat(t)}))),at=A.FontAwesomeConfig||{};function st(t){var e=x.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}function ut(t){return""===t||"false"!==t&&("true"===t||t)}if(x&&"function"===typeof x.querySelector){var ct=[["data-family-prefix","familyPrefix"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]];ct.forEach((function(t){var e=l(t,2),n=e[0],r=e[1],i=ut(st(n));void 0!==i&&null!==i&&(at[r]=i)}))}var lt={familyPrefix:M,styleDefault:"solid",replacementClass:j,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},ft=i(i({},lt),at);ft.autoReplaceSvg||(ft.observeMutations=!1);var ht={};Object.keys(ft).forEach((function(t){Object.defineProperty(ht,t,{enumerable:!0,set:function(e){ft[t]=e,pt.forEach((function(t){return t(ht)}))},get:function(){return ft[t]}})})),A.FontAwesomeConfig=ht;var pt=[];function dt(t){return pt.push(t),function(){pt.splice(pt.indexOf(t),1)}}var vt=L,gt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function mt(t){if(t&&R){var e=x.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=x.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return x.head.insertBefore(e,r),t}}var yt="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function _t(){var t=12,e="";while(t-- >0)e+=yt[62*Math.random()|0];return e}function bt(t){for(var e=[],n=(t||[]).length>>>0;n--;)e[n]=t[n];return e}function wt(t){return t.classList?bt(t.classList):(t.getAttribute("class")||"").split(" ").filter((function(t){return t}))}function Et(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function It(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,'="').concat(Et(t[n]),'" ')}),"").trim()}function Tt(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,": ").concat(t[n].trim(),";")}),"")}function kt(t){return t.size!==gt.size||t.x!==gt.x||t.y!==gt.y||t.rotate!==gt.rotate||t.flipX||t.flipY}function Ct(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),a="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),s="rotate(".concat(e.rotate," 0 0)"),u={transform:"".concat(o," ").concat(a," ").concat(s)},c={transform:"translate(".concat(r/2*-1," -256)")};return{outer:i,inner:u,path:c}}function St(t){var e=t.transform,n=t.width,r=void 0===n?L:n,i=t.height,o=void 0===i?L:i,a=t.startCentered,s=void 0!==a&&a,u="";return u+=s&&P?"translate(".concat(e.x/vt-r/2,"em, ").concat(e.y/vt-o/2,"em) "):s?"translate(calc(-50% + ".concat(e.x/vt,"em), calc(-50% + ").concat(e.y/vt,"em)) "):"translate(".concat(e.x/vt,"em, ").concat(e.y/vt,"em) "),u+="scale(".concat(e.size/vt*(e.flipX?-1:1),", ").concat(e.size/vt*(e.flipY?-1:1),") "),u+="rotate(".concat(e.rotate,"deg) "),u}var At=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Solid";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Regular";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Light";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Thin";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-counter-scale, 0.25));\n          transform: scale(var(--fa-counter-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  -webkit-transform: scale(var(--fa-layers-scale, 0.25));\n          transform: scale(var(--fa-layers-scale, 0.25));\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(var(--fa-li-width, 2em) * -1);\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  -webkit-animation-name: fa-beat;\n          animation-name: fa-beat;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  -webkit-animation-name: fa-bounce;\n          animation-name: fa-bounce;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  -webkit-animation-name: fa-fade;\n          animation-name: fa-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  -webkit-animation-name: fa-beat-fade;\n          animation-name: fa-beat-fade;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n          animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  -webkit-animation-name: fa-flip;\n          animation-name: fa-flip;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, ease-in-out);\n          animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  -webkit-animation-name: fa-shake;\n          animation-name: fa-shake;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-delay: var(--fa-animation-delay, 0);\n          animation-delay: var(--fa-animation-delay, 0);\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 2s);\n          animation-duration: var(--fa-animation-duration, 2s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, linear);\n          animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  -webkit-animation-name: fa-spin;\n          animation-name: fa-spin;\n  -webkit-animation-direction: var(--fa-animation-direction, normal);\n          animation-direction: var(--fa-animation-direction, normal);\n  -webkit-animation-duration: var(--fa-animation-duration, 1s);\n          animation-duration: var(--fa-animation-duration, 1s);\n  -webkit-animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n          animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  -webkit-animation-timing-function: var(--fa-animation-timing, steps(8));\n          animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    -webkit-animation-delay: -1ms;\n            animation-delay: -1ms;\n    -webkit-animation-duration: 1ms;\n            animation-duration: 1ms;\n    -webkit-animation-iteration-count: 1;\n            animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@-webkit-keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  45% {\n    -webkit-transform: scale(var(--fa-beat-scale, 1.25));\n            transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@-webkit-keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    -webkit-transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n            transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    -webkit-transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n            transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    -webkit-transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n            transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    -webkit-transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n            transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    -webkit-transform: scale(1, 1) translateY(0);\n            transform: scale(1, 1) translateY(0);\n  }\n}\n@-webkit-keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@-webkit-keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    -webkit-transform: scale(1);\n            transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: scale(var(--fa-beat-fade-scale, 1.125));\n            transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@-webkit-keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    -webkit-transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n            transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@-webkit-keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@keyframes fa-shake {\n  0% {\n    -webkit-transform: rotate(-15deg);\n            transform: rotate(-15deg);\n  }\n  4% {\n    -webkit-transform: rotate(15deg);\n            transform: rotate(15deg);\n  }\n  8%, 24% {\n    -webkit-transform: rotate(-18deg);\n            transform: rotate(-18deg);\n  }\n  12%, 28% {\n    -webkit-transform: rotate(18deg);\n            transform: rotate(18deg);\n  }\n  16% {\n    -webkit-transform: rotate(-22deg);\n            transform: rotate(-22deg);\n  }\n  20% {\n    -webkit-transform: rotate(22deg);\n            transform: rotate(22deg);\n  }\n  32% {\n    -webkit-transform: rotate(-12deg);\n            transform: rotate(-12deg);\n  }\n  36% {\n    -webkit-transform: rotate(12deg);\n            transform: rotate(12deg);\n  }\n  40%, 100% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n}\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  -webkit-transform: rotate(var(--fa-rotate-angle, none));\n          transform: rotate(var(--fa-rotate-angle, none));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse,\n.fa-duotone.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}';function xt(){var t=M,e=j,n=ht.familyPrefix,r=ht.replacementClass,i=At;if(n!==t||r!==e){var o=new RegExp("\\.".concat(t,"\\-"),"g"),a=new RegExp("\\--".concat(t,"\\-"),"g"),s=new RegExp("\\.".concat(e),"g");i=i.replace(o,".".concat(n,"-")).replace(a,"--".concat(n,"-")).replace(s,".".concat(r))}return i}var Nt=!1;function Ot(){ht.autoAddCss&&!Nt&&(mt(xt()),Nt=!0)}var Rt={mixout:function(){return{dom:{css:xt,insertCss:Ot}}},hooks:function(){return{beforeDOMElementCreation:function(){Ot()},beforeI2svg:function(){Ot()}}}},Pt=A||{};Pt[D]||(Pt[D]={}),Pt[D].styles||(Pt[D].styles={}),Pt[D].hooks||(Pt[D].hooks={}),Pt[D].shims||(Pt[D].shims=[]);var Dt=Pt[D],Lt=[],Mt=function t(){x.removeEventListener("DOMContentLoaded",t),jt=1,Lt.map((function(t){return t()}))},jt=!1;function Ft(t){R&&(jt?setTimeout(t,0):Lt.push(t))}function Ut(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"===typeof t?Et(t):"<".concat(e," ").concat(It(r),">").concat(o.map(Ut).join(""),"</").concat(e,">")}function qt(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}R&&(jt=(x.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(x.readyState),jt||x.addEventListener("DOMContentLoaded",Mt));var Vt=function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}},Bt=function(t,e,n,r){var i,o,a,s=Object.keys(t),u=s.length,c=void 0!==r?Vt(e,r):e;for(void 0===n?(i=1,a=t[s[0]]):(i=0,a=n);i<u;i++)o=s[i],a=c(a,t[o],o,t);return a};function Kt(t){var e=[],n=0,r=t.length;while(n<r){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}function zt(t){var e=Kt(t);return 1===e.length?e[0].toString(16):null}function Ht(t,e){var n,r=t.length,i=t.charCodeAt(e);return i>=55296&&i<=56319&&r>e+1&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?1024*(i-55296)+n-56320+65536:i}function Wt(t){return Object.keys(t).reduce((function(e,n){var r=t[n],i=!!r.icon;return i?e[r.iconName]=r.icon:e[n]=r,e}),{})}function Gt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,o=void 0!==r&&r,a=Wt(e);"function"!==typeof Dt.hooks.addPack||o?Dt.styles[t]=i(i({},Dt.styles[t]||{}),a):Dt.hooks.addPack(t,Wt(e)),"fas"===t&&Gt("fa",e)}var $t=Dt.styles,Yt=Dt.shims,Qt=Object.values(Y),Xt=null,Jt={},Zt={},te={},ee={},ne={},re=Object.keys(G);function ie(t){return~ot.indexOf(t)}function oe(t,e){var n=e.split("-"),r=n[0],i=n.slice(1).join("-");return r!==t||""===i||ie(i)?null:i}var ae=function(){var t=function(t){return Bt($t,(function(e,n,r){return e[r]=Bt(n,t,{}),e}),{})};Jt=t((function(t,e,n){if(e[3]&&(t[e[3]]=n),e[2]){var r=e[2].filter((function(t){return"number"===typeof t}));r.forEach((function(e){t[e.toString(16)]=n}))}return t})),Zt=t((function(t,e,n){if(t[n]=n,e[2]){var r=e[2].filter((function(t){return"string"===typeof t}));r.forEach((function(e){t[e]=n}))}return t})),ne=t((function(t,e,n){var r=e[2];return t[n]=n,r.forEach((function(e){t[e]=n})),t}));var e="far"in $t||ht.autoFetchSvg,n=Bt(Yt,(function(t,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||e||(i="fas"),"string"===typeof r&&(t.names[r]={prefix:i,iconName:o}),"number"===typeof r&&(t.unicodes[r.toString(16)]={prefix:i,iconName:o}),t}),{names:{},unicodes:{}});te=n.names,ee=n.unicodes,Xt=de(ht.styleDefault)};function se(t,e){return(Jt[t]||{})[e]}function ue(t,e){return(Zt[t]||{})[e]}function ce(t,e){return(ne[t]||{})[e]}function le(t){return te[t]||{prefix:null,iconName:null}}function fe(t){var e=ee[t],n=se("fas",t);return e||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function he(){return Xt}dt((function(t){Xt=de(t.styleDefault)})),ae();var pe=function(){return{prefix:null,iconName:null,rest:[]}};function de(t){var e=G[t],n=$[t]||$[e],r=t in Dt.styles?t:null;return n||r||null}function ve(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.skipLookups,r=void 0!==n&&n,i=null,o=t.reduce((function(t,e){var n=oe(ht.familyPrefix,e);if($t[e]?(e=Qt.includes(e)?Q[e]:e,i=e,t.prefix=e):re.indexOf(e)>-1?(i=e,t.prefix=de(e)):n?t.iconName=n:e!==ht.replacementClass&&t.rest.push(e),!r&&t.prefix&&t.iconName){var o="fa"===i?le(t.iconName):{},a=ce(t.prefix,t.iconName);o.prefix&&(i=null),t.iconName=o.iconName||a||t.iconName,t.prefix=o.prefix||t.prefix,"far"!==t.prefix||$t["far"]||!$t["fas"]||ht.autoFetchSvg||(t.prefix="fas")}return t}),pe());return"fa"!==o.prefix&&"fa"!==i||(o.prefix=he()||"fas"),o}var ge=function(){function t(){a(this,t),this.definitions={}}return u(t,[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=n.reduce(this._pullDefinitions,{});Object.keys(o).forEach((function(e){t.definitions[e]=i(i({},t.definitions[e]||{}),o[e]),Gt(e,o[e]);var n=Y[e];n&&Gt(n,o[e]),ae()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((function(e){var r=n[e],i=r.prefix,o=r.iconName,a=r.icon,s=a[2];t[i]||(t[i]={}),s.length>0&&s.forEach((function(e){"string"===typeof e&&(t[i][e]=a)})),t[i][o]=a})),t}}]),t}(),me=[],ye={},_e={},be=Object.keys(_e);function we(t,e){var n=e.mixoutsTo;return me=t,ye={},Object.keys(_e).forEach((function(t){-1===be.indexOf(t)&&delete _e[t]})),me.forEach((function(t){var e=t.mixout?t.mixout():{};if(Object.keys(e).forEach((function(t){"function"===typeof e[t]&&(n[t]=e[t]),"object"===o(e[t])&&Object.keys(e[t]).forEach((function(r){n[t]||(n[t]={}),n[t][r]=e[t][r]}))})),t.hooks){var r=t.hooks();Object.keys(r).forEach((function(t){ye[t]||(ye[t]=[]),ye[t].push(r[t])}))}t.provides&&t.provides(_e)})),n}function Ee(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=ye[t]||[];return o.forEach((function(t){e=t.apply(null,[e].concat(r))})),e}function Ie(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=ye[t]||[];i.forEach((function(t){t.apply(null,n)}))}function Te(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);return _e[t]?_e[t].apply(null,e):void 0}function ke(t){"fa"===t.prefix&&(t.prefix="fas");var e=t.iconName,n=t.prefix||he();if(e)return e=ce(n,e)||e,qt(Ce.definitions,n,e)||qt(Dt.styles,n,e)}var Ce=new ge,Se=function(){ht.autoReplaceSvg=!1,ht.observeMutations=!1,Ie("noAuto")},Ae={i2svg:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R?(Ie("beforeI2svg",t),Te("pseudoElements2svg",t),Te("i2svg",t)):Promise.reject("Operation requires a DOM of some kind.")},watch:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot;!1===ht.autoReplaceSvg&&(ht.autoReplaceSvg=!0),ht.observeMutations=!0,Ft((function(){Oe({autoReplaceSvgRoot:e}),Ie("watch",t)}))}},xe={icon:function(t){if(null===t)return null;if("object"===o(t)&&t.prefix&&t.iconName)return{prefix:t.prefix,iconName:ce(t.prefix,t.iconName)||t.iconName};if(Array.isArray(t)&&2===t.length){var e=0===t[1].indexOf("fa-")?t[1].slice(3):t[1],n=de(t[0]);return{prefix:n,iconName:ce(n,e)||e}}if("string"===typeof t&&(t.indexOf("".concat(ht.familyPrefix,"-"))>-1||t.match(X))){var r=ve(t.split(" "),{skipLookups:!0});return{prefix:r.prefix||he(),iconName:ce(r.prefix,r.iconName)||r.iconName}}if("string"===typeof t){var i=he();return{prefix:i,iconName:ce(i,t)||t}}}},Ne={noAuto:Se,config:ht,dom:Ae,parse:xe,library:Ce,findIconDefinition:ke,toHtml:Ut},Oe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.autoReplaceSvgRoot,n=void 0===e?x:e;(Object.keys(Dt.styles).length>0||ht.autoFetchSvg)&&R&&ht.autoReplaceSvg&&Ne.dom.i2svg({node:n})};function Re(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(t){return Ut(t)}))}}),Object.defineProperty(t,"node",{get:function(){if(R){var e=x.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function Pe(t){var e=t.children,n=t.main,r=t.mask,o=t.attributes,a=t.styles,s=t.transform;if(kt(s)&&n.found&&!r.found){var u=n.width,c=n.height,l={x:u/c/2,y:.5};o["style"]=Tt(i(i({},a),{},{"transform-origin":"".concat(l.x+s.x/16,"em ").concat(l.y+s.y/16,"em")}))}return[{tag:"svg",attributes:o,children:e}]}function De(t){var e=t.prefix,n=t.iconName,r=t.children,o=t.attributes,a=t.symbol,s=!0===a?"".concat(e,"-").concat(ht.familyPrefix,"-").concat(n):a;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:i(i({},o),{},{id:s}),children:r}]}]}function Le(t){var e=t.icons,n=e.main,r=e.mask,o=t.prefix,a=t.iconName,s=t.transform,u=t.symbol,c=t.title,l=t.maskId,f=t.titleId,h=t.extra,p=t.watchable,d=void 0!==p&&p,v=r.found?r:n,g=v.width,m=v.height,y="fak"===o,_=[ht.replacementClass,a?"".concat(ht.familyPrefix,"-").concat(a):""].filter((function(t){return-1===h.classes.indexOf(t)})).filter((function(t){return""!==t||!!t})).concat(h.classes).join(" "),b={children:[],attributes:i(i({},h.attributes),{},{"data-prefix":o,"data-icon":a,class:_,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(g," ").concat(m)})},w=y&&!~h.classes.indexOf("fa-fw")?{width:"".concat(g/m*16*.0625,"em")}:{};d&&(b.attributes[F]=""),c&&(b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(f||_t())},children:[c]}),delete b.attributes.title);var E=i(i({},b),{},{prefix:o,iconName:a,main:n,mask:r,maskId:l,transform:s,symbol:u,styles:i(i({},w),h.styles)}),I=r.found&&n.found?Te("generateAbstractMask",E)||{children:[],attributes:{}}:Te("generateAbstractIcon",E)||{children:[],attributes:{}},T=I.children,k=I.attributes;return E.children=T,E.attributes=k,u?De(E):Pe(E)}function Me(t){var e=t.content,n=t.width,r=t.height,o=t.transform,a=t.title,s=t.extra,u=t.watchable,c=void 0!==u&&u,l=i(i(i({},s.attributes),a?{title:a}:{}),{},{class:s.classes.join(" ")});c&&(l[F]="");var f=i({},s.styles);kt(o)&&(f["transform"]=St({transform:o,startCentered:!0,width:n,height:r}),f["-webkit-transform"]=f["transform"]);var h=Tt(f);h.length>0&&(l["style"]=h);var p=[];return p.push({tag:"span",attributes:l,children:[e]}),a&&p.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),p}function je(t){var e=t.content,n=t.title,r=t.extra,o=i(i(i({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),a=Tt(r.styles);a.length>0&&(o["style"]=a);var s=[];return s.push({tag:"span",attributes:o,children:[e]}),n&&s.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),s}var Fe=Dt.styles;function Ue(t){var e=t[0],n=t[1],r=t.slice(4),i=l(r,1),o=i[0],a=null;return a=Array.isArray(o)?{tag:"g",attributes:{class:"".concat(ht.familyPrefix,"-").concat(it.GROUP)},children:[{tag:"path",attributes:{class:"".concat(ht.familyPrefix,"-").concat(it.SECONDARY),fill:"currentColor",d:o[0]}},{tag:"path",attributes:{class:"".concat(ht.familyPrefix,"-").concat(it.PRIMARY),fill:"currentColor",d:o[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:o}},{found:!0,width:e,height:n,icon:a}}var qe={found:!1,width:512,height:512};function Ve(t,e){W||ht.showMissingIcons||!t||console.error('Icon with name "'.concat(t,'" and prefix "').concat(e,'" is missing.'))}function Be(t,e){var n=e;return"fa"===e&&null!==ht.styleDefault&&(e=he()),new Promise((function(r,o){Te("missingIconAbstract");if("fa"===n){var a=le(t)||{};t=a.iconName||t,e=a.prefix||e}if(t&&e&&Fe[e]&&Fe[e][t]){var s=Fe[e][t];return r(Ue(s))}Ve(t,e),r(i(i({},qe),{},{icon:ht.showMissingIcons&&t&&Te("missingIconAbstract")||{}}))}))}var Ke=function(){},ze=ht.measurePerformance&&O&&O.mark&&O.measure?O:{mark:Ke,measure:Ke},He='FA "6.1.1"',We=function(t){return ze.mark("".concat(He," ").concat(t," begins")),function(){return Ge(t)}},Ge=function(t){ze.mark("".concat(He," ").concat(t," ends")),ze.measure("".concat(He," ").concat(t),"".concat(He," ").concat(t," begins"),"".concat(He," ").concat(t," ends"))},$e={begin:We,end:Ge},Ye=function(){};function Qe(t){var e=t.getAttribute?t.getAttribute(F):null;return"string"===typeof e}function Xe(t){var e=t.getAttribute?t.getAttribute(V):null,n=t.getAttribute?t.getAttribute(B):null;return e&&n}function Je(t){return t&&t.classList&&t.classList.contains&&t.classList.contains(ht.replacementClass)}function Ze(){if(!0===ht.autoReplaceSvg)return on.replace;var t=on[ht.autoReplaceSvg];return t||on.replace}function tn(t){return x.createElementNS("http://www.w3.org/2000/svg",t)}function en(t){return x.createElement(t)}function nn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.ceFn,r=void 0===n?"svg"===t.tag?tn:en:n;if("string"===typeof t)return x.createTextNode(t);var i=r(t.tag);Object.keys(t.attributes||[]).forEach((function(e){i.setAttribute(e,t.attributes[e])}));var o=t.children||[];return o.forEach((function(t){i.appendChild(nn(t,{ceFn:r}))})),i}function rn(t){var e=" ".concat(t.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var on={replace:function(t){var e=t[0];if(e.parentNode)if(t[1].forEach((function(t){e.parentNode.insertBefore(nn(t),e)})),null===e.getAttribute(F)&&ht.keepOriginalSource){var n=x.createComment(rn(e));e.parentNode.replaceChild(n,e)}else e.remove()},nest:function(t){var e=t[0],n=t[1];if(~wt(e).indexOf(ht.replacementClass))return on.replace(t);var r=new RegExp("".concat(ht.familyPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){var i=n[0].attributes.class.split(" ").reduce((function(t,e){return e===ht.replacementClass||e.match(r)?t.toSvg.push(e):t.toNode.push(e),t}),{toNode:[],toSvg:[]});n[0].attributes.class=i.toSvg.join(" "),0===i.toNode.length?e.removeAttribute("class"):e.setAttribute("class",i.toNode.join(" "))}var o=n.map((function(t){return Ut(t)})).join("\n");e.setAttribute(F,""),e.innerHTML=o}};function an(t){t()}function sn(t,e){var n="function"===typeof e?e:Ye;if(0===t.length)n();else{var r=an;ht.mutateApproach===z&&(r=A.requestAnimationFrame||an),r((function(){var e=Ze(),r=$e.begin("mutate");t.map(e),r(),n()}))}}var un=!1;function cn(){un=!0}function ln(){un=!1}var fn=null;function hn(t){if(N&&ht.observeMutations){var e=t.treeCallback,n=void 0===e?Ye:e,r=t.nodeCallback,i=void 0===r?Ye:r,o=t.pseudoElementsCallback,a=void 0===o?Ye:o,s=t.observeMutationsRoot,u=void 0===s?x:s;fn=new N((function(t){if(!un){var e=he();bt(t).forEach((function(t){if("childList"===t.type&&t.addedNodes.length>0&&!Qe(t.addedNodes[0])&&(ht.searchPseudoElements&&a(t.target),n(t.target)),"attributes"===t.type&&t.target.parentNode&&ht.searchPseudoElements&&a(t.target.parentNode),"attributes"===t.type&&Qe(t.target)&&~rt.indexOf(t.attributeName))if("class"===t.attributeName&&Xe(t.target)){var r=ve(wt(t.target)),o=r.prefix,s=r.iconName;t.target.setAttribute(V,o||e),s&&t.target.setAttribute(B,s)}else Je(t.target)&&i(t.target)}))}})),R&&fn.observe(u,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}function pn(){fn&&fn.disconnect()}function dn(t){var e=t.getAttribute("style"),n=[];return e&&(n=e.split(";").reduce((function(t,e){var n=e.split(":"),r=n[0],i=n.slice(1);return r&&i.length>0&&(t[r]=i.join(":").trim()),t}),{})),n}function vn(t){var e=t.getAttribute("data-prefix"),n=t.getAttribute("data-icon"),r=void 0!==t.innerText?t.innerText.trim():"",i=ve(wt(t));return i.prefix||(i.prefix=he()),e&&n&&(i.prefix=e,i.iconName=n),i.iconName&&i.prefix||i.prefix&&r.length>0&&(i.iconName=ue(i.prefix,t.innerText)||se(i.prefix,zt(t.innerText))),i}function gn(t){var e=bt(t.attributes).reduce((function(t,e){return"class"!==t.name&&"style"!==t.name&&(t[e.name]=e.value),t}),{}),n=t.getAttribute("title"),r=t.getAttribute("data-fa-title-id");return ht.autoA11y&&(n?e["aria-labelledby"]="".concat(ht.replacementClass,"-title-").concat(r||_t()):(e["aria-hidden"]="true",e["focusable"]="false")),e}function mn(){return{iconName:null,title:null,titleId:null,prefix:null,transform:gt,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function yn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0},n=vn(t),r=n.iconName,o=n.prefix,a=n.rest,s=gn(t),u=Ee("parseNodeAttributes",{},t),c=e.styleParser?dn(t):[];return i({iconName:r,title:t.getAttribute("title"),titleId:t.getAttribute("data-fa-title-id"),prefix:o,transform:gt,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:c,attributes:s}},u)}var _n=Dt.styles;function bn(t){var e="nest"===ht.autoReplaceSvg?yn(t,{styleParser:!1}):yn(t);return~e.extra.classes.indexOf(J)?Te("generateLayersText",t,e):Te("generateSvgReplacementMutation",t,e)}function wn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!R)return Promise.resolve();var n=x.documentElement.classList,r=function(t){return n.add("".concat(K,"-").concat(t))},i=function(t){return n.remove("".concat(K,"-").concat(t))},o=ht.autoFetchSvg?Object.keys(G):Object.keys(_n),a=[".".concat(J,":not([").concat(F,"])")].concat(o.map((function(t){return".".concat(t,":not([").concat(F,"])")}))).join(", ");if(0===a.length)return Promise.resolve();var s=[];try{s=bt(t.querySelectorAll(a))}catch(Zn){}if(!(s.length>0))return Promise.resolve();r("pending"),i("complete");var u=$e.begin("onTree"),c=s.reduce((function(t,e){try{var n=bn(e);n&&t.push(n)}catch(Zn){W||"MissingIcon"===Zn.name&&console.error(Zn)}return t}),[]);return new Promise((function(t,n){Promise.all(c).then((function(n){sn(n,(function(){r("active"),r("complete"),i("pending"),"function"===typeof e&&e(),u(),t()}))})).catch((function(t){u(),n(t)}))}))}function En(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;bn(t).then((function(t){t&&sn([t],e)}))}function In(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(e||{}).icon?e:ke(e||{}),o=n.mask;return o&&(o=(o||{}).icon?o:ke(o||{})),t(r,i(i({},n),{},{mask:o}))}}var Tn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?gt:n,o=e.symbol,a=void 0!==o&&o,s=e.mask,u=void 0===s?null:s,c=e.maskId,l=void 0===c?null:c,f=e.title,h=void 0===f?null:f,p=e.titleId,d=void 0===p?null:p,v=e.classes,g=void 0===v?[]:v,m=e.attributes,y=void 0===m?{}:m,_=e.styles,b=void 0===_?{}:_;if(t){var w=t.prefix,E=t.iconName,I=t.icon;return Re(i({type:"icon"},t),(function(){return Ie("beforeDOMElementCreation",{iconDefinition:t,params:e}),ht.autoA11y&&(h?y["aria-labelledby"]="".concat(ht.replacementClass,"-title-").concat(d||_t()):(y["aria-hidden"]="true",y["focusable"]="false")),Le({icons:{main:Ue(I),mask:u?Ue(u.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:E,transform:i(i({},gt),r),symbol:a,title:h,maskId:l,titleId:d,extra:{attributes:y,styles:b,classes:g}})}))}},kn={mixout:function(){return{icon:In(Tn)}},hooks:function(){return{mutationObserverCallbacks:function(t){return t.treeCallback=wn,t.nodeCallback=En,t}}},provides:function(t){t.i2svg=function(t){var e=t.node,n=void 0===e?x:e,r=t.callback,i=void 0===r?function(){}:r;return wn(n,i)},t.generateSvgReplacementMutation=function(t,e){var n=e.iconName,r=e.title,i=e.titleId,o=e.prefix,a=e.transform,s=e.symbol,u=e.mask,c=e.maskId,f=e.extra;return new Promise((function(e,h){Promise.all([Be(n,o),u.iconName?Be(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then((function(u){var h=l(u,2),p=h[0],d=h[1];e([t,Le({icons:{main:p,mask:d},prefix:o,iconName:n,transform:a,symbol:s,maskId:c,title:r,titleId:i,extra:f,watchable:!0})])})).catch(h)}))},t.generateAbstractIcon=function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.transform,a=t.styles,s=Tt(a);return s.length>0&&(r["style"]=s),kt(o)&&(e=Te("generateAbstractTransformGrouping",{main:i,transform:o,containerWidth:i.width,iconWidth:i.width})),n.push(e||i.icon),{children:n,attributes:r}}}},Cn={mixout:function(){return{layer:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.classes,r=void 0===n?[]:n;return Re({type:"layer"},(function(){Ie("beforeDOMElementCreation",{assembler:t,params:e});var n=[];return t((function(t){Array.isArray(t)?t.map((function(t){n=n.concat(t.abstract)})):n=n.concat(t.abstract)})),[{tag:"span",attributes:{class:["".concat(ht.familyPrefix,"-layers")].concat(f(r)).join(" ")},children:n}]}))}}}},Sn={mixout:function(){return{counter:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.title,r=void 0===n?null:n,i=e.classes,o=void 0===i?[]:i,a=e.attributes,s=void 0===a?{}:a,u=e.styles,c=void 0===u?{}:u;return Re({type:"counter",content:t},(function(){return Ie("beforeDOMElementCreation",{content:t,params:e}),je({content:t.toString(),title:r,extra:{attributes:s,styles:c,classes:["".concat(ht.familyPrefix,"-layers-counter")].concat(f(o))}})}))}}}},An={mixout:function(){return{text:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?gt:n,o=e.title,a=void 0===o?null:o,s=e.classes,u=void 0===s?[]:s,c=e.attributes,l=void 0===c?{}:c,h=e.styles,p=void 0===h?{}:h;return Re({type:"text",content:t},(function(){return Ie("beforeDOMElementCreation",{content:t,params:e}),Me({content:t,transform:i(i({},gt),r),title:a,extra:{attributes:l,styles:p,classes:["".concat(ht.familyPrefix,"-layers-text")].concat(f(u))}})}))}}},provides:function(t){t.generateLayersText=function(t,e){var n=e.title,r=e.transform,i=e.extra,o=null,a=null;if(P){var s=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();o=u.width/s,a=u.height/s}return ht.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([t,Me({content:t.innerHTML,width:o,height:a,transform:r,title:n,extra:i,watchable:!0})])}}},xn=new RegExp('"',"ug"),Nn=[1105920,1112319];function On(t){var e=t.replace(xn,""),n=Ht(e,0),r=n>=Nn[0]&&n<=Nn[1],i=2===e.length&&e[0]===e[1];return{value:zt(i?e[0]:e),isSecondary:r||i}}function Rn(t,e){var n="".concat(q).concat(e.replace(":","-"));return new Promise((function(r,o){if(null!==t.getAttribute(n))return r();var a=bt(t.children),s=a.filter((function(t){return t.getAttribute(U)===e}))[0],u=A.getComputedStyle(t,e),c=u.getPropertyValue("font-family").match(Z),l=u.getPropertyValue("font-weight"),f=u.getPropertyValue("content");if(s&&!c)return t.removeChild(s),r();if(c&&"none"!==f&&""!==f){var h=u.getPropertyValue("content"),p=~["Solid","Regular","Light","Thin","Duotone","Brands","Kit"].indexOf(c[2])?$[c[2].toLowerCase()]:tt[l],d=On(h),v=d.value,g=d.isSecondary,m=c[0].startsWith("FontAwesome"),y=se(p,v),_=y;if(m){var b=fe(v);b.iconName&&b.prefix&&(y=b.iconName,p=b.prefix)}if(!y||g||s&&s.getAttribute(V)===p&&s.getAttribute(B)===_)r();else{t.setAttribute(n,_),s&&t.removeChild(s);var w=mn(),E=w.extra;E.attributes[U]=e,Be(y,p).then((function(o){var a=Le(i(i({},w),{},{icons:{main:o,mask:pe()},prefix:p,iconName:_,extra:E,watchable:!0})),s=x.createElement("svg");"::before"===e?t.insertBefore(s,t.firstChild):t.appendChild(s),s.outerHTML=a.map((function(t){return Ut(t)})).join("\n"),t.removeAttribute(n),r()})).catch(o)}}else r()}))}function Pn(t){return Promise.all([Rn(t,"::before"),Rn(t,"::after")])}function Dn(t){return t.parentNode!==document.head&&!~H.indexOf(t.tagName.toUpperCase())&&!t.getAttribute(U)&&(!t.parentNode||"svg"!==t.parentNode.tagName)}function Ln(t){if(R)return new Promise((function(e,n){var r=bt(t.querySelectorAll("*")).filter(Dn).map(Pn),i=$e.begin("searchPseudoElements");cn(),Promise.all(r).then((function(){i(),ln(),e()})).catch((function(){i(),ln(),n()}))}))}var Mn={hooks:function(){return{mutationObserverCallbacks:function(t){return t.pseudoElementsCallback=Ln,t}}},provides:function(t){t.pseudoElements2svg=function(t){var e=t.node,n=void 0===e?x:e;ht.searchPseudoElements&&Ln(n)}}},jn=!1,Fn={mixout:function(){return{dom:{unwatch:function(){cn(),jn=!0}}}},hooks:function(){return{bootstrap:function(){hn(Ee("mutationObserverCallbacks",{}))},noAuto:function(){pn()},watch:function(t){var e=t.observeMutationsRoot;jn?ln():hn(Ee("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},Un=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t.toLowerCase().split(" ").reduce((function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i;break}return t}),e)},qn={mixout:function(){return{parse:{transform:function(t){return Un(t)}}}},hooks:function(){return{parseNodeAttributes:function(t,e){var n=e.getAttribute("data-fa-transform");return n&&(t.transform=Un(n)),t}}},provides:function(t){t.generateAbstractTransformGrouping=function(t){var e=t.main,n=t.transform,r=t.containerWidth,o=t.iconWidth,a={transform:"translate(".concat(r/2," 256)")},s="translate(".concat(32*n.x,", ").concat(32*n.y,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),c="rotate(".concat(n.rotate," 0 0)"),l={transform:"".concat(s," ").concat(u," ").concat(c)},f={transform:"translate(".concat(o/2*-1," -256)")},h={outer:a,inner:l,path:f};return{tag:"g",attributes:i({},h.outer),children:[{tag:"g",attributes:i({},h.inner),children:[{tag:e.icon.tag,children:e.icon.children,attributes:i(i({},e.icon.attributes),h.path)}]}]}}}},Vn={x:0,y:0,width:"100%",height:"100%"};function Bn(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function Kn(t){return"g"===t.tag?t.children:[t]}var zn={hooks:function(){return{parseNodeAttributes:function(t,e){var n=e.getAttribute("data-fa-mask"),r=n?ve(n.split(" ").map((function(t){return t.trim()}))):pe();return r.prefix||(r.prefix=he()),t.mask=r,t.maskId=e.getAttribute("data-fa-mask-id"),t}}},provides:function(t){t.generateAbstractMask=function(t){var e=t.children,n=t.attributes,r=t.main,o=t.mask,a=t.maskId,s=t.transform,u=r.width,c=r.icon,l=o.width,f=o.icon,h=Ct({transform:s,containerWidth:l,iconWidth:u}),p={tag:"rect",attributes:i(i({},Vn),{},{fill:"white"})},d=c.children?{children:c.children.map(Bn)}:{},v={tag:"g",attributes:i({},h.inner),children:[Bn(i({tag:c.tag,attributes:i(i({},c.attributes),h.path)},d))]},g={tag:"g",attributes:i({},h.outer),children:[v]},m="mask-".concat(a||_t()),y="clip-".concat(a||_t()),_={tag:"mask",attributes:i(i({},Vn),{},{id:m,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,g]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:y},children:Kn(f)},_]};return e.push(b,{tag:"rect",attributes:i({fill:"currentColor","clip-path":"url(#".concat(y,")"),mask:"url(#".concat(m,")")},Vn)}),{children:e,attributes:n}}}},Hn={provides:function(t){var e=!1;A.matchMedia&&(e=A.matchMedia("(prefers-reduced-motion: reduce)").matches),t.missingIconAbstract=function(){var t=[],n={fill:"currentColor"},r={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:i(i({},n),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});var o=i(i({},r),{},{attributeName:"opacity"}),a={tag:"circle",attributes:i(i({},n),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||a.children.push({tag:"animate",attributes:i(i({},r),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:i(i({},o),{},{values:"1;0;1;1;0;1;"})}),t.push(a),t.push({tag:"path",attributes:i(i({},n),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:i(i({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:i(i({},n),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:i(i({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},Wn={hooks:function(){return{parseNodeAttributes:function(t,e){var n=e.getAttribute("data-fa-symbol"),r=null!==n&&(""===n||n);return t["symbol"]=r,t}}}},Gn=[Rt,kn,Cn,Sn,An,Mn,Fn,qn,zn,Hn,Wn];we(Gn,{mixoutsTo:Ne});Ne.noAuto;var $n=Ne.config,Yn=Ne.library,Qn=(Ne.dom,Ne.parse),Xn=(Ne.findIconDefinition,Ne.toHtml,Ne.icon),Jn=(Ne.layer,Ne.text);Ne.counter},6978:function(t,e,n){"use strict";n.d(e,{$9F:function(){return c},$aW:function(){return h},EQ8:function(){return s},Yai:function(){return l},gc2:function(){return r},onQ:function(){return i},r8p:function(){return f},sq$:function(){return a}});
/*!
 * Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2022 Fonticons, Inc.
 */
var r={prefix:"fas",iconName:"angle-down",icon:[384,512,[8964],"f107","M192 384c-8.188 0-16.38-3.125-22.62-9.375l-160-160c-12.5-12.5-12.5-32.75 0-45.25s32.75-12.5 45.25 0L192 306.8l137.4-137.4c12.5-12.5 32.75-12.5 45.25 0s12.5 32.75 0 45.25l-160 160C208.4 380.9 200.2 384 192 384z"]},i={prefix:"fas",iconName:"angle-up",icon:[384,512,[8963],"f106","M352 352c-8.188 0-16.38-3.125-22.62-9.375L192 205.3l-137.4 137.4c-12.5 12.5-32.75 12.5-45.25 0s-12.5-32.75 0-45.25l160-160c12.5-12.5 32.75-12.5 45.25 0l160 160c12.5 12.5 12.5 32.75 0 45.25C368.4 348.9 360.2 352 352 352z"]},o={prefix:"fas",iconName:"cart-shopping",icon:[576,512,[128722,"shopping-cart"],"f07a","M96 0C107.5 0 117.4 8.19 119.6 19.51L121.1 32H541.8C562.1 32 578.3 52.25 572.6 72.66L518.6 264.7C514.7 278.5 502.1 288 487.8 288H170.7L179.9 336H488C501.3 336 512 346.7 512 360C512 373.3 501.3 384 488 384H159.1C148.5 384 138.6 375.8 136.4 364.5L76.14 48H24C10.75 48 0 37.25 0 24C0 10.75 10.75 0 24 0H96zM128 464C128 437.5 149.5 416 176 416C202.5 416 224 437.5 224 464C224 490.5 202.5 512 176 512C149.5 512 128 490.5 128 464zM512 464C512 490.5 490.5 512 464 512C437.5 512 416 490.5 416 464C416 437.5 437.5 416 464 416C490.5 416 512 437.5 512 464z"]},a=o,s={prefix:"fas",iconName:"circle-plus",icon:[512,512,["plus-circle"],"f055","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 368C269.3 368 280 357.3 280 344V280H344C357.3 280 368 269.3 368 256C368 242.7 357.3 232 344 232H280V168C280 154.7 269.3 144 256 144C242.7 144 232 154.7 232 168V232H168C154.7 232 144 242.7 144 256C144 269.3 154.7 280 168 280H232V344C232 357.3 242.7 368 256 368z"]},u={prefix:"fas",iconName:"circle-xmark",icon:[512,512,[61532,"times-circle","xmark-circle"],"f057","M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM175 208.1L222.1 255.1L175 303C165.7 312.4 165.7 327.6 175 336.1C184.4 346.3 199.6 346.3 208.1 336.1L255.1 289.9L303 336.1C312.4 346.3 327.6 346.3 336.1 336.1C346.3 327.6 346.3 312.4 336.1 303L289.9 255.1L336.1 208.1C346.3 199.6 346.3 184.4 336.1 175C327.6 165.7 312.4 165.7 303 175L255.1 222.1L208.1 175C199.6 165.7 184.4 165.7 175 175C165.7 184.4 165.7 199.6 175 208.1V208.1z"]},c=u,l={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M490.3 40.4C512.2 62.27 512.2 97.73 490.3 119.6L460.3 149.7L362.3 51.72L392.4 21.66C414.3-.2135 449.7-.2135 471.6 21.66L490.3 40.4zM172.4 241.7L339.7 74.34L437.7 172.3L270.3 339.6C264.2 345.8 256.7 350.4 248.4 353.2L159.6 382.8C150.1 385.6 141.5 383.4 135 376.1C128.6 370.5 126.4 361 129.2 352.4L158.8 263.6C161.6 255.3 166.2 247.8 172.4 241.7V241.7zM192 63.1C209.7 63.1 224 78.33 224 95.1C224 113.7 209.7 127.1 192 127.1H96C78.33 127.1 64 142.3 64 159.1V416C64 433.7 78.33 448 96 448H352C369.7 448 384 433.7 384 416V319.1C384 302.3 398.3 287.1 416 287.1C433.7 287.1 448 302.3 448 319.1V416C448 469 405 512 352 512H96C42.98 512 0 469 0 416V159.1C0 106.1 42.98 63.1 96 63.1H192z"]},f={prefix:"fas",iconName:"plus",icon:[448,512,[10133,61543,"add"],"2b","M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"]},h={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.69C140.6 6.848 151.7 0 163.8 0H284.2C296.3 0 307.4 6.848 312.8 17.69L320 32H416C433.7 32 448 46.33 448 64C448 81.67 433.7 96 416 96H32C14.33 96 0 81.67 0 64C0 46.33 14.33 32 32 32H128L135.2 17.69zM394.8 466.1C393.2 492.3 372.3 512 346.9 512H101.1C75.75 512 54.77 492.3 53.19 466.1L31.1 128H416L394.8 466.1z"]}},9009:function(t,e,n){"use strict";n.d(e,{GN:function(){return E}});var r=n(81),i="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function o(t,e){return e={exports:{}},t(e,e.exports),e.exports}var a=o((function(t){(function(e){var n=function(t,e,r){if(!c(e)||f(e)||h(e)||p(e)||u(e))return e;var i,o=0,a=0;if(l(e))for(i=[],a=e.length;o<a;o++)i.push(n(t,e[o],r));else for(var s in i={},e)Object.prototype.hasOwnProperty.call(e,s)&&(i[t(s,r)]=n(t,e[s],r));return i},r=function(t,e){e=e||{};var n=e.separator||"_",r=e.split||/(?=[A-Z])/;return t.split(r).join(n)},i=function(t){return d(t)?t:(t=t.replace(/[\-_\s]+(.)?/g,(function(t,e){return e?e.toUpperCase():""})),t.substr(0,1).toLowerCase()+t.substr(1))},o=function(t){var e=i(t);return e.substr(0,1).toUpperCase()+e.substr(1)},a=function(t,e){return r(t,e).toLowerCase()},s=Object.prototype.toString,u=function(t){return"function"===typeof t},c=function(t){return t===Object(t)},l=function(t){return"[object Array]"==s.call(t)},f=function(t){return"[object Date]"==s.call(t)},h=function(t){return"[object RegExp]"==s.call(t)},p=function(t){return"[object Boolean]"==s.call(t)},d=function(t){return t-=0,t===t},v=function(t,e){var n=e&&"process"in e?e.process:e;return"function"!==typeof n?t:function(e,r){return n(e,t,r)}},g={camelize:i,decamelize:a,pascalize:o,depascalize:a,camelizeKeys:function(t,e){return n(v(i,e),t)},decamelizeKeys:function(t,e){return n(v(a,e),t,e)},pascalizeKeys:function(t,e){return n(v(o,e),t)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};t.exports?t.exports=g:e.humps=g})(i)})),s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},f=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};function h(t){return t.split(";").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.indexOf(":"),r=a.camelize(e.slice(0,n)),i=e.slice(n+1).trim();return t[r]=i,t}),{})}function p(t){return t.split(/\s+/).reduce((function(t,e){return t[e]=!0,t}),{})}function d(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e){return Array.isArray(e)?t=t.concat(e):t.push(e),t}),[])}function v(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(e.children||[]).map(v.bind(null,t)),o=Object.keys(e.attributes||{}).reduce((function(t,n){var r=e.attributes[n];switch(n){case"class":t["class"]=p(r);break;case"style":t["style"]=h(r);break;default:t.attrs[n]=r}return t}),{class:{},style:{},attrs:{}}),a=r.class,s=void 0===a?{}:a,u=r.style,f=void 0===u?{}:u,g=r.attrs,m=void 0===g?{}:g,y=l(r,["class","style","attrs"]);return"string"===typeof e?e:t(e.tag,c({class:d(o.class,s),style:c({},o.style,f),attrs:c({},o.attrs,m)},y,{props:n}),i)}var g=!1;try{g=!0}catch(I){}function m(){var t;!g&&console&&"function"===typeof console.error&&(t=console).error.apply(t,arguments)}function y(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?u({},t,e):{}}function _(t){var e,n=(e={"fa-spin":t.spin,"fa-spin-pulse":t.spinPulse,"fa-spin-reverse":t.spinReverse,"fa-pulse":t.pulse,"fa-beat":t.beat,"fa-fade":t.fade,"fa-flash":t.flash,"fa-fw":t.fixedWidth,"fa-border":t.border,"fa-li":t.listItem,"fa-inverse":t.inverse,"fa-flip-horizontal":"horizontal"===t.flip||"both"===t.flip,"fa-flip-vertical":"vertical"===t.flip||"both"===t.flip},u(e,"fa-"+t.size,null!==t.size),u(e,"fa-rotate-"+t.rotation,null!==t.rotation),u(e,"fa-pull-"+t.pull,null!==t.pull),u(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(n).map((function(t){return n[t]?t:null})).filter((function(t){return t}))}function b(t,e){var n=0===(t||"").length?[]:[t];return n.concat(e).join(" ")}function w(t){return t&&"object"===("undefined"===typeof t?"undefined":s(t))&&t.prefix&&t.iconName&&t.icon?t:r.Qc.icon?r.Qc.icon(t):null===t?null:"object"===("undefined"===typeof t?"undefined":s(t))&&t.prefix&&t.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"===typeof t?{prefix:"fas",iconName:t}:void 0}var E={name:"FontAwesomeIcon",functional:!0,props:{beat:{type:Boolean,default:!1},border:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},flip:{type:String,default:null,validator:function(t){return["horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},inverse:{type:Boolean,default:!1}},render:function(t,e){var n=e.props,i=n.icon,o=n.mask,a=n.symbol,s=n.title,u=w(i),l=y("classes",_(n)),f=y("transform","string"===typeof n.transform?r.Qc.transform(n.transform):n.transform),h=y("mask",w(o)),p=(0,r.qv)(u,c({},l,f,h,{symbol:a,title:s}));if(!p)return m("Could not find one or more icon(s)",u,h);var d=p.abstract,g=v.bind(null,t);return g(d[0],{},e.data)}};Boolean,Boolean},6166:function(t,e,n){t.exports=n(9142)},4355:function(t,e,n){"use strict";n(2801);var r=n(2175),i=n(2317),o=n(3347),a=n(8470),s=n(4107),u=n(6280),c=n(8573),l=n(9214),f=n(7431),h=n(3967);t.exports=function(t){return new Promise((function(e,n){var p,d=t.data,v=t.headers,g=t.responseType;function m(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}var y=new XMLHttpRequest;if(t.auth){var _=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";v.Authorization="Basic "+btoa(_+":"+b)}var w=s(t.baseURL,t.url);function E(){if(y){var r="getAllResponseHeaders"in y?u(y.getAllResponseHeaders()):null,o=g&&"text"!==g&&"json"!==g?y.response:y.responseText,a={data:o,status:y.status,statusText:y.statusText,headers:r,config:t,request:y};i((function(t){e(t),m()}),(function(t){n(t),m()}),a),y=null}}if(y.open(t.method.toUpperCase(),a(w,t.params,t.paramsSerializer),!0),y.timeout=t.timeout,"onloadend"in y?y.onloadend=E:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(E)},y.onabort=function(){y&&(n(new f("Request aborted",f.ECONNABORTED,t,y)),y=null)},y.onerror=function(){n(new f("Network Error",f.ERR_NETWORK,t,y,y)),y=null},y.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||l;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(new f(e,r.clarifyTimeoutError?f.ETIMEDOUT:f.ECONNABORTED,t,y)),y=null},r.isStandardBrowserEnv()){var I=(t.withCredentials||c(w))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;I&&(v[t.xsrfHeaderName]=I)}"setRequestHeader"in y&&r.forEach(v,(function(t,e){"undefined"===typeof d&&"content-type"===e.toLowerCase()?delete v[e]:y.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),g&&"json"!==g&&(y.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&y.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(t){y&&(n(!t||t&&t.type?new h:t),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),d||(d=null);var T=w.split(":",2),k=T.length>1&&T[0];k&&-1===["http","https","file"].indexOf(k)?n(new f("Unsupported protocol "+k+":",f.ERR_BAD_REQUEST,t)):y.send(d)}))}},9142:function(t,e,n){"use strict";var r=n(2175),i=n(2978),o=n(4980),a=n(740),s=n(1378);function u(t){var e=new o(t),n=i(o.prototype.request,e);return r.extend(n,o.prototype,e),r.extend(n,e),n.create=function(e){return u(a(t,e))},n}var c=u(s);c.Axios=o,c.CanceledError=n(3967),c.CancelToken=n(1414),c.isCancel=n(4434),c.VERSION=n(3394).version,c.toFormData=n(8226),c.AxiosError=n(7431),c.Cancel=c.CanceledError,c.all=function(t){return Promise.all(t)},c.spread=n(8758),c.isAxiosError=n(9096),t.exports=c,t.exports["default"]=c},1414:function(t,e,n){"use strict";n(1703);var r=n(3967);function i(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t,e=new i((function(e){t=e}));return{token:e,cancel:t}},t.exports=i},3967:function(t,e,n){"use strict";var r=n(7431),i=n(2175);function o(t){r.call(this,null==t?"canceled":t,r.ERR_CANCELED),this.name="CanceledError"}i.inherits(o,r,{__CANCEL__:!0}),t.exports=o},4434:function(t){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},4980:function(t,e,n){"use strict";var r=n(2175),i=n(8470),o=n(5393),a=n(5216),s=n(740),u=n(4107),c=n(4542),l=c.validators;function f(t){this.defaults=t,this.interceptors={request:new o,response:new o}}f.prototype.request=function(t,e){"string"===typeof t?(e=e||{},e.url=t):e=t||{},e=s(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(t){"function"===typeof t.runWhen&&!1===t.runWhen(e)||(i=i&&t.synchronous,r.unshift(t.fulfilled,t.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)})),!i){var f=[a,void 0];Array.prototype.unshift.apply(f,r),f=f.concat(u),o=Promise.resolve(e);while(f.length)o=o.then(f.shift(),f.shift());return o}var h=e;while(r.length){var p=r.shift(),d=r.shift();try{h=p(h)}catch(v){d(v);break}}try{o=a(h)}catch(v){return Promise.reject(v)}while(u.length)o=o.then(u.shift(),u.shift());return o},f.prototype.getUri=function(t){t=s(this.defaults,t);var e=u(t.baseURL,t.url);return i(e,t.params,t.paramsSerializer)},r.forEach(["delete","get","head","options"],(function(t){f.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(s(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}f.prototype[t]=e(),f.prototype[t+"Form"]=e(!0)})),t.exports=f},7431:function(t,e,n){"use strict";n(1703);var r=n(2175);function i(t,e,n,r,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}r.inherits(i,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var o=i.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){a[t]={value:t}})),Object.defineProperties(i,a),Object.defineProperty(o,"isAxiosError",{value:!0}),i.from=function(t,e,n,a,s,u){var c=Object.create(o);return r.toFlatObject(t,c,(function(t){return t!==Error.prototype})),i.call(c,t.message,e,n,a,s),c.name=t.name,u&&Object.assign(c,u),c},t.exports=i},5393:function(t,e,n){"use strict";var r=n(2175);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},4107:function(t,e,n){"use strict";var r=n(8612),i=n(1549);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},5216:function(t,e,n){"use strict";var r=n(2175),i=n(1618),o=n(4434),a=n(1378),s=n(3967);function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s}t.exports=function(t){u(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||a.adapter;return e(t).then((function(e){return u(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(u(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},740:function(t,e,n){"use strict";var r=n(2175);t.exports=function(t,e){e=e||{};var n={};function i(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function o(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(t[n],e[n])}function a(t){if(!r.isUndefined(e[t]))return i(void 0,e[t])}function s(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(void 0,e[n])}function u(n){return n in e?i(t[n],e[n]):n in t?i(void 0,t[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return r.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||o,i=e(t);r.isUndefined(i)&&e!==u||(n[t]=i)})),n}},2317:function(t,e,n){"use strict";var r=n(7431);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(new r("Request failed with status code "+n.status,[r.ERR_BAD_REQUEST,r.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}},1618:function(t,e,n){"use strict";var r=n(2175),i=n(1378);t.exports=function(t,e,n){var o=this||i;return r.forEach(n,(function(n){t=n.call(o,t,e)})),t}},1378:function(t,e,n){"use strict";var r=n(2175),i=n(5916),o=n(7431),a=n(9214),s=n(8226),u={"Content-Type":"application/x-www-form-urlencoded"};function c(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function l(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(t=n(4355)),t}function f(t,e,n){if(r.isString(t))try{return(e||JSON.parse)(t),r.trim(t)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(t)}var h={transitional:a,adapter:l(),transformRequest:[function(t,e){if(i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t))return t;if(r.isArrayBufferView(t))return t.buffer;if(r.isURLSearchParams(t))return c(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n,o=r.isObject(t),a=e&&e["Content-Type"];if((n=r.isFileList(t))||o&&"multipart/form-data"===a){var u=this.env&&this.env.FormData;return s(n?{"files[]":t}:t,u&&new u)}return o||"application/json"===a?(c(e,"application/json"),f(t)):t}],transformResponse:[function(t){var e=this.transitional||h.transitional,n=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(a){if("SyntaxError"===s.name)throw o.from(s,o.ERR_BAD_RESPONSE,this,null,this.response);throw s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:n(9519)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){h.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){h.headers[t]=r.merge(u)})),t.exports=h},9214:function(t){"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},3394:function(t){t.exports={version:"0.27.1"}},2978:function(t){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},8470:function(t,e,n){"use strict";var r=n(2175);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var a=[];r.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),a.push(i(e)+"="+i(t))})))})),o=a.join("&")}if(o){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},1549:function(t){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},3347:function(t,e,n){"use strict";var r=n(2175);t.exports=r.isStandardBrowserEnv()?function(){return{write:function(t,e,n,i,o,a){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},8612:function(t){"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},9096:function(t,e,n){"use strict";var r=n(2175);t.exports=function(t){return r.isObject(t)&&!0===t.isAxiosError}},8573:function(t,e,n){"use strict";var r=n(2175);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return function(){return!0}}()},5916:function(t,e,n){"use strict";var r=n(2175);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},9519:function(t){t.exports=null},6280:function(t,e,n){"use strict";var r=n(2175),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,a={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(a[e]&&i.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([n]):a[e]?a[e]+", "+n:n}})),a):a}},8758:function(t){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},8226:function(t,e,n){"use strict";n(1703);var r=n(2175);function i(t,e){e=e||new FormData;var n=[];function i(t){return null===t?"":r.isDate(t)?t.toISOString():r.isArrayBuffer(t)||r.isTypedArray(t)?"function"===typeof Blob?new Blob([t]):Buffer.from(t):t}function o(t,a){if(r.isPlainObject(t)||r.isArray(t)){if(-1!==n.indexOf(t))throw Error("Circular reference detected in "+a);n.push(t),r.forEach(t,(function(t,n){if(!r.isUndefined(t)){var s,u=a?a+"."+n:n;if(t&&!a&&"object"===typeof t)if(r.endsWith(n,"{}"))t=JSON.stringify(t);else if(r.endsWith(n,"[]")&&(s=r.toArray(t)))return void s.forEach((function(t){!r.isUndefined(t)&&e.append(u,i(t))}));o(t,u)}})),n.pop()}else e.append(a,i(t))}return o(t),e}t.exports=i},4542:function(t,e,n){"use strict";var r=n(3394).version,i=n(7431),o={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){o[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var a={};function s(t,e,n){if("object"!==typeof t)throw new i("options must be an object",i.ERR_BAD_OPTION_VALUE);var r=Object.keys(t),o=r.length;while(o-- >0){var a=r[o],s=e[a];if(s){var u=t[a],c=void 0===u||s(u,a,t);if(!0!==c)throw new i("option "+a+" must be "+c,i.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new i("Unknown option "+a,i.ERR_BAD_OPTION)}}o.transitional=function(t,e,n){function o(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,s){if(!1===t)throw new i(o(r," has been removed"+(e?" in "+e:"")),i.ERR_DEPRECATED);return e&&!a[r]&&(a[r]=!0,console.warn(o(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}},t.exports={assertOptions:s,validators:o}},2175:function(t,e,n){"use strict";n(8675),n(3462);var r=n(2978),i=Object.prototype.toString,o=function(t){return function(e){var n=i.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function a(t){return t=t.toLowerCase(),function(e){return o(e)===t}}function s(t){return Array.isArray(t)}function u(t){return"undefined"===typeof t}function c(t){return null!==t&&!u(t)&&null!==t.constructor&&!u(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}var l=a("ArrayBuffer");function f(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&l(t.buffer),e}function h(t){return"string"===typeof t}function p(t){return"number"===typeof t}function d(t){return null!==t&&"object"===typeof t}function v(t){if("object"!==o(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var g=a("Date"),m=a("File"),y=a("Blob"),_=a("FileList");function b(t){return"[object Function]"===i.call(t)}function w(t){return d(t)&&b(t.pipe)}function E(t){var e="[object FormData]";return t&&("function"===typeof FormData&&t instanceof FormData||i.call(t)===e||b(t.toString)&&t.toString()===e)}var I=a("URLSearchParams");function T(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function k(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function C(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),s(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function S(){var t={};function e(e,n){v(t[n])&&v(e)?t[n]=S(t[n],e):v(e)?t[n]=S({},e):s(e)?t[n]=e.slice():t[n]=e}for(var n=0,r=arguments.length;n<r;n++)C(arguments[n],e);return t}function A(t,e,n){return C(e,(function(e,i){t[i]=n&&"function"===typeof e?r(e,n):e})),t}function x(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}function N(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)}function O(t,e,n){var r,i,o,a={};e=e||{};do{r=Object.getOwnPropertyNames(t),i=r.length;while(i-- >0)o=r[i],a[o]||(e[o]=t[o],a[o]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e}function R(t,e,n){t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return-1!==r&&r===n}function P(t){if(!t)return null;var e=t.length;if(u(e))return null;var n=new Array(e);while(e-- >0)n[e]=t[e];return n}var D=function(t){return function(e){return t&&e instanceof t}}("undefined"!==typeof Uint8Array&&Object.getPrototypeOf(Uint8Array));t.exports={isArray:s,isArrayBuffer:l,isBuffer:c,isFormData:E,isArrayBufferView:f,isString:h,isNumber:p,isObject:d,isPlainObject:v,isUndefined:u,isDate:g,isFile:m,isBlob:y,isFunction:b,isStream:w,isURLSearchParams:I,isStandardBrowserEnv:k,forEach:C,merge:S,extend:A,trim:T,stripBOM:x,inherits:N,toFlatObject:O,kindOf:o,kindOfTest:a,endsWith:R,toArray:P,isTypedArray:D,isFileList:_}},9017:function(t,e,n){"use strict";n.d(e,{Z:function(){return r["default"]}});var r=n(8866),i="firebase",o="8.10.1";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r["default"].registerVersion(i,o,"app"),r["default"].SDK_VERSION=o},7589:function(t,e,n){"use strict";n(7771)},3679:function(t,e,n){"use strict";n.d(e,{Z:function(){return r["default"]}});var r=n(8866),i=(n(7771),n(8200),n(5427),n(7131)),o=n(9556),a=n(2864);n(7057);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function s(t){t.prototype.loadBundle=i.u,t.prototype.namedQuery=i.a}s(i.K);n(1703);var u=n(4270),c=n(6037),l={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},f=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return(0,u.__extends)(e,t),e}(Error);function h(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function p(t,e,n){var r=h(t),i=r,o=void 0;try{var a=e&&e.error;if(a){var s=a.status;if("string"===typeof s){if(!l[s])return new f("internal","internal");r=l[s],i=s}var u=a.message;"string"===typeof u&&(i=u),o=a.details,void 0!==o&&(o=n.decode(o))}}catch(c){}return"ok"===r?null:new f(r,i,o)}var d=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return(0,u.__awaiter)(this,void 0,void 0,(function(){var t;return(0,u.__generator)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return t=e.sent(),t?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return(0,u.__awaiter)(this,void 0,void 0,(function(){return(0,u.__generator)(this,(function(t){switch(t.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getContext=function(){return(0,u.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}(),v="type.googleapis.com/google.protobuf.Int64Value",g="type.googleapis.com/google.protobuf.UInt64Value";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var y=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(t instanceof Date)return t.toISOString();if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"===typeof t||"object"===typeof t)return m(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case v:case g:var n=Number(t["value"]);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"===typeof t||"object"===typeof t?m(t,(function(t){return e.decode(t)})):t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new f("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}var b=function(){function t(t,e,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=t,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new y,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new d(e,n),this.cancelAllRequests=new Promise((function(t){a.deleteService=function(){return t()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(u){this.customDomain=null,this.region=i}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;if(null!==this.emulatorOrigin){var n=this.emulatorOrigin;return n+"/"+e+"/"+this.region+"/"+t}return null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return(0,u.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,u.__generator)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:r=a.sent(),null!==r&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},t.prototype.getAppCheckToken=function(){return(0,u.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return t=this.appCheckProvider.getImmediate({optional:!0}),t?[4,t.getToken()]:[3,2];case 1:return e=n.sent(),[2,e.token];case 2:return[2,null]}}))}))},t.prototype.call=function(t,e,n){return(0,u.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,c,l,h,d,v,g,m;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o={},[4,this.contextProvider.getContext()];case 1:return a=u.sent(),a.authToken&&(o["Authorization"]="Bearer "+a.authToken),a.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=a.instanceIdToken),s=n.timeout||7e4,c=_(s),l=c.timer,h=c.promise,[4,Promise.race([w(l,this.postJSON(r,i,o)),h,w(l,this.cancelAllRequests)])];case 2:if(d=u.sent(),!d)throw new f("cancelled","Firebase Functions instance was deleted.");if(v=p(d.status,d.json,this.serializer),v)throw v;if(!d.json)throw new f("internal","Response is not valid JSON object.");if(g=d.json.data,"undefined"===typeof g&&(g=d.json.result),"undefined"===typeof g)throw new f("internal","Response is missing data field.");return m=this.serializer.decode(g),[2,{data:m}]}}))}))},t}();function w(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var E="functions";function I(t,e){var n={Functions:b};function r(t,n){var r=n.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal"),s=t.getProvider("messaging");return new b(i,o,s,a,r,e)}t.INTERNAL.registerComponent(new c.Component(E,r,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}var T="@firebase/functions",k="0.6.16";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
I(r["default"],fetch.bind(self)),r["default"].registerVersion(T,k);n(8675),n(3462),n(2801);var C,S=n(6225),A="@firebase/installations",x="0.4.32",N=1e4,O="w:"+x,R="FIS_v2",P="https://firebaseinstallations.googleapis.com/v1",D=36e5,L="installations",M="Installations",j=(C={},C["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',C["not-registered"]="Firebase Installation is not registered.",C["installation-not-found"]="Firebase Installation not found.",C["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',C["app-offline"]="Could not process request. Application offline.",C["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",C),F=new o.ErrorFactory(L,M,j);function U(t){return t instanceof o.FirebaseError&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q(t){var e=t.projectId;return P+"/projects/"+e+"/installations"}function V(t){return{token:t.token,requestStatus:2,expiresIn:W(t.expiresIn),creationTime:Date.now()}}function B(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,F.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function K(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function z(t,e){var n=e.refreshToken,r=K(t);return r.append("Authorization",G(n)),r}function H(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e;return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return e=n.sent(),e.status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function W(t){return Number(t.replace("s","000"))}function G(t){return R+" "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $(t,e){var n=e.fid;return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,r,i,o,a,s,c;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return e=q(t),r=K(t),i={fid:n,authVersion:R,appId:t.appId,sdkVersion:O},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,H((function(){return fetch(e,o)}))];case 1:return a=u.sent(),a.ok?[4,a.json()]:[3,3];case 2:return s=u.sent(),c={fid:s.fid||n,registrationStatus:2,refreshToken:s.refreshToken,authToken:V(s.authToken)},[2,c];case 3:return[4,B("Create Installation",a)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t){var e=btoa(String.fromCharCode.apply(String,(0,u.__spreadArray)([],(0,u.__read)(t))));return e.replace(/\+/g,"-").replace(/\//g,"_")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X=/^[cdef][\w-]{21}$/,J="";function Z(){try{var t=new Uint8Array(17),e=self.crypto||self.msCrypto;e.getRandomValues(t),t[0]=112+t[0]%16;var n=tt(t);return X.test(n)?n:J}catch(C){return J}}function tt(t){var e=Q(t);return e.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function et(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt=new Map;function rt(t,e){var n=et(t);at(n,e),st(n,e)}function it(t,e){ct();var n=et(t),r=nt.get(n);r||(r=new Set,nt.set(n,r)),r.add(e)}function ot(t,e){var n=et(t),r=nt.get(n);r&&(r.delete(e),0===r.size&&nt.delete(n),lt())}function at(t,e){var n,r,i=nt.get(t);if(i)try{for(var o=(0,u.__values)(i),a=o.next();!a.done;a=o.next()){var s=a.value;s(e)}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function st(t,e){var n=ct();n&&n.postMessage({key:t,fid:e}),lt()}var ut=null;function ct(){return!ut&&"BroadcastChannel"in self&&(ut=new BroadcastChannel("[Firebase] FID Change"),ut.onmessage=function(t){at(t.data.key,t.data.fid)}),ut}function lt(){0===nt.size&&ut&&(ut.close(),ut=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ft,ht="firebase-installations-database",pt=1,dt="firebase-installations-store",vt=null;function gt(){return vt||(vt=(0,S.openDb)(ht,pt,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(dt)}}))),vt}function mt(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a;return(0,u.__generator)(this,(function(s){switch(s.label){case 0:return n=et(t),[4,gt()];case 1:return r=s.sent(),i=r.transaction(dt,"readwrite"),o=i.objectStore(dt),[4,o.get(n)];case 2:return a=s.sent(),[4,o.put(e,n)];case 3:return s.sent(),[4,i.complete];case 4:return s.sent(),a&&a.fid===e.fid||rt(t,e.fid),[2,e]}}))}))}function yt(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return e=et(t),[4,gt()];case 1:return n=i.sent(),r=n.transaction(dt,"readwrite"),[4,r.objectStore(dt).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function _t(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return n=et(t),[4,gt()];case 1:return r=u.sent(),i=r.transaction(dt,"readwrite"),o=i.objectStore(dt),[4,o.get(n)];case 2:return a=u.sent(),s=e(a),void 0!==s?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(s,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!s||a&&a.fid===s.fid||rt(t,s.fid),[2,s]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return[4,_t(t,(function(n){var r=wt(n),i=Et(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return n=i.sent(),n.fid!==J?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function wt(t){var e=t||{fid:Z(),registrationStatus:0};return Ct(e)}function Et(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(F.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=It(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Tt(t)}:{installationEntry:e}}function It(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,$(t,e)];case 1:return n=i.sent(),[2,mt(t,n)];case 2:return r=i.sent(),U(r)&&409===r.customData.serverCode?[4,yt(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,mt(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}function Tt(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return(0,u.__generator)(this,(function(o){switch(o.label){case 0:return[4,kt(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,Y(100)];case 3:return o.sent(),[4,kt(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,bt(t)];case 6:return n=o.sent(),r=n.installationEntry,i=n.registrationPromise,i?[2,i]:[2,r];case 7:return[2,e]}}))}))}function kt(t){return _t(t,(function(t){if(!t)throw F.create("installation-not-found");return Ct(t)}))}function Ct(t){return St(t)?{fid:t.fid,registrationStatus:0}:t}function St(t){return 1===t.registrationStatus&&t.registrationTime+N<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return(0,u.__awaiter)(this,void 0,void 0,(function(){var t,i,o,a,s,c,l,f;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return t=xt(n,e),i=z(n,e),o=r.getImmediate({optional:!0}),o&&i.append("x-firebase-client",o.getPlatformInfoString()),a={installation:{sdkVersion:O}},s={method:"POST",headers:i,body:JSON.stringify(a)},[4,H((function(){return fetch(t,s)}))];case 1:return c=u.sent(),c.ok?[4,c.json()]:[3,3];case 2:return l=u.sent(),f=V(l),[2,f];case 3:return[4,B("Generate Auth Token",c)];case 4:throw u.sent()}}))}))}function xt(t,e){var n=e.fid;return q(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t,e){return void 0===e&&(e=!1),(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,u.__generator)(this,(function(a){switch(a.label){case 0:return[4,_t(t.appConfig,(function(r){if(!Dt(r))throw F.create("not-registered");var i=r.authToken;if(!e&&Lt(i))return r;if(1===i.requestStatus)return n=Ot(t,e),r;if(!navigator.onLine)throw F.create("app-offline");var o=jt(r);return n=Pt(t,o),o}))];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return i=o,[2,i]}}))}))}function Ot(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return[4,Rt(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Y(100)];case 3:return i.sent(),[4,Rt(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return r=n.authToken,0===r.requestStatus?[2,Nt(t,e)]:[2,r]}}))}))}function Rt(t){return _t(t,(function(t){if(!Dt(t))throw F.create("not-registered");var e=t.authToken;return Ft(e)?(0,u.__assign)((0,u.__assign)({},t),{authToken:{requestStatus:0}}):t}))}function Pt(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,u.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,At(t,e)];case 1:return n=o.sent(),i=(0,u.__assign)((0,u.__assign)({},e),{authToken:n}),[4,mt(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return r=o.sent(),!U(r)||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,yt(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,u.__assign)((0,u.__assign)({},e),{authToken:{requestStatus:0}}),[4,mt(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}function Dt(t){return void 0!==t&&2===t.registrationStatus}function Lt(t){return 2===t.requestStatus&&!Mt(t)}function Mt(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+D}function jt(t){var e={requestStatus:1,requestTime:Date.now()};return(0,u.__assign)((0,u.__assign)({},t),{authToken:e})}function Ft(t){return 1===t.requestStatus&&t.requestTime+N<Date.now()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return[4,bt(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,r=e.registrationPromise,r?r.catch(console.error):Nt(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(t,e){return void 0===e&&(e=!1),(0,u.__awaiter)(this,void 0,void 0,(function(){var n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return[4,Vt(t.appConfig)];case 1:return r.sent(),[4,Nt(t,e)];case 2:return n=r.sent(),[2,n.token]}}))}))}function Vt(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e;return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return[4,bt(t)];case 1:return e=n.sent().registrationPromise,e?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return(0,u.__generator)(this,(function(a){switch(a.label){case 0:return n=Kt(t,e),r=z(t,e),i={method:"DELETE",headers:r},[4,H((function(){return fetch(n,i)}))];case 1:return o=a.sent(),o.ok?[3,3]:[4,B("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function Kt(t,e){var n=e.fid;return q(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return e=t.appConfig,[4,_t(e,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(n=r.sent(),!n)return[3,6];if(1!==n.registrationStatus)return[3,2];throw F.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw F.create("app-offline");case 3:return[4,Bt(e,n)];case 4:return r.sent(),[4,yt(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t,e){var n=t.appConfig;return it(n,e),function(){ot(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(t){var e,n;if(!t||!t.options)throw Gt("App Configuration");if(!t.name)throw Gt("App Name");var r=["projectId","apiKey","appId"];try{for(var i=(0,u.__values)(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(!t.options[a])throw Gt(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Gt(t){return F.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(t){var e="installations";t.INTERNAL.registerComponent(new c.Component(e,(function(t){var e=t.getProvider("app").getImmediate(),n=Wt(e),r=t.getProvider("platform-logger"),i={appConfig:n,platformLoggerProvider:r},o={app:e,getId:function(){return Ut(i)},getToken:function(t){return qt(i,t)},delete:function(){return zt(i)},onIdChange:function(t){return Ht(i,t)}};return o}),"PUBLIC")),t.registerVersion(A,x)}$t(r["default"]);var Yt,Qt=(ft={},ft["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',ft["only-available-in-window"]="This method is available in a Window context.",ft["only-available-in-sw"]="This method is available in a service worker context.",ft["permission-default"]="The notification permission was not granted and dismissed instead.",ft["permission-blocked"]="The notification permission was not granted and blocked instead.",ft["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",ft["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",ft["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",ft["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",ft["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",ft["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",ft["token-update-no-token"]="FCM returned no token when updating the user to push.",ft["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",ft["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",ft["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",ft["invalid-vapid-key"]="The public VAPID key must be a string.",ft["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",ft),Xt=new o.ErrorFactory("messaging","Messaging",Qt),Jt="/firebase-messaging-sw.js",Zt="/firebase-cloud-messaging-push-scope",te="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ee="https://fcmregistrations.googleapis.com/v1",ne="FCM_MSG",re="FirebaseMessaging: ",ie="google.c.a.e",oe="google.c.a.c_id",ae="google.c.a.ts",se="google.c.a.c_l",ue=1e3,ce=3e3;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function le(t){var e=new Uint8Array(t),n=btoa(String.fromCharCode.apply(String,(0,u.__spreadArray)([],(0,u.__read)(e))));return n.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fe(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t["PUSH_RECEIVED"]="push-received",t["NOTIFICATION_CLICKED"]="notification-clicked"})(Yt||(Yt={}));var he="fcm_token_details_db",pe=5,de="fcm_token_object_Store";function ve(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o=this;return(0,u.__generator)(this,(function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=a.sent(),n=e.map((function(t){return t.name})),!n.includes(he))return[2,null];a.label=2;case 2:return r=null,[4,(0,S.openDb)(he,pe,(function(e){return(0,u.__awaiter)(o,void 0,void 0,(function(){var n,i,o,a;return(0,u.__generator)(this,(function(s){switch(s.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains(de)?(n=e.transaction.objectStore(de),[4,n.index("fcmSenderId").get(t)]):[2];case 1:return i=s.sent(),[4,n.clear()];case 2:if(s.sent(),!i)return[2];if(2===e.oldVersion){if(o=i,!o.auth||!o.p256dh||!o.endpoint)return[2];r={token:o.fcmToken,createTime:null!==(a=o.createTime)&&void 0!==a?a:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"===typeof o.vapidKey?o.vapidKey:le(o.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(o=i,r={token:o.fcmToken,createTime:o.createTime,subscriptionOptions:{auth:le(o.auth),p256dh:le(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:le(o.vapidKey)}});return[2]}}))}))}))];case 3:return i=a.sent(),i.close(),[4,(0,S.deleteDb)(he)];case 4:return a.sent(),[4,(0,S.deleteDb)("fcm_vapid_details_db")];case 5:return a.sent(),[4,(0,S.deleteDb)("undefined")];case 6:return a.sent(),[2,ge(r)?r:null]}}))}))}function ge(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"===typeof t.createTime&&t.createTime>0&&"string"===typeof t.token&&t.token.length>0&&"string"===typeof e.auth&&e.auth.length>0&&"string"===typeof e.p256dh&&e.p256dh.length>0&&"string"===typeof e.endpoint&&e.endpoint.length>0&&"string"===typeof e.swScope&&e.swScope.length>0&&"string"===typeof e.vapidKey&&e.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me="firebase-messaging-database",ye=1,_e="firebase-messaging-store",be=null;function we(){return be||(be=(0,S.openDb)(me,ye,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(_e)}}))),be}function Ee(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return(0,u.__generator)(this,(function(o){switch(o.label){case 0:return e=ke(t),[4,we()];case 1:return n=o.sent(),[4,n.transaction(_e).objectStore(_e).get(e)];case 2:return r=o.sent(),r?[2,r]:[3,3];case 3:return[4,ve(t.appConfig.senderId)];case 4:return i=o.sent(),i?[4,Ie(t,i)]:[3,6];case 5:return o.sent(),[2,i];case 6:return[2]}}))}))}function Ie(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return(0,u.__generator)(this,(function(o){switch(o.label){case 0:return n=ke(t),[4,we()];case 1:return r=o.sent(),i=r.transaction(_e,"readwrite"),[4,i.objectStore(_e).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function Te(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n,r;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return e=ke(t),[4,we()];case 1:return n=i.sent(),r=n.transaction(_e,"readwrite"),[4,r.objectStore(_e).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function ke(t){var e=t.appConfig;return e.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return[4,Ne(t)];case 1:n=u.sent(),r=Oe(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(xe(t.appConfig),i)];case 3:return a=u.sent(),[4,a.json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),Xt.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw c=o.error.message,Xt.create("token-subscribe-failed",{errorInfo:c});if(!o.token)throw Xt.create("token-subscribe-no-token");return[2,o.token]}}))}))}function Se(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return[4,Ne(t)];case 1:n=u.sent(),r=Oe(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(xe(t.appConfig)+"/"+e.token,i)];case 3:return a=u.sent(),[4,a.json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),Xt.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw c=o.error.message,Xt.create("token-update-failed",{errorInfo:c});if(!o.token)throw Xt.create("token-update-no-token");return[2,o.token]}}))}))}function Ae(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return[4,Ne(t)];case 1:n=u.sent(),r={method:"DELETE",headers:n},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(xe(t.appConfig)+"/"+e,r)];case 3:return i=u.sent(),[4,i.json()];case 4:if(o=u.sent(),o.error)throw a=o.error.message,Xt.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw s=u.sent(),Xt.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))}function xe(t){var e=t.projectId;return ee+"/projects/"+e+"/registrations"}function Ne(t){var e=t.appConfig,n=t.installations;return(0,u.__awaiter)(this,void 0,void 0,(function(){var t;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function Oe(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==te&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Re=6048e5;function Pe(t,e,n){return(0,u.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a;return(0,u.__generator)(this,(function(s){switch(s.label){case 0:if("granted"!==Notification.permission)throw Xt.create("permission-blocked");return[4,je(e,n)];case 1:return r=s.sent(),[4,Ee(t)];case 2:return i=s.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:le(r.getKey("auth")),p256dh:le(r.getKey("p256dh"))},i?[3,3]:[2,Me(t,o)];case 3:if(Fe(i.subscriptionOptions,o))return[3,8];s.label=4;case 4:return s.trys.push([4,6,,7]),[4,Ae(t,i.token)];case 5:return s.sent(),[3,7];case 6:return a=s.sent(),console.warn(a),[3,7];case 7:return[2,Me(t,o)];case 8:return Date.now()>=i.createTime+Re?[2,Le({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}}))}))}function De(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return[4,Ee(t)];case 1:return n=i.sent(),n?[4,Ae(t,n.token)]:[3,4];case 2:return i.sent(),[4,Te(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return r=i.sent(),r?[2,r.unsubscribe()]:[2,!0]}}))}))}function Le(t,e,n){return(0,u.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return(0,u.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,5]),[4,Se(e,t)];case 1:return r=a.sent(),i=(0,u.__assign)((0,u.__assign)({},t),{token:r,createTime:Date.now()}),[4,Ie(e,i)];case 2:return a.sent(),[2,r];case 3:return o=a.sent(),[4,De(e,n)];case 4:throw a.sent(),o;case 5:return[2]}}))}))}function Me(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return[4,Ce(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,Ie(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function je(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return n=r.sent(),n?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fe(e)})]}}))}))}function Fe(t,e){var n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,o=e.p256dh===t.p256dh;return n&&r&&i&&o}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(t){var e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return qe(e,t),Ve(e,t),Be(e,t),e}function qe(t,e){if(e.notification){t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}}function Ve(t,e){e.data&&(t.data=e.data)}function Be(t,e){if(e.fcmOptions){t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(t){return"object"===typeof t&&!!t&&oe in t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ze(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var He=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!==typeof t)throw Xt.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return(0,u.__awaiter)(this,void 0,void 0,(function(){var n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,Ee(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:te,r.label=2;case 2:return[2,Pe(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return De(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw Xt.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Xt.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw Xt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw Xt.create("only-available-in-window")},t.prototype.onMessage=function(){throw Xt.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw Xt.create("only-available-in-window")},t.prototype.onPush=function(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return(0,u.__generator)(this,(function(o){switch(o.label){case 0:return e=Ge(t),e?[4,Xe()]:(console.debug(re+"failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return n=o.sent(),Ye(n)?[2,Qe(n,e)]:(r=!1,e.notification?[4,Je(We(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(i=Ue(e),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[4,ze(ue)]);case 4:return o.sent(),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return(0,u.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,u.__generator)(this,(function(o){switch(o.label){case 0:return r=t.newSubscription,r?[3,2]:[4,De(this.firebaseDependencies,self.registration)];case 1:return o.sent(),[2];case 2:return[4,Ee(this.firebaseDependencies)];case 3:return i=o.sent(),[4,De(this.firebaseDependencies,self.registration)];case 4:return o.sent(),[4,Pe(this.firebaseDependencies,self.registration,null!==(n=null===(e=null===i||void 0===i?void 0:i.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:te)];case 5:return o.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return(0,u.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n[ne],r?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),i=Ze(r),i?(o=new URL(i,self.location.href),a=new URL(self.location.origin),o.host!==a.host?[2]:[4,$e(o)]):[2]):[2];case 1:return s=u.sent(),s?[3,4]:[4,self.clients.openWindow(i)];case 2:return s=u.sent(),[4,ze(ce)];case 3:return u.sent(),[3,6];case 4:return[4,s.focus()];case 5:s=u.sent(),u.label=6;case 6:return s?(r.messageType=Yt.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,s.postMessage(r)]):[2]}}))}))},t}();function We(t){var e,n=(0,u.__assign)({},t.notification);return n.data=(e={},e[ne]=t,e),n}function Ge(t){var e=t.data;if(!e)return null;try{return e.json()}catch(n){return null}}function $e(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s;return(0,u.__generator)(this,(function(c){switch(c.label){case 0:return[4,Xe()];case 1:e=c.sent();try{for(n=(0,u.__values)(e),r=n.next();!r.done;r=n.next())if(i=r.value,o=new URL(i.url,self.location.href),t.host===o.host)return[2,i]}catch(l){a={error:l}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(a)throw a.error}}return[2,null]}}))}))}function Ye(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}function Qe(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=Yt.PUSH_RECEIVED;try{for(var i=(0,u.__values)(t),o=i.next();!o.done;o=i.next()){var a=o.value;a.postMessage(e)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Xe(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Je(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}function Ze(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;return i||(Ke(t.data)?self.location.origin:null)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return e=t.data,e.isFirebaseMessaging?(this.onMessageCallback&&e.messageType===Yt.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(nn(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),n=e.data,Ke(n)&&"1"===n[ie]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw Xt.create("permission-blocked");return[4,this.updateVapidKey(null===t||void 0===t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null===t||void 0===t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,Pe(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){return(0,u.__generator)(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=te),[2]}))}))},t.prototype.updateSwReg=function(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw Xt.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return(0,u.__awaiter)(this,void 0,void 0,(function(){var t,e;return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register(Jt,{scope:Zt})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),Xt.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return(0,u.__awaiter)(this,void 0,void 0,(function(){return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,De(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return(0,u.__awaiter)(this,void 0,void 0,(function(){var t;return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if(t=e.sent(),"granted"===t)return[2];throw"denied"===t?Xt.create("permission-blocked"):Xt.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw Xt.create("use-vapid-key-after-get-token");if("string"!==typeof t||0===t.length)throw Xt.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw Xt.create("invalid-sw-registration");if(this.swRegistration)throw Xt.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw Xt.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw Xt.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return n=en(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r=i.sent(),r.logEvent(n,{message_id:e[oe],message_name:e[se],message_time:e[ae],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function en(t){switch(t){case Yt.NOTIFICATION_CLICKED:return"notification_open";case Yt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function nn(t){return delete t.messageType,delete t.isFirebaseMessaging,t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){var e,n;if(!t||!t.options)throw on("App Configuration Object");if(!t.name)throw on("App Name");var r=["projectId","apiKey","appId","messagingSenderId"],i=t.options;try{for(var o=(0,u.__values)(r),a=o.next();!a.done;a=o.next()){var s=a.value;if(!i[s])throw on(s)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return{appName:t.name,projectId:i.projectId,apiKey:i.apiKey,appId:i.appId,senderId:i.messagingSenderId}}function on(t){return Xt.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var an="messaging";function sn(t){var e=t.getProvider("app").getImmediate(),n=rn(e),r=t.getProvider("installations").getImmediate(),i=t.getProvider("analytics-internal"),o={app:e,appConfig:n,installations:r,analyticsProvider:i};if(!cn())throw Xt.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new He(o):new tn(o)}var un={isSupported:cn};function cn(){return self&&"ServiceWorkerGlobalScope"in self?fn():ln()}function ln(){return"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function fn(){return"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}r["default"].INTERNAL.registerComponent(new c.Component(an,sn,"PUBLIC").setServiceProps(un));n(527);var hn,pn,dn,vn="@firebase/performance",gn="0.4.18",mn=gn,yn="FB-PERF-TRACE-START",_n="FB-PERF-TRACE-STOP",bn="FB-PERF-TRACE-MEASURE",wn="_wt_",En="_fp",In="_fcp",Tn="_fid",kn="@firebase/performance/config",Cn="@firebase/performance/configexpire",Sn="performance",An="Performance",xn=(hn={},hn["trace started"]="Trace {$traceName} was started before.",hn["trace stopped"]="Trace {$traceName} is not running.",hn["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",hn["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",hn["no window"]="Window is not available.",hn["no app id"]="App id is not available.",hn["no project id"]="Project id is not available.",hn["no api key"]="Api key is not available.",hn["invalid cc log"]="Attempted to queue invalid cc event",hn["FB not default"]="Performance can only start when Firebase app instance is the default one.",hn["RC response not ok"]="RC response is not ok",hn["invalid attribute name"]="Attribute name {$attributeName} is invalid.",hn["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",hn["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",hn["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",hn),Nn=new o.ErrorFactory(Sn,An,xn),On=new a.Logger(An);On.logLevel=a.LogLevel.INFO;var Rn,Pn=function(){function t(t){if(this.window=t,!t)throw Nn.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,o.isIndexedDBAvailable)()||(On.info("IndexedDB is not supported by current browswer"),!1):(On.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},t.prototype.setupObserver=function(t,e){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}}));n.observe({entryTypes:[t]})}},t.getInstance=function(){return void 0===pn&&(pn=new t(dn)),pn},t}();function Dn(t){dn=t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,e){var n=t.length-e.length;if(n<0||n>1)throw Nn.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn,jn,Fn=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Ln("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Ln("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw Nn.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw Nn.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw Nn.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===Rn&&(Rn=new t),Rn},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){var t=Fn.getInstance().installationsService.getId();return t.then((function(t){Mn=t})),t}function qn(){return Mn}function Vn(){var t=Fn.getInstance().installationsService.getToken();return t.then((function(t){})),t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t[t["UNKNOWN"]=0]="UNKNOWN",t[t["VISIBLE"]=1]="VISIBLE",t[t["HIDDEN"]=2]="HIDDEN"})(jn||(jn={}));var Bn=["firebase_","google_","ga_"],Kn=new RegExp("^[a-zA-Z]\\w*$"),zn=40,Hn=100;function Wn(){var t=Pn.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function Gn(){var t=Pn.getInstance().document,e=t.visibilityState;switch(e){case"visible":return jn.VISIBLE;case"hidden":return jn.HIDDEN;default:return jn.UNKNOWN}}function $n(){var t=Pn.getInstance().navigator,e=t.connection,n=e&&e.effectiveType;switch(n){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function Yn(t){if(0===t.length||t.length>zn)return!1;var e=Bn.some((function(e){return t.startsWith(e)}));return!e&&!!t.match(Kn)}function Qn(t){return 0!==t.length&&t.length<=Hn}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xn="0.0.1",Jn={loggingEnabled:!0},Zn="FIREBASE_INSTALLATIONS_AUTH";function tr(t){var e=er();return e?(or(e),Promise.resolve()):ir(t).then(or).then((function(t){return nr(t)}),(function(){}))}function er(){var t=Pn.getInstance().localStorage;if(t){var e=t.getItem(Cn);if(e&&ar(e)){var n=t.getItem(kn);if(n)try{var r=JSON.parse(n);return r}catch(C){return}}}}function nr(t){var e=Pn.getInstance().localStorage;t&&e&&(e.setItem(kn,JSON.stringify(t)),e.setItem(Cn,String(Date.now()+60*Fn.getInstance().configTimeToLive*60*1e3)))}var rr="Could not fetch config, will use default configs";function ir(t){return Vn().then((function(e){var n=Fn.getInstance().getProjectId(),r="https://firebaseremoteconfig.googleapis.com/v1/projects/"+n+"/namespaces/fireperf:fetch?key="+Fn.getInstance().getApiKey(),i=new Request(r,{method:"POST",headers:{Authorization:Zn+" "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:Fn.getInstance().getAppId(),app_version:mn,sdk_version:Xn})});return fetch(i).then((function(t){if(t.ok)return t.json();throw Nn.create("RC response not ok")}))})).catch((function(){On.info(rr)}))}function or(t){if(!t)return t;var e=Fn.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=Jn.loggingEnabled,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=sr(e.tracesSamplingRate),e.logNetworkAfterSampling=sr(e.networkRequestsSamplingRate),t}function ar(t){return Number(t)>Date.now()}function sr(t){return Math.random()<=t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ur,cr=1;function lr(){return cr=2,ur=ur||hr(),ur}function fr(){return 3===cr}function hr(){return pr().then((function(){return Un()})).then((function(t){return tr(t)})).then((function(){return dr()}),(function(){return dr()}))}function pr(){var t=Pn.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}function dr(){cr=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vr,gr=1e4,mr=5500,yr=3,_r=1e3,br=yr,wr=[],Er=!1;function Ir(){Er||(Tr(mr),Er=!0)}function Tr(t){setTimeout((function(){if(0!==br)return wr.length?void kr():Tr(gr)}),t)}function kr(){var t=wr.splice(0,_r),e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}})),n={request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Fn.getInstance().logSource,log_event:e};Cr(n,t).catch((function(){wr=(0,u.__spreadArray)((0,u.__spreadArray)([],t),wr),br--,On.info("Tries left: "+br+"."),Tr(gr)}))}function Cr(t,e){return Sr(t).then((function(t){return t.ok||On.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=gr;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(wr=(0,u.__spreadArray)((0,u.__spreadArray)([],e),wr),On.info("Retry transport request later.")),br=yr,Tr(r)}))}function Sr(t){var e=Fn.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}function Ar(t){if(!t.eventTime||!t.message)throw Nn.create("invalid cc log");wr=(0,u.__spreadArray)((0,u.__spreadArray)([],wr),[t])}function xr(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);Ar({message:r,eventTime:Date.now()})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(t,e){vr||(vr=xr(Dr)),vr(t,e)}function Or(t){var e=Fn.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&Pn.getInstance().requiredApisAvailable()&&(t.isAuto&&Gn()!==jn.VISIBLE||(fr()?Rr(t):lr().then((function(){return Rr(t)}),(function(){return Rr(t)}))))}function Rr(t){if(qn()){var e=Fn.getInstance();e.loggingEnabled&&e.logTraceAfterSampling&&setTimeout((function(){return Nr(t,1)}),0)}}function Pr(t){var e=Fn.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return Nr(t,0)}),0)}}function Dr(t,e){return 0===e?Lr(t):Mr(t)}function Lr(t){var e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:jr(),network_request_metric:e};return JSON.stringify(n)}function Mr(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:jr(),trace_metric:e};return JSON.stringify(r)}function jr(){return{google_app_id:Fn.getInstance().getAppId(),app_instance_id:qn(),web_app_info:{sdk_version:mn,page_url:Pn.getInstance().getUrl(),service_worker_status:Wn(),visibility_state:Gn(),effective_connection_type:$n()},application_process_state:0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr=100,Ur="_",qr=[En,In,Tn];function Vr(t,e){return!(0===t.length||t.length>Fr)&&(e&&e.startsWith(wn)&&qr.indexOf(t)>-1||!t.startsWith(Ur))}function Br(t){var e=Math.floor(t);return e<t&&On.info("Metric value should be an Integer, setting the value as : "+e+"."),e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kr=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=Pn.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=yn+"-"+this.randomId+"-"+this.name,this.traceStopMark=_n+"-"+this.randomId+"-"+this.name,this.traceMeasure=n||bn+"-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw Nn.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw Nn.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Or(this)},t.prototype.record=function(t,e,n){if(t<=0)throw Nn.create("nonpositive trace startTime",{traceName:this.name});if(e<=0)throw Nn.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=(0,u.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Or(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!Vr(t,this.name))throw Nn.create("invalid custom metric name",{customMetricName:t});this.counters[t]=Br(e)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=Yn(t),r=Qn(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw Nn.create("invalid attribute name",{attributeName:t});if(!r)throw Nn.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return(0,u.__assign)({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=Pn.getInstance().getUrl();if(i){var o=new t(wn+i,!0),a=Math.floor(1e3*Pn.getInstance().getTimeOrigin());o.setStartTime(a),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));var s="first-paint",u="first-contentful-paint";if(n){var c=n.find((function(t){return t.name===s}));c&&c.startTime&&o.putMetric(En,Math.floor(1e3*c.startTime));var l=n.find((function(t){return t.name===u}));l&&l.startTime&&o.putMetric(In,Math.floor(1e3*l.startTime)),r&&o.putMetric(Tn,Math.floor(1e3*r))}Or(o)}},t.createUserTimingTrace=function(e){var n=new t(e,!1,e);Or(n)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t){var e=t;if(e&&void 0!==e.responseStart){var n=Pn.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime)),a=e.name&&e.name.split("?")[0],s={url:a,responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o};Pr(s)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr=5e3;function Wr(){qn()&&(setTimeout((function(){return $r()}),0),setTimeout((function(){return Gr()}),0),setTimeout((function(){return Yr()}),0))}function Gr(){for(var t=Pn.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){var i=r[n];zr(i)}t.setupObserver("resource",zr)}function $r(){var t=Pn.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){Kr.createOobTrace(e,n),r=void 0}),Hr);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),Kr.createOobTrace(e,n,t))}))}else Kr.createOobTrace(e,n)}function Yr(){for(var t=Pn.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){var i=r[n];Qr(i)}t.setupObserver("measure",Qr)}function Qr(t){var e=t.name;e.substring(0,bn.length)!==bn&&Kr.createUserTimingTrace(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xr=function(){function t(t){this.app=t,Pn.getInstance().requiredApisAvailable()&&(0,o.validateIndexedDBOpenable)().then((function(t){t&&(Ir(),lr().then(Wr,Wr))})).catch((function(t){On.info("Environment doesn't support IndexedDB: "+t)}))}return t.prototype.trace=function(t){return new Kr(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return Fn.getInstance().instrumentationEnabled},set:function(t){Fn.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return Fn.getInstance().dataCollectionEnabled},set:function(t){Fn.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}(),Jr="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t){var e=function(t,e){if(t.name!==Jr)throw Nn.create("FB not default");if("undefined"===typeof window)throw Nn.create("no window");return Dn(window),Fn.getInstance().firebaseAppInstance=t,Fn.getInstance().installationsService=e,new Xr(t)};t.INTERNAL.registerComponent(new c.Component("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion(vn,gn)}Zr(r["default"]);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ti,ei,ni="firebase_id",ri="origin",ii=6e4,oi="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ai="https://www.googletagmanager.com/gtag/js";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function si(t,e,n,r,i){return(0,u.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,u.__generator)(this,(function(s){switch(s.label){case 0:return i&&i.global?(t(ti.EVENT,n,r),[2]):[3,1];case 1:return[4,e];case 2:o=s.sent(),a=(0,u.__assign)((0,u.__assign)({},r),{send_to:o}),t(ti.EVENT,n,a),s.label=3;case 3:return[2]}}))}))}function ui(t,e,n,r){return(0,u.__awaiter)(this,void 0,void 0,(function(){var i;return(0,u.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(ti.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(ti.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))}function ci(t,e,n,r){return(0,u.__awaiter)(this,void 0,void 0,(function(){var i;return(0,u.__generator)(this,(function(o){switch(o.label){case 0:return r&&r.global?(t(ti.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,e];case 2:i=o.sent(),t(ti.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))}function li(t,e,n,r){return(0,u.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,c;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,a=Object.keys(n);o<a.length;o++)s=a[o],i["user_properties."+s]=n[s];return t(ti.SET,i),[2,Promise.resolve()];case 1:return[4,e];case 2:c=u.sent(),t(ti.CONFIG,c,{update:!0,user_properties:n}),u.label=3;case 3:return[2]}}))}))}function fi(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),window["ga-disable-"+n]=!e,[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(t){t["EVENT"]="event",t["SET"]="set",t["CONFIG"]="config"})(ti||(ti={})),function(t){t["ADD_SHIPPING_INFO"]="add_shipping_info",t["ADD_PAYMENT_INFO"]="add_payment_info",t["ADD_TO_CART"]="add_to_cart",t["ADD_TO_WISHLIST"]="add_to_wishlist",t["BEGIN_CHECKOUT"]="begin_checkout",t["CHECKOUT_PROGRESS"]="checkout_progress",t["EXCEPTION"]="exception",t["GENERATE_LEAD"]="generate_lead",t["LOGIN"]="login",t["PAGE_VIEW"]="page_view",t["PURCHASE"]="purchase",t["REFUND"]="refund",t["REMOVE_FROM_CART"]="remove_from_cart",t["SCREEN_VIEW"]="screen_view",t["SEARCH"]="search",t["SELECT_CONTENT"]="select_content",t["SELECT_ITEM"]="select_item",t["SELECT_PROMOTION"]="select_promotion",t["SET_CHECKOUT_OPTION"]="set_checkout_option",t["SHARE"]="share",t["SIGN_UP"]="sign_up",t["TIMING_COMPLETE"]="timing_complete",t["VIEW_CART"]="view_cart",t["VIEW_ITEM"]="view_item",t["VIEW_ITEM_LIST"]="view_item_list",t["VIEW_PROMOTION"]="view_promotion",t["VIEW_SEARCH_RESULTS"]="view_search_results"}(ei||(ei={}));var hi,pi=new a.Logger("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,e){var n=document.createElement("script");n.src=ai+"?l="+t+"&id="+e,n.async=!0,document.head.appendChild(n)}function vi(t){var e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function gi(t,e,n,r,i,o){return(0,u.__awaiter)(this,void 0,void 0,(function(){var a,s,c,l;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:a=r[i],u.label=1;case 1:return u.trys.push([1,7,,8]),a?[4,e[a]]:[3,3];case 2:return u.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return s=u.sent(),c=s.find((function(t){return t.measurementId===i})),c?[4,e[c.appId]]:[3,6];case 5:u.sent(),u.label=6;case 6:return[3,8];case 7:return l=u.sent(),pi.error(l),[3,8];case 8:return t(ti.CONFIG,i,o),[2]}}))}))}function mi(t,e,n,r,i){return(0,u.__awaiter)(this,void 0,void 0,(function(){var o,a,s,c,l,f,h,p,d;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,4,,5]),o=[],i&&i["send_to"]?(a=i["send_to"],Array.isArray(a)||(a=[a]),[4,Promise.all(n)]):[3,2];case 1:for(s=u.sent(),c=function(t){var n=s.find((function(e){return e.measurementId===t})),r=n&&e[n.appId];if(!r)return o=[],"break";o.push(r)},l=0,f=a;l<f.length;l++)if(h=f[l],p=c(h),"break"===p)break;u.label=2;case 2:return 0===o.length&&(o=Object.values(e)),[4,Promise.all(o)];case 3:return u.sent(),t(ti.EVENT,r,i||{}),[3,5];case 4:return d=u.sent(),pi.error(d),[3,5];case 5:return[2]}}))}))}function yi(t,e,n,r){function i(i,o,a){return(0,u.__awaiter)(this,void 0,void 0,(function(){var s;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),i!==ti.EVENT?[3,2]:[4,mi(t,e,n,o,a)];case 1:return u.sent(),[3,5];case 2:return i!==ti.CONFIG?[3,4]:[4,gi(t,e,n,r,o,a)];case 3:return u.sent(),[3,5];case 4:t(ti.SET,o),u.label=5;case 5:return[3,7];case 6:return s=u.sent(),pi.error(s),[3,7];case 7:return[2]}}))}))}return i}function _i(t,e,n,r,i){var o=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=yi(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function bi(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(ai))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wi=(hi={},hi["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",hi["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",hi["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",hi["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",hi["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",hi["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",hi["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",hi["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',hi["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',hi),Ei=new o.ErrorFactory("analytics","Analytics",wi),Ii=30,Ti=1e3,ki=function(){function t(t,e){void 0===t&&(t={}),void 0===e&&(e=Ti),this.throttleMetadata=t,this.intervalMillis=e}return t.prototype.getThrottleMetadata=function(t){return this.throttleMetadata[t]},t.prototype.setThrottleMetadata=function(t,e){this.throttleMetadata[t]=e},t.prototype.deleteThrottleMetadata=function(t){delete this.throttleMetadata[t]},t}(),Ci=new ki;function Si(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function Ai(t){var e;return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,c;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return n=t.appId,r=t.apiKey,i={method:"GET",headers:Si(r)},o=oi.replace("{app-id}",n),[4,fetch(o,i)];case 1:if(a=u.sent(),200===a.status||304===a.status)return[3,6];s="",u.label=2;case 2:return u.trys.push([2,4,,5]),[4,a.json()];case 3:return c=u.sent(),(null===(e=c.error)||void 0===e?void 0:e.message)&&(s=c.error.message),[3,5];case 4:return u.sent(),[3,5];case 5:throw Ei.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s});case 6:return[2,a.json()]}}))}))}function xi(t,e,n){return void 0===e&&(e=Ci),(0,u.__awaiter)(this,void 0,void 0,(function(){var r,i,o,a,s,c,l=this;return(0,u.__generator)(this,(function(f){if(r=t.options,i=r.appId,o=r.apiKey,a=r.measurementId,!i)throw Ei.create("no-app-id");if(!o){if(a)return[2,{measurementId:a,appId:i}];throw Ei.create("no-api-key")}return s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Pi,setTimeout((function(){return(0,u.__awaiter)(l,void 0,void 0,(function(){return(0,u.__generator)(this,(function(t){return c.abort(),[2]}))}))}),void 0!==n?n:ii),[2,Ni({appId:i,apiKey:o,measurementId:a},s,c,e)]}))}))}function Ni(t,e,n,r){var i=e.throttleEndTimeMillis,a=e.backoffCount;return void 0===r&&(r=Ci),(0,u.__awaiter)(this,void 0,void 0,(function(){var e,s,c,l,f,h,p;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:e=t.appId,s=t.measurementId,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Oi(n,i)];case 2:return u.sent(),[3,4];case 3:if(c=u.sent(),s)return pi.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:e,measurementId:s}];throw c;case 4:return u.trys.push([4,6,,7]),[4,Ai(t)];case 5:return l=u.sent(),r.deleteThrottleMetadata(e),[2,l];case 6:if(f=u.sent(),!Ri(f)){if(r.deleteThrottleMetadata(e),s)return pi.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+s+' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]"),[2,{appId:e,measurementId:s}];throw f}return h=503===Number(f.customData.httpStatus)?(0,o.calculateBackoffMillis)(a,r.intervalMillis,Ii):(0,o.calculateBackoffMillis)(a,r.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},r.setThrottleMetadata(e,p),pi.debug("Calling attemptFetch again in "+h+" millis"),[2,Ni(t,p,n,r)];case 7:return[2]}}))}))}function Oi(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(Ei.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}function Ri(t){if(!(t instanceof o.FirebaseError)||!t.customData)return!1;var e=Number(t.customData["httpStatus"]);return 429===e||500===e||503===e||504===e}var Pi=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return(0,u.__awaiter)(this,void 0,void 0,(function(){var t;return(0,u.__generator)(this,(function(e){switch(e.label){case 0:return(0,o.isIndexedDBAvailable)()?[3,1]:(pi.warn(Ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return e.trys.push([1,3,,4]),[4,(0,o.validateIndexedDBOpenable)()];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),pi.warn(Ei.create("indexeddb-unavailable",{errorInfo:t}).message),[2,!1];case 4:return[2,!0]}}))}))}function Li(t,e,n,r,i,o){return(0,u.__awaiter)(this,void 0,void 0,(function(){var a,s,c,l,f,h,p;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return a=xi(t),a.then((function(e){n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&pi.warn("The measurement ID in the local Firebase config ("+t.options.measurementId+") does not match the measurement ID fetched from the server ("+e.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(t){return pi.error(t)})),e.push(a),s=Di().then((function(t){return t?r.getId():void 0})),[4,Promise.all([a,s])];case 1:return c=u.sent(),l=c[0],f=c[1],bi()||di(o,l.measurementId),i("js",new Date),p={},p[ri]="firebase",p.update=!0,h=p,null!=f&&(h[ni]=f),i(ti.CONFIG,l.measurementId,h),[2,l.measurementId]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mi,ji,Fi={},Ui=[],qi={},Vi="dataLayer",Bi="gtag",Ki=!1;function zi(t){if(Ki)throw Ei.create("already-initialized");t.dataLayerName&&(Vi=t.dataLayerName),t.gtagName&&(Bi=t.gtagName)}function Hi(){var t=[];if((0,o.isBrowserExtension)()&&t.push("This is a browser extension environment."),(0,o.areCookiesEnabled)()||t.push("Cookies are not available."),t.length>0){var e=t.map((function(t,e){return"("+(e+1)+") "+t})).join(" "),n=Ei.create("invalid-analytics-context",{errorInfo:e});pi.warn(n.message)}}function Wi(t,e){Hi();var n=t.options.appId;if(!n)throw Ei.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Ei.create("no-api-key");pi.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+t.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Fi[n])throw Ei.create("already-exists",{id:n});if(!Ki){vi(Vi);var r=_i(Fi,Ui,qi,Vi,Bi),i=r.wrappedGtag,o=r.gtagCore;ji=i,Mi=o,Ki=!0}Fi[n]=Li(t,Ui,qi,e,Mi,Vi);var a={app:t,logEvent:function(t,e,r){si(ji,Fi[n],t,e,r).catch((function(t){return pi.error(t)}))},setCurrentScreen:function(t,e){ui(ji,Fi[n],t,e).catch((function(t){return pi.error(t)}))},setUserId:function(t,e){ci(ji,Fi[n],t,e).catch((function(t){return pi.error(t)}))},setUserProperties:function(t,e){li(ji,Fi[n],t,e).catch((function(t){return pi.error(t)}))},setAnalyticsCollectionEnabled:function(t){fi(Fi[n],t).catch((function(t){return pi.error(t)}))},INTERNAL:{delete:function(){return delete Fi[n],Promise.resolve()}}};return a}var Gi="@firebase/analytics",$i="0.6.18",Yi="analytics";function Qi(t){function e(t){try{var e=t.getProvider(Yi).getImmediate();return{logEvent:e.logEvent}}catch(n){throw Ei.create("interop-component-reg-failed",{reason:n})}}t.INTERNAL.registerComponent(new c.Component(Yi,(function(t){var e=t.getProvider("app").getImmediate(),n=t.getProvider("installations").getImmediate();return Wi(e,n)}),"PUBLIC").setServiceProps({settings:zi,EventName:ei,isSupported:Xi})),t.INTERNAL.registerComponent(new c.Component("analytics-internal",e,"PRIVATE")),t.registerVersion(Gi,$i)}function Xi(){return(0,u.__awaiter)(this,void 0,void 0,(function(){var t;return(0,u.__generator)(this,(function(e){switch(e.label){case 0:if((0,o.isBrowserExtension)())return[2,!1];if(!(0,o.areCookiesEnabled)())return[2,!1];if(!(0,o.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,o.validateIndexedDBOpenable)()];case 2:return t=e.sent(),[2,t];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}Qi(r["default"]);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ji,Zi=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o;return(0,u.__generator)(this,(function(a){switch(a.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=a.sent(),n=e[0],r=e[1],r&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=a.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return a.sent(),[2,i]}}))}))},t}(),to=(Ji={},Ji["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",Ji["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",Ji["registration-api-key"]="Undefined API key. Check Firebase app initialization.",Ji["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",Ji["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",Ji["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",Ji["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",Ji["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",Ji["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",Ji["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',Ji["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',Ji["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",Ji["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",Ji),eo=new o.ErrorFactory("remoteconfig","Remote Config",to);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t,e){return t instanceof o.FirebaseError&&-1!==t.code.indexOf(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){return void 0===t&&(t=navigator),t.languages&&t.languages[0]||t.language}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var io=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o,a,s,c,l,f,h,p,d,v,g,m,y,_,b;return(0,u.__generator)(this,(function(u){switch(u.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=u.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},s={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:ro()},c={method:"POST",headers:a,body:JSON.stringify(s)},l=fetch(o,c),f=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),u.label=2;case 2:return u.trys.push([2,5,,6]),[4,Promise.race([l,f])];case 3:return u.sent(),[4,l];case 4:return h=u.sent(),[3,6];case 5:throw p=u.sent(),d="fetch-client-network","AbortError"===p.name&&(d="fetch-timeout"),eo.create(d,{originalErrorMessage:p.message});case 6:if(v=h.status,g=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];_=void 0,u.label=7;case 7:return u.trys.push([7,9,,10]),[4,h.json()];case 8:return _=u.sent(),[3,10];case 9:throw b=u.sent(),eo.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:m=_["entries"],y=_["state"],u.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===y?v=500:"NO_CHANGE"===y?v=304:"NO_TEMPLATE"!==y&&"EMPTY_CONFIG"!==y||(m={}),304!==v&&200!==v)throw eo.create("fetch-status",{httpStatus:v});return[2,{status:v,eTag:g,config:m}]}}))}))},t}(),oo=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),ao=!1,so="",uo=0,co=["1","true","t","yes","y","on"],lo=function(){function t(t,e){void 0===e&&(e=so),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"===this._source?ao:co.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return uo;var t=Number(this._value);return isNaN(t)&&(t=uo),t},t.prototype.getSource=function(){return this._source},t}(),fo=6e4,ho=432e5,po=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:fo,minimumFetchIntervalMillis:ho},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=a.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=a.LogLevel.SILENT;break;default:this._logger.logLevel=a.LogLevel.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return(0,u.__awaiter)(this,void 0,void 0,(function(){var t,e,n;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return(0,u.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r=this;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:t=new oo,setTimeout((function(){return(0,u.__awaiter)(r,void 0,void 0,(function(){return(0,u.__generator)(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=no(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return(0,u.__awaiter)(this,void 0,void 0,(function(){return(0,u.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return vo(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new lo("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new lo("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new lo("static"))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Object.keys((0,u.__assign)((0,u.__assign)({},t),e))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function go(t,e){var n=t.target.error||void 0;return eo.create(e,{originalErrorMessage:n&&n.message})}var mo="app_namespace_store",yo="firebase_remote_config",_o=1;function bo(){return new Promise((function(t,e){var n=indexedDB.open(yo,_o);n.onerror=function(t){e(go(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(mo,{keyPath:"compositeKey"})}}}))}var wo=function(){function t(t,e,n,r){void 0===r&&(r=bo()),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([mo],"readonly"),a=o.objectStore(mo),s=n.createCompositeKey(t);try{var u=a.get(s);u.onerror=function(t){i(go(t,"storage-get"))},u.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(c){i(eo.create("storage-get",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.set=function(t,e){return(0,u.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,u.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([mo],"readwrite"),s=a.objectStore(mo),u=r.createCompositeKey(t);try{var c=s.put({compositeKey:u,value:e});c.onerror=function(t){o(go(t,"storage-set"))},c.onsuccess=function(){i()}}catch(l){o(eo.create("storage-set",{originalErrorMessage:l&&l.message}))}}))]}}))}))},t.prototype.delete=function(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return(0,u.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction([mo],"readwrite"),a=o.objectStore(mo),s=n.createCompositeKey(t);try{var u=a.delete(s);u.onerror=function(t){i(go(t,"storage-delete"))},u.onsuccess=function(){r()}}catch(c){i(eo.create("storage-delete",{originalErrorMessage:c&&c.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),Eo=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return(0,u.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,i,o;return(0,u.__generator)(this,(function(a){switch(a.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return r=a.sent(),r&&(this.lastFetchStatus=r),[4,e];case 2:return i=a.sent(),i&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return o=a.sent(),o&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Io(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(eo.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}function To(t){if(!(t instanceof o.FirebaseError)||!t.customData)return!1;var e=Number(t.customData["httpStatus"]);return 429===e||500===e||503===e||504===e}var ko=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return(0,u.__awaiter)(this,void 0,void 0,(function(){var e;return(0,u.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return(0,u.__awaiter)(this,void 0,void 0,(function(){var e,i,a;return(0,u.__generator)(this,(function(s){switch(s.label){case 0:return[4,Io(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(i=s.sent(),!To(i))throw i;return a={throttleEndTimeMillis:Date.now()+(0,o.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(a)];case 6:return s.sent(),[2,this.attemptFetch(t,a)];case 7:return[2]}}))}))},t}(),Co="@firebase/remote-config",So="0.1.43";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ao(t){function e(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw eo.create("registration-window");var s=i.options,u=s.projectId,c=s.apiKey,l=s.appId;if(!u)throw eo.create("registration-project-id");if(!c)throw eo.create("registration-api-key");if(!l)throw eo.create("registration-app-id");r=r||"firebase";var f=new wo(l,i.name,r),h=new Eo(f),p=new a.Logger(Co);p.logLevel=a.LogLevel.ERROR;var d=new io(o,t.SDK_VERSION,r,u,c,l),v=new ko(d,f),g=new Zi(v,f,h,p),m=new po(i,g,h,f,p);return m.ensureInitialized(),m}t.INTERNAL.registerComponent(new c.Component("remoteConfig",e,"PUBLIC").setMultipleInstances(!0)),t.registerVersion(Co,So)}Ao(r["default"]);n(389);var xo="firebase",No="8.10.1";
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r["default"].registerVersion(xo,No,"app"),r["default"].SDK_VERSION=No;var Oo="firebase",Ro="8.10.1";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),r["default"].registerVersion(Oo,Ro)},4918:function(t,e,n){"use strict";n(5427)},5711:function(t,e,n){"use strict";n(527)},6225:function(t,e){(function(t,n){n(e)})(0,(function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function r(t,e,r){var i,o=new Promise((function(o,a){i=t[e].apply(t,r),n(i).then(o,a)}));return o.request=i,o}function i(t,e,n){var i=r(t,e,n);return i.then((function(t){if(t)return new l(t,i.request)}))}function o(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function a(t,e,n,i){i.forEach((function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})}))}function s(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function u(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})}))}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function f(t){this._store=t}function h(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function p(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new h(n)}function d(t){this._db=t}function v(t,e,n){var i=r(indexedDB,"open",[t,e]),o=i.request;return o&&(o.onupgradeneeded=function(t){n&&n(new p(o.result,t.oldVersion,o.transaction))}),i.then((function(t){return new d(t)}))}function g(t){return r(indexedDB,"deleteDatabase",[t])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then((function(t){if(t)return new l(t,e._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),p.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["deleteObjectStore","close"]),d.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[f,c].forEach((function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,o=i[t].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})})),t.openDb=v,t.deleteDb=g,Object.defineProperty(t,"__esModule",{value:!0})}))},9334:function(t,e,n){"use strict";n(1703),e.my=e.ut=e.Qc=e.uj=void 0;var r="\\d+",i="".concat(r,"(?:[\\.,]").concat(r,")?"),o="(".concat(r,"Y)?(").concat(r,"M)?(").concat(r,"W)?(").concat(r,"D)?"),a="T(".concat(i,"H)?(").concat(i,"M)?(").concat(i,"S)?"),s="P(?:".concat(o,"(?:").concat(a,")?)"),u=["years","months","weeks","days","hours","minutes","seconds"],c=Object.freeze({years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0});e.uj=new RegExp(s);var l=function(t){var n=t.replace(/,/g,".").match(e.uj);if(!n)throw new RangeError("invalid duration: ".concat(t));var r=n.slice(1);if(0===r.filter((function(t){return null!=t})).length)throw new RangeError("invalid duration: ".concat(t));if(r.filter((function(t){return/\./.test(t||"")})).length>1)throw new RangeError("only the smallest unit can be fractional");return r.reduce((function(t,e,n){return t[u[n]]=parseFloat(e||"0")||0,t}),{})};e.Qc=l;var f=function(t,e){void 0===e&&(e=new Date);var n=Object.assign({},c,t),r=e.getTime(),i=new Date(r);i.setFullYear(i.getFullYear()+n.years),i.setMonth(i.getMonth()+n.months),i.setDate(i.getDate()+n.days);var o=3600*n.hours*1e3,a=60*n.minutes*1e3;return i.setMilliseconds(i.getMilliseconds()+1e3*n.seconds+o+a),i.setDate(i.getDate()+7*n.weeks),i};e.ut=f;var h=function(t,n){void 0===n&&(n=new Date);var r=Object.assign({},c,t),i=n.getTime(),o=new Date(i),a=(0,e.ut)(r,o),s=(a.getTime()-o.getTime())/1e3;return s};e.my=h,e.ut,e.my,e.uj,e.Qc},4270:function(t,e,n){"use strict";n.r(e),n.d(e,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return E},__await:function(){return _},__awaiter:function(){return l},__classPrivateFieldGet:function(){return S},__classPrivateFieldSet:function(){return A},__createBinding:function(){return h},__decorate:function(){return s},__exportStar:function(){return p},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return C},__importStar:function(){return k},__makeTemplateObject:function(){return I},__metadata:function(){return c},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return g},__spreadArray:function(){return y},__spreadArrays:function(){return m},__values:function(){return d}});n(1703);var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r["throw"](t))}catch(e){o(e)}}function u(t){t.done?n(t.value):i(t.value).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function f(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,r&&(i=2&o[0]?r["return"]:o[0]?r["throw"]||((i=r["return"])&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(i=a.trys,!(i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}var h=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function p(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||h(e,t,n)}function d(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(r=o.next()).done)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o["return"])&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(v(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function _(t){return this instanceof _?(this.v=t,this):new _(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||s(t,e)}))})}function s(t,e){try{u(i[t](e))}catch(n){f(o[0][3],n)}}function u(t){t.value instanceof _?Promise.resolve(t.value.v).then(c,l):f(o[0][2],t)}function c(t){s("next",t)}function l(t){s("throw",t)}function f(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:_(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function E(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t="function"===typeof d?d(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){e=t[n](e),i(r,o,e.done,e.value)}))}}function i(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}}function I(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var T=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t["default"]=e};function k(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&h(e,t,n);return T(e,t),e}function C(t){return t&&t.__esModule?t:{default:t}}function S(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function A(t,e,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(t,n):i?i.value=n:e.set(t,n),n}},905:function(t,e,n){"use strict";n.d(e,{Z:function(){return d}});n(8675),n(3462),n(1703);var r,i=new Uint8Array(16);function o(){if(!r&&(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function s(t){return"string"===typeof t&&a.test(t)}for(var u=s,c=[],l=0;l<256;++l)c.push((l+256).toString(16).substr(1));function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(c[t[e+0]]+c[t[e+1]]+c[t[e+2]]+c[t[e+3]]+"-"+c[t[e+4]]+c[t[e+5]]+"-"+c[t[e+6]]+c[t[e+7]]+"-"+c[t[e+8]]+c[t[e+9]]+"-"+c[t[e+10]]+c[t[e+11]]+c[t[e+12]]+c[t[e+13]]+c[t[e+14]]+c[t[e+15]]).toLowerCase();if(!u(n))throw TypeError("Stringified UUID is invalid");return n}var h=f;function p(t,e,n){t=t||{};var r=t.random||(t.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return h(r)}var d=p},9483:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!t.vueAxiosInstalled){var n=s(e)?u(e):e;if(c(n)){var r=l(t);if(r){var i=r<3?o:a;Object.keys(n).forEach((function(e){i(t,e,n[e])})),t.vueAxiosInstalled=!0}else console.error("[vue-axios] unknown Vue version")}else console.error("[vue-axios] configuration is invalid, expected options are either <axios_instance> or { <registration_key>: <axios_instance> }")}}function o(t,e,n){Object.defineProperty(t.prototype,e,{get:function(){return n}}),t[e]=n}function a(t,e,n){t.config.globalProperties[e]=n,t[e]=n}function s(t){return t&&"function"==typeof t.get&&"function"==typeof t.post}function u(t){return{axios:t,$http:t}}function c(t){return"object"===r(t)&&Object.keys(t).every((function(e){return s(t[e])}))}function l(t){return t&&t.version&&Number(t.version.split(".")[0])}n.d(e,{Z:function(){return i}}),t=n.hmd(t),"object"==("undefined"==typeof exports?"undefined":r(exports))?t.exports=i:"function"==typeof define&&n.amdO?define([],(function(){return i})):window.Vue&&window.axios&&window.Vue.use&&Vue.use(i,window.axios)},2809:function(t,e,n){"use strict";n(1703);function r(t,e){for(var n in e)t[n]=e[n];return t}var i=/[!'()*]/g,o=function(t){return"%"+t.charCodeAt(0).toString(16)},a=/%2C/g,s=function(t){return encodeURIComponent(t).replace(i,o).replace(a,",")};function u(t){try{return decodeURIComponent(t)}catch(e){0}return t}function c(t,e,n){void 0===e&&(e={});var r,i=n||f;try{r=i(t||"")}catch(s){r={}}for(var o in e){var a=e[o];r[o]=Array.isArray(a)?a.map(l):l(a)}return r}var l=function(t){return null==t||"object"===typeof t?t:String(t)};function f(t){var e={};return t=t.trim().replace(/^(\?|#|&)/,""),t?(t.split("&").forEach((function(t){var n=t.replace(/\+/g," ").split("="),r=u(n.shift()),i=n.length>0?u(n.join("=")):null;void 0===e[r]?e[r]=i:Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]})),e):e}function h(t){var e=t?Object.keys(t).map((function(e){var n=t[e];if(void 0===n)return"";if(null===n)return s(e);if(Array.isArray(n)){var r=[];return n.forEach((function(t){void 0!==t&&(null===t?r.push(s(e)):r.push(s(e)+"="+s(t)))})),r.join("&")}return s(e)+"="+s(n)})).filter((function(t){return t.length>0})).join("&"):null;return e?"?"+e:""}var p=/\/?$/;function d(t,e,n,r){var i=r&&r.options.stringifyQuery,o=e.query||{};try{o=v(o)}catch(s){}var a={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:o,params:e.params||{},fullPath:y(e,i),matched:t?m(t):[]};return n&&(a.redirectedFrom=y(n,i)),Object.freeze(a)}function v(t){if(Array.isArray(t))return t.map(v);if(t&&"object"===typeof t){var e={};for(var n in t)e[n]=v(t[n]);return e}return t}var g=d(null,{path:"/"});function m(t){var e=[];while(t)e.unshift(t),t=t.parent;return e}function y(t,e){var n=t.path,r=t.query;void 0===r&&(r={});var i=t.hash;void 0===i&&(i="");var o=e||h;return(n||"/")+o(r)+i}function _(t,e,n){return e===g?t===e:!!e&&(t.path&&e.path?t.path.replace(p,"")===e.path.replace(p,"")&&(n||t.hash===e.hash&&b(t.query,e.query)):!(!t.name||!e.name)&&(t.name===e.name&&(n||t.hash===e.hash&&b(t.query,e.query)&&b(t.params,e.params))))}function b(t,e){if(void 0===t&&(t={}),void 0===e&&(e={}),!t||!e)return t===e;var n=Object.keys(t).sort(),r=Object.keys(e).sort();return n.length===r.length&&n.every((function(n,i){var o=t[n],a=r[i];if(a!==n)return!1;var s=e[n];return null==o||null==s?o===s:"object"===typeof o&&"object"===typeof s?b(o,s):String(o)===String(s)}))}function w(t,e){return 0===t.path.replace(p,"/").indexOf(e.path.replace(p,"/"))&&(!e.hash||t.hash===e.hash)&&E(t.query,e.query)}function E(t,e){for(var n in e)if(!(n in t))return!1;return!0}function I(t){for(var e=0;e<t.matched.length;e++){var n=t.matched[e];for(var r in n.instances){var i=n.instances[r],o=n.enteredCbs[r];if(i&&o){delete n.enteredCbs[r];for(var a=0;a<o.length;a++)i._isBeingDestroyed||o[a](i)}}}}var T={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,i=e.children,o=e.parent,a=e.data;a.routerView=!0;var s=o.$createElement,u=n.name,c=o.$route,l=o._routerViewCache||(o._routerViewCache={}),f=0,h=!1;while(o&&o._routerRoot!==o){var p=o.$vnode?o.$vnode.data:{};p.routerView&&f++,p.keepAlive&&o._directInactive&&o._inactive&&(h=!0),o=o.$parent}if(a.routerViewDepth=f,h){var d=l[u],v=d&&d.component;return v?(d.configProps&&k(v,a,d.route,d.configProps),s(v,a,i)):s()}var g=c.matched[f],m=g&&g.components[u];if(!g||!m)return l[u]=null,s();l[u]={component:m},a.registerRouteInstance=function(t,e){var n=g.instances[u];(e&&n!==t||!e&&n===t)&&(g.instances[u]=e)},(a.hook||(a.hook={})).prepatch=function(t,e){g.instances[u]=e.componentInstance},a.hook.init=function(t){t.data.keepAlive&&t.componentInstance&&t.componentInstance!==g.instances[u]&&(g.instances[u]=t.componentInstance),I(c)};var y=g.props&&g.props[u];return y&&(r(l[u],{route:c,configProps:y}),k(m,a,c,y)),s(m,a,i)}};function k(t,e,n,i){var o=e.props=C(n,i);if(o){o=e.props=r({},o);var a=e.attrs=e.attrs||{};for(var s in o)t.props&&s in t.props||(a[s]=o[s],delete o[s])}}function C(t,e){switch(typeof e){case"undefined":return;case"object":return e;case"function":return e(t);case"boolean":return e?t.params:void 0;default:0}}function S(t,e,n){var r=t.charAt(0);if("/"===r)return t;if("?"===r||"#"===r)return e+t;var i=e.split("/");n&&i[i.length-1]||i.pop();for(var o=t.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function A(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var i=t.indexOf("?");return i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),{path:t,query:n,hash:e}}function x(t){return t.replace(/\/+/g,"/")}var N=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},O=Q,R=j,P=F,D=V,L=Y,M=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function j(t,e){var n,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/";while(null!=(n=M.exec(t))){var u=n[0],c=n[1],l=n.index;if(a+=t.slice(o,l),o=l+u.length,c)a+=c[1];else{var f=t[o],h=n[2],p=n[3],d=n[4],v=n[5],g=n[6],m=n[7];a&&(r.push(a),a="");var y=null!=h&&null!=f&&f!==h,_="+"===g||"*"===g,b="?"===g||"*"===g,w=n[2]||s,E=d||v;r.push({name:p||i++,prefix:h||"",delimiter:w,optional:b,repeat:_,partial:y,asterisk:!!m,pattern:E?K(E):m?".*":"[^"+B(w)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&r.push(a),r}function F(t,e){return V(j(t,e),e)}function U(t){return encodeURI(t).replace(/[\/?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function q(t){return encodeURI(t).replace(/[?#]/g,(function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()}))}function V(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)"object"===typeof t[r]&&(n[r]=new RegExp("^(?:"+t[r].pattern+")$",H(e)));return function(e,r){for(var i="",o=e||{},a=r||{},s=a.pretty?U:encodeURIComponent,u=0;u<t.length;u++){var c=t[u];if("string"!==typeof c){var l,f=o[c.name];if(null==f){if(c.optional){c.partial&&(i+=c.prefix);continue}throw new TypeError('Expected "'+c.name+'" to be defined')}if(N(f)){if(!c.repeat)throw new TypeError('Expected "'+c.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(c.optional)continue;throw new TypeError('Expected "'+c.name+'" to not be empty')}for(var h=0;h<f.length;h++){if(l=s(f[h]),!n[u].test(l))throw new TypeError('Expected all "'+c.name+'" to match "'+c.pattern+'", but received `'+JSON.stringify(l)+"`");i+=(0===h?c.prefix:c.delimiter)+l}}else{if(l=c.asterisk?q(f):s(f),!n[u].test(l))throw new TypeError('Expected "'+c.name+'" to match "'+c.pattern+'", but received "'+l+'"');i+=c.prefix+l}}else i+=c}return i}}function B(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function K(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function z(t,e){return t.keys=e,t}function H(t){return t&&t.sensitive?"":"i"}function W(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return z(t,e)}function G(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(Q(t[i],e,n).source);var o=new RegExp("(?:"+r.join("|")+")",H(n));return z(o,e)}function $(t,e,n){return Y(j(t,n),e,n)}function Y(t,e,n){N(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"===typeof s)o+=B(s);else{var u=B(s.prefix),c="(?:"+s.pattern+")";e.push(s),s.repeat&&(c+="(?:"+u+c+")*"),c=s.optional?s.partial?u+"("+c+")?":"(?:"+u+"("+c+"))?":u+"("+c+")",o+=c}}var l=B(n.delimiter||"/"),f=o.slice(-l.length)===l;return r||(o=(f?o.slice(0,-l.length):o)+"(?:"+l+"(?=$))?"),o+=i?"$":r&&f?"":"(?="+l+"|$)",z(new RegExp("^"+o,H(n)),e)}function Q(t,e,n){return N(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?W(t,e):N(t)?G(t,e,n):$(t,e,n)}O.parse=R,O.compile=P,O.tokensToFunction=D,O.tokensToRegExp=L;var X=Object.create(null);function J(t,e,n){e=e||{};try{var r=X[t]||(X[t]=O.compile(t));return"string"===typeof e.pathMatch&&(e[0]=e.pathMatch),r(e,{pretty:!0})}catch(i){return""}finally{delete e[0]}}function Z(t,e,n,i){var o="string"===typeof t?{path:t}:t;if(o._normalized)return o;if(o.name){o=r({},t);var a=o.params;return a&&"object"===typeof a&&(o.params=r({},a)),o}if(!o.path&&o.params&&e){o=r({},o),o._normalized=!0;var s=r(r({},e.params),o.params);if(e.name)o.name=e.name,o.params=s;else if(e.matched.length){var u=e.matched[e.matched.length-1].path;o.path=J(u,s,"path "+e.path)}else 0;return o}var l=A(o.path||""),f=e&&e.path||"/",h=l.path?S(l.path,f,n||o.append):f,p=c(l.query,o.query,i&&i.options.parseQuery),d=o.hash||l.hash;return d&&"#"!==d.charAt(0)&&(d="#"+d),{_normalized:!0,path:h,query:p,hash:d}}var tt,et=[String,Object],nt=[String,Array],rt=function(){},it={name:"RouterLink",props:{to:{type:et,required:!0},tag:{type:String,default:"a"},custom:Boolean,exact:Boolean,exactPath:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,ariaCurrentValue:{type:String,default:"page"},event:{type:nt,default:"click"}},render:function(t){var e=this,n=this.$router,i=this.$route,o=n.resolve(this.to,i,this.append),a=o.location,s=o.route,u=o.href,c={},l=n.options.linkActiveClass,f=n.options.linkExactActiveClass,h=null==l?"router-link-active":l,p=null==f?"router-link-exact-active":f,v=null==this.activeClass?h:this.activeClass,g=null==this.exactActiveClass?p:this.exactActiveClass,m=s.redirectedFrom?d(null,Z(s.redirectedFrom),null,n):s;c[g]=_(i,m,this.exactPath),c[v]=this.exact||this.exactPath?c[g]:w(i,m);var y=c[g]?this.ariaCurrentValue:null,b=function(t){ot(t)&&(e.replace?n.replace(a,rt):n.push(a,rt))},E={click:ot};Array.isArray(this.event)?this.event.forEach((function(t){E[t]=b})):E[this.event]=b;var I={class:c},T=!this.$scopedSlots.$hasNormal&&this.$scopedSlots.default&&this.$scopedSlots.default({href:u,route:s,navigate:b,isActive:c[v],isExactActive:c[g]});if(T){if(1===T.length)return T[0];if(T.length>1||!T.length)return 0===T.length?t():t("span",{},T)}if("a"===this.tag)I.on=E,I.attrs={href:u,"aria-current":y};else{var k=at(this.$slots.default);if(k){k.isStatic=!1;var C=k.data=r({},k.data);for(var S in C.on=C.on||{},C.on){var A=C.on[S];S in E&&(C.on[S]=Array.isArray(A)?A:[A])}for(var x in E)x in C.on?C.on[x].push(E[x]):C.on[x]=b;var N=k.data.attrs=r({},k.data.attrs);N.href=u,N["aria-current"]=y}else I.on=E}return t(this.tag,I,this.$slots.default)}};function ot(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&(void 0===t.button||0===t.button)){if(t.currentTarget&&t.currentTarget.getAttribute){var e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function at(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=at(e.children)))return e}}function st(t){if(!st.installed||tt!==t){st.installed=!0,tt=t;var e=function(t){return void 0!==t},n=function(t,n){var r=t.$options._parentVnode;e(r)&&e(r=r.data)&&e(r=r.registerRouteInstance)&&r(t,n)};t.mixin({beforeCreate:function(){e(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,n(this,this)},destroyed:function(){n(this)}}),Object.defineProperty(t.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this._routerRoot._route}}),t.component("RouterView",T),t.component("RouterLink",it);var r=t.config.optionMergeStrategies;r.beforeRouteEnter=r.beforeRouteLeave=r.beforeRouteUpdate=r.created}}var ut="undefined"!==typeof window;function ct(t,e,n,r,i){var o=e||[],a=n||Object.create(null),s=r||Object.create(null);t.forEach((function(t){lt(o,a,s,t,i)}));for(var u=0,c=o.length;u<c;u++)"*"===o[u]&&(o.push(o.splice(u,1)[0]),c--,u--);return{pathList:o,pathMap:a,nameMap:s}}function lt(t,e,n,r,i,o){var a=r.path,s=r.name;var u=r.pathToRegexpOptions||{},c=ht(a,i,u.strict);"boolean"===typeof r.caseSensitive&&(u.sensitive=r.caseSensitive);var l={path:c,regex:ft(c,u),components:r.components||{default:r.component},alias:r.alias?"string"===typeof r.alias?[r.alias]:r.alias:[],instances:{},enteredCbs:{},name:s,parent:i,matchAs:o,redirect:r.redirect,beforeEnter:r.beforeEnter,meta:r.meta||{},props:null==r.props?{}:r.components?r.props:{default:r.props}};if(r.children&&r.children.forEach((function(r){var i=o?x(o+"/"+r.path):void 0;lt(t,e,n,r,l,i)})),e[l.path]||(t.push(l.path),e[l.path]=l),void 0!==r.alias)for(var f=Array.isArray(r.alias)?r.alias:[r.alias],h=0;h<f.length;++h){var p=f[h];0;var d={path:p,children:r.children};lt(t,e,n,d,i,l.path||"/")}s&&(n[s]||(n[s]=l))}function ft(t,e){var n=O(t,[],e);return n}function ht(t,e,n){return n||(t=t.replace(/\/$/,"")),"/"===t[0]||null==e?t:x(e.path+"/"+t)}function pt(t,e){var n=ct(t),r=n.pathList,i=n.pathMap,o=n.nameMap;function a(t){ct(t,r,i,o)}function s(t,e){var n="object"!==typeof t?o[t]:void 0;ct([e||t],r,i,o,n),n&&n.alias.length&&ct(n.alias.map((function(t){return{path:t,children:[e]}})),r,i,o,n)}function u(){return r.map((function(t){return i[t]}))}function c(t,n,a){var s=Z(t,n,!1,e),u=s.name;if(u){var c=o[u];if(!c)return h(null,s);var l=c.regex.keys.filter((function(t){return!t.optional})).map((function(t){return t.name}));if("object"!==typeof s.params&&(s.params={}),n&&"object"===typeof n.params)for(var f in n.params)!(f in s.params)&&l.indexOf(f)>-1&&(s.params[f]=n.params[f]);return s.path=J(c.path,s.params,'named route "'+u+'"'),h(c,s,a)}if(s.path){s.params={};for(var p=0;p<r.length;p++){var d=r[p],v=i[d];if(dt(v.regex,s.path,s.params))return h(v,s,a)}}return h(null,s)}function l(t,n){var r=t.redirect,i="function"===typeof r?r(d(t,n,null,e)):r;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return h(null,n);var a=i,s=a.name,u=a.path,l=n.query,f=n.hash,p=n.params;if(l=a.hasOwnProperty("query")?a.query:l,f=a.hasOwnProperty("hash")?a.hash:f,p=a.hasOwnProperty("params")?a.params:p,s){o[s];return c({_normalized:!0,name:s,query:l,hash:f,params:p},void 0,n)}if(u){var v=vt(u,t),g=J(v,p,'redirect route with path "'+v+'"');return c({_normalized:!0,path:g,query:l,hash:f},void 0,n)}return h(null,n)}function f(t,e,n){var r=J(n,e.params,'aliased route with path "'+n+'"'),i=c({_normalized:!0,path:r});if(i){var o=i.matched,a=o[o.length-1];return e.params=i.params,h(a,e)}return h(null,e)}function h(t,n,r){return t&&t.redirect?l(t,r||n):t&&t.matchAs?f(t,n,t.matchAs):d(t,n,r,e)}return{match:c,addRoute:s,getRoutes:u,addRoutes:a}}function dt(t,e,n){var r=e.match(t);if(!r)return!1;if(!n)return!0;for(var i=1,o=r.length;i<o;++i){var a=t.keys[i-1];a&&(n[a.name||"pathMatch"]="string"===typeof r[i]?u(r[i]):r[i])}return!0}function vt(t,e){return S(t,e.parent?e.parent.path:"/",!0)}var gt=ut&&window.performance&&window.performance.now?window.performance:Date;function mt(){return gt.now().toFixed(3)}var yt=mt();function _t(){return yt}function bt(t){return yt=t}var wt=Object.create(null);function Et(){"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual");var t=window.location.protocol+"//"+window.location.host,e=window.location.href.replace(t,""),n=r({},window.history.state);return n.key=_t(),window.history.replaceState(n,"",e),window.addEventListener("popstate",kt),function(){window.removeEventListener("popstate",kt)}}function It(t,e,n,r){if(t.app){var i=t.options.scrollBehavior;i&&t.app.$nextTick((function(){var o=Ct(),a=i.call(t,e,n,r?o:null);a&&("function"===typeof a.then?a.then((function(t){Pt(t,o)})).catch((function(t){0})):Pt(a,o))}))}}function Tt(){var t=_t();t&&(wt[t]={x:window.pageXOffset,y:window.pageYOffset})}function kt(t){Tt(),t.state&&t.state.key&&bt(t.state.key)}function Ct(){var t=_t();if(t)return wt[t]}function St(t,e){var n=document.documentElement,r=n.getBoundingClientRect(),i=t.getBoundingClientRect();return{x:i.left-r.left-e.x,y:i.top-r.top-e.y}}function At(t){return Ot(t.x)||Ot(t.y)}function xt(t){return{x:Ot(t.x)?t.x:window.pageXOffset,y:Ot(t.y)?t.y:window.pageYOffset}}function Nt(t){return{x:Ot(t.x)?t.x:0,y:Ot(t.y)?t.y:0}}function Ot(t){return"number"===typeof t}var Rt=/^#\d/;function Pt(t,e){var n="object"===typeof t;if(n&&"string"===typeof t.selector){var r=Rt.test(t.selector)?document.getElementById(t.selector.slice(1)):document.querySelector(t.selector);if(r){var i=t.offset&&"object"===typeof t.offset?t.offset:{};i=Nt(i),e=St(r,i)}else At(t)&&(e=xt(t))}else n&&At(t)&&(e=xt(t));e&&("scrollBehavior"in document.documentElement.style?window.scrollTo({left:e.x,top:e.y,behavior:t.behavior}):window.scrollTo(e.x,e.y))}var Dt=ut&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"function"===typeof window.history.pushState)}();function Lt(t,e){Tt();var n=window.history;try{if(e){var i=r({},n.state);i.key=_t(),n.replaceState(i,"",t)}else n.pushState({key:bt(mt())},"",t)}catch(o){window.location[e?"replace":"assign"](t)}}function Mt(t){Lt(t,!0)}function jt(t,e,n){var r=function(i){i>=t.length?n():t[i]?e(t[i],(function(){r(i+1)})):r(i+1)};r(0)}var Ft={redirected:2,aborted:4,cancelled:8,duplicated:16};function Ut(t,e){return Kt(t,e,Ft.redirected,'Redirected when going from "'+t.fullPath+'" to "'+Ht(e)+'" via a navigation guard.')}function qt(t,e){var n=Kt(t,e,Ft.duplicated,'Avoided redundant navigation to current location: "'+t.fullPath+'".');return n.name="NavigationDuplicated",n}function Vt(t,e){return Kt(t,e,Ft.cancelled,'Navigation cancelled from "'+t.fullPath+'" to "'+e.fullPath+'" with a new navigation.')}function Bt(t,e){return Kt(t,e,Ft.aborted,'Navigation aborted from "'+t.fullPath+'" to "'+e.fullPath+'" via a navigation guard.')}function Kt(t,e,n,r){var i=new Error(r);return i._isRouter=!0,i.from=t,i.to=e,i.type=n,i}var zt=["params","query","hash"];function Ht(t){if("string"===typeof t)return t;if("path"in t)return t.path;var e={};return zt.forEach((function(n){n in t&&(e[n]=t[n])})),JSON.stringify(e,null,2)}function Wt(t){return Object.prototype.toString.call(t).indexOf("Error")>-1}function Gt(t,e){return Wt(t)&&t._isRouter&&(null==e||t.type===e)}function $t(t){return function(e,n,r){var i=!1,o=0,a=null;Yt(t,(function(t,e,n,s){if("function"===typeof t&&void 0===t.cid){i=!0,o++;var u,c=Zt((function(e){Jt(e)&&(e=e.default),t.resolved="function"===typeof e?e:tt.extend(e),n.components[s]=e,o--,o<=0&&r()})),l=Zt((function(t){var e="Failed to resolve async component "+s+": "+t;a||(a=Wt(t)?t:new Error(e),r(a))}));try{u=t(c,l)}catch(h){l(h)}if(u)if("function"===typeof u.then)u.then(c,l);else{var f=u.component;f&&"function"===typeof f.then&&f.then(c,l)}}})),i||r()}}function Yt(t,e){return Qt(t.map((function(t){return Object.keys(t.components).map((function(n){return e(t.components[n],t.instances[n],t,n)}))})))}function Qt(t){return Array.prototype.concat.apply([],t)}var Xt="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Jt(t){return t.__esModule||Xt&&"Module"===t[Symbol.toStringTag]}function Zt(t){var e=!1;return function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!e)return e=!0,t.apply(this,n)}}var te=function(t,e){this.router=t,this.base=ee(e),this.current=g,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[],this.listeners=[]};function ee(t){if(!t)if(ut){var e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^https?:\/\/[^\/]+/,"")}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function ne(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r;n++)if(t[n]!==e[n])break;return{updated:e.slice(0,n),activated:e.slice(n),deactivated:t.slice(n)}}function re(t,e,n,r){var i=Yt(t,(function(t,r,i,o){var a=ie(t,e);if(a)return Array.isArray(a)?a.map((function(t){return n(t,r,i,o)})):n(a,r,i,o)}));return Qt(r?i.reverse():i)}function ie(t,e){return"function"!==typeof t&&(t=tt.extend(t)),t.options[e]}function oe(t){return re(t,"beforeRouteLeave",se,!0)}function ae(t){return re(t,"beforeRouteUpdate",se)}function se(t,e){if(e)return function(){return t.apply(e,arguments)}}function ue(t){return re(t,"beforeRouteEnter",(function(t,e,n,r){return ce(t,n,r)}))}function ce(t,e,n){return function(r,i,o){return t(r,i,(function(t){"function"===typeof t&&(e.enteredCbs[n]||(e.enteredCbs[n]=[]),e.enteredCbs[n].push(t)),o(t)}))}}te.prototype.listen=function(t){this.cb=t},te.prototype.onReady=function(t,e){this.ready?t():(this.readyCbs.push(t),e&&this.readyErrorCbs.push(e))},te.prototype.onError=function(t){this.errorCbs.push(t)},te.prototype.transitionTo=function(t,e,n){var r,i=this;try{r=this.router.match(t,this.current)}catch(a){throw this.errorCbs.forEach((function(t){t(a)})),a}var o=this.current;this.confirmTransition(r,(function(){i.updateRoute(r),e&&e(r),i.ensureURL(),i.router.afterHooks.forEach((function(t){t&&t(r,o)})),i.ready||(i.ready=!0,i.readyCbs.forEach((function(t){t(r)})))}),(function(t){n&&n(t),t&&!i.ready&&(Gt(t,Ft.redirected)&&o===g||(i.ready=!0,i.readyErrorCbs.forEach((function(e){e(t)}))))}))},te.prototype.confirmTransition=function(t,e,n){var r=this,i=this.current;this.pending=t;var o=function(t){!Gt(t)&&Wt(t)&&(r.errorCbs.length?r.errorCbs.forEach((function(e){e(t)})):console.error(t)),n&&n(t)},a=t.matched.length-1,s=i.matched.length-1;if(_(t,i)&&a===s&&t.matched[a]===i.matched[s])return this.ensureURL(),t.hash&&It(this.router,i,t,!1),o(qt(i,t));var u=ne(this.current.matched,t.matched),c=u.updated,l=u.deactivated,f=u.activated,h=[].concat(oe(l),this.router.beforeHooks,ae(c),f.map((function(t){return t.beforeEnter})),$t(f)),p=function(e,n){if(r.pending!==t)return o(Vt(i,t));try{e(t,i,(function(e){!1===e?(r.ensureURL(!0),o(Bt(i,t))):Wt(e)?(r.ensureURL(!0),o(e)):"string"===typeof e||"object"===typeof e&&("string"===typeof e.path||"string"===typeof e.name)?(o(Ut(i,t)),"object"===typeof e&&e.replace?r.replace(e):r.push(e)):n(e)}))}catch(a){o(a)}};jt(h,p,(function(){var n=ue(f),a=n.concat(r.router.resolveHooks);jt(a,p,(function(){if(r.pending!==t)return o(Vt(i,t));r.pending=null,e(t),r.router.app&&r.router.app.$nextTick((function(){I(t)}))}))}))},te.prototype.updateRoute=function(t){this.current=t,this.cb&&this.cb(t)},te.prototype.setupListeners=function(){},te.prototype.teardown=function(){this.listeners.forEach((function(t){t()})),this.listeners=[],this.current=g,this.pending=null};var le=function(t){function e(e,n){t.call(this,e,n),this._startLocation=fe(this.base)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=Dt&&n;r&&this.listeners.push(Et());var i=function(){var n=t.current,i=fe(t.base);t.current===g&&i===t._startLocation||t.transitionTo(i,(function(t){r&&It(e,t,n,!0)}))};window.addEventListener("popstate",i),this.listeners.push((function(){window.removeEventListener("popstate",i)}))}},e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){Lt(x(r.base+t.fullPath)),It(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){Mt(x(r.base+t.fullPath)),It(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.ensureURL=function(t){if(fe(this.base)!==this.current.fullPath){var e=x(this.base+this.current.fullPath);t?Lt(e):Mt(e)}},e.prototype.getCurrentLocation=function(){return fe(this.base)},e}(te);function fe(t){var e=window.location.pathname,n=e.toLowerCase(),r=t.toLowerCase();return!t||n!==r&&0!==n.indexOf(x(r+"/"))||(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}var he=function(t){function e(e,n,r){t.call(this,e,n),r&&pe(this.base)||de()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setupListeners=function(){var t=this;if(!(this.listeners.length>0)){var e=this.router,n=e.options.scrollBehavior,r=Dt&&n;r&&this.listeners.push(Et());var i=function(){var e=t.current;de()&&t.transitionTo(ve(),(function(n){r&&It(t.router,n,e,!0),Dt||ye(n.fullPath)}))},o=Dt?"popstate":"hashchange";window.addEventListener(o,i),this.listeners.push((function(){window.removeEventListener(o,i)}))}},e.prototype.push=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){me(t.fullPath),It(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this,i=this,o=i.current;this.transitionTo(t,(function(t){ye(t.fullPath),It(r.router,t,o,!1),e&&e(t)}),n)},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;ve()!==e&&(t?me(e):ye(e))},e.prototype.getCurrentLocation=function(){return ve()},e}(te);function pe(t){var e=fe(t);if(!/^\/#/.test(e))return window.location.replace(x(t+"/#"+e)),!0}function de(){var t=ve();return"/"===t.charAt(0)||(ye("/"+t),!1)}function ve(){var t=window.location.href,e=t.indexOf("#");return e<0?"":(t=t.slice(e+1),t)}function ge(t){var e=window.location.href,n=e.indexOf("#"),r=n>=0?e.slice(0,n):e;return r+"#"+t}function me(t){Dt?Lt(ge(t)):window.location.hash=t}function ye(t){Dt?Mt(ge(t)):window.location.replace(ge(t))}var _e=function(t){function e(e,n){t.call(this,e,n),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index+1).concat(t),r.index++,e&&e(t)}),n)},e.prototype.replace=function(t,e,n){var r=this;this.transitionTo(t,(function(t){r.stack=r.stack.slice(0,r.index).concat(t),e&&e(t)}),n)},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,(function(){var t=e.current;e.index=n,e.updateRoute(r),e.router.afterHooks.forEach((function(e){e&&e(r,t)}))}),(function(t){Gt(t,Ft.duplicated)&&(e.index=n)}))}},e.prototype.getCurrentLocation=function(){var t=this.stack[this.stack.length-1];return t?t.fullPath:"/"},e.prototype.ensureURL=function(){},e}(te),be=function(t){void 0===t&&(t={}),this.app=null,this.apps=[],this.options=t,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=pt(t.routes||[],this);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Dt&&!1!==t.fallback,this.fallback&&(e="hash"),ut||(e="abstract"),this.mode=e,e){case"history":this.history=new le(this,t.base);break;case"hash":this.history=new he(this,t.base,this.fallback);break;case"abstract":this.history=new _e(this,t.base);break;default:0}},we={currentRoute:{configurable:!0}};function Ee(t,e){return t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function Ie(t,e,n){var r="hash"===n?"#"+e:e;return t?x(t+"/"+r):r}be.prototype.match=function(t,e,n){return this.matcher.match(t,e,n)},we.currentRoute.get=function(){return this.history&&this.history.current},be.prototype.init=function(t){var e=this;if(this.apps.push(t),t.$once("hook:destroyed",(function(){var n=e.apps.indexOf(t);n>-1&&e.apps.splice(n,1),e.app===t&&(e.app=e.apps[0]||null),e.app||e.history.teardown()})),!this.app){this.app=t;var n=this.history;if(n instanceof le||n instanceof he){var r=function(t){var r=n.current,i=e.options.scrollBehavior,o=Dt&&i;o&&"fullPath"in t&&It(e,t,r,!1)},i=function(t){n.setupListeners(),r(t)};n.transitionTo(n.getCurrentLocation(),i,i)}n.listen((function(t){e.apps.forEach((function(e){e._route=t}))}))}},be.prototype.beforeEach=function(t){return Ee(this.beforeHooks,t)},be.prototype.beforeResolve=function(t){return Ee(this.resolveHooks,t)},be.prototype.afterEach=function(t){return Ee(this.afterHooks,t)},be.prototype.onReady=function(t,e){this.history.onReady(t,e)},be.prototype.onError=function(t){this.history.onError(t)},be.prototype.push=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.push(t,e,n)}));this.history.push(t,e,n)},be.prototype.replace=function(t,e,n){var r=this;if(!e&&!n&&"undefined"!==typeof Promise)return new Promise((function(e,n){r.history.replace(t,e,n)}));this.history.replace(t,e,n)},be.prototype.go=function(t){this.history.go(t)},be.prototype.back=function(){this.go(-1)},be.prototype.forward=function(){this.go(1)},be.prototype.getMatchedComponents=function(t){var e=t?t.matched?t:this.resolve(t).route:this.currentRoute;return e?[].concat.apply([],e.matched.map((function(t){return Object.keys(t.components).map((function(e){return t.components[e]}))}))):[]},be.prototype.resolve=function(t,e,n){e=e||this.history.current;var r=Z(t,e,n,this),i=this.match(r,e),o=i.redirectedFrom||i.fullPath,a=this.history.base,s=Ie(a,o,this.mode);return{location:r,route:i,href:s,normalizedTo:r,resolved:i}},be.prototype.getRoutes=function(){return this.matcher.getRoutes()},be.prototype.addRoute=function(t,e){this.matcher.addRoute(t,e),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},be.prototype.addRoutes=function(t){this.matcher.addRoutes(t),this.history.current!==g&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(be.prototype,we),be.install=st,be.version="3.5.3",be.isNavigationFailure=Gt,be.NavigationFailureType=Ft,be.START_LOCATION=g,ut&&window.Vue&&window.Vue.use(be),e["Z"]=be},8935:function(t,e,n){"use strict";n(4633);var r=Object.freeze({});function i(t){return void 0===t||null===t}function o(t){return void 0!==t&&null!==t}function a(t){return!0===t}function s(t){return!1===t}function u(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function c(t){return null!==t&&"object"===typeof t}var l=Object.prototype.toString;function f(t){return"[object Object]"===l.call(t)}function h(t){return"[object RegExp]"===l.call(t)}function p(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return o(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function v(t){return null==t?"":Array.isArray(t)||f(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function g(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}m("slot,component",!0);var y=m("key,ref,slot,slot-scope,is");function _(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function w(t,e){return b.call(t,e)}function E(t){var e=Object.create(null);return function(n){var r=e[n];return r||(e[n]=t(n))}}var I=/-(\w)/g,T=E((function(t){return t.replace(I,(function(t,e){return e?e.toUpperCase():""}))})),k=E((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),C=/\B([A-Z])/g,S=E((function(t){return t.replace(C,"-$1").toLowerCase()}));function A(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function x(t,e){return t.bind(e)}var N=Function.prototype.bind?x:A;function O(t,e){e=e||0;var n=t.length-e,r=new Array(n);while(n--)r[n]=t[n+e];return r}function R(t,e){for(var n in e)t[n]=e[n];return t}function P(t){for(var e={},n=0;n<t.length;n++)t[n]&&R(e,t[n]);return e}function D(t,e,n){}var L=function(t,e,n){return!1},M=function(t){return t};function j(t,e){if(t===e)return!0;var n=c(t),r=c(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),o=Array.isArray(e);if(i&&o)return t.length===e.length&&t.every((function(t,n){return j(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every((function(n){return j(t[n],e[n])}))}catch(u){return!1}}function F(t,e){for(var n=0;n<t.length;n++)if(j(t[n],e))return n;return-1}function U(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var q="data-server-rendered",V=["component","directive","filter"],B=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],K={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:L,isReservedAttr:L,isUnknownElement:L,getTagNamespace:D,parsePlatformTagName:M,mustUseProp:L,async:!0,_lifecycleHooks:B},z=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function H(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function W(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var G=new RegExp("[^"+z.source+".$_\\d]");function $(t){if(!G.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var Y,Q="__proto__"in{},X="undefined"!==typeof window,J="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,Z=J&&WXEnvironment.platform.toLowerCase(),tt=X&&window.navigator.userAgent.toLowerCase(),et=tt&&/msie|trident/.test(tt),nt=tt&&tt.indexOf("msie 9.0")>0,rt=tt&&tt.indexOf("edge/")>0,it=(tt&&tt.indexOf("android"),tt&&/iphone|ipad|ipod|ios/.test(tt)||"ios"===Z),ot=(tt&&/chrome\/\d+/.test(tt),tt&&/phantomjs/.test(tt),tt&&tt.match(/firefox\/(\d+)/)),at={}.watch,st=!1;if(X)try{var ut={};Object.defineProperty(ut,"passive",{get:function(){st=!0}}),window.addEventListener("test-passive",null,ut)}catch(ka){}var ct=function(){return void 0===Y&&(Y=!X&&!J&&"undefined"!==typeof n.g&&(n.g["process"]&&"server"===n.g["process"].env.VUE_ENV)),Y},lt=X&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ft(t){return"function"===typeof t&&/native code/.test(t.toString())}var ht,pt="undefined"!==typeof Symbol&&ft(Symbol)&&"undefined"!==typeof Reflect&&ft(Reflect.ownKeys);ht="undefined"!==typeof Set&&ft(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var dt=D,vt=0,gt=function(){this.id=vt++,this.subs=[]};gt.prototype.addSub=function(t){this.subs.push(t)},gt.prototype.removeSub=function(t){_(this.subs,t)},gt.prototype.depend=function(){gt.target&&gt.target.addDep(this)},gt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},gt.target=null;var mt=[];function yt(t){mt.push(t),gt.target=t}function _t(){mt.pop(),gt.target=mt[mt.length-1]}var bt=function(t,e,n,r,i,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},wt={child:{configurable:!0}};wt.child.get=function(){return this.componentInstance},Object.defineProperties(bt.prototype,wt);var Et=function(t){void 0===t&&(t="");var e=new bt;return e.text=t,e.isComment=!0,e};function It(t){return new bt(void 0,void 0,void 0,String(t))}function Tt(t){var e=new bt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var kt=Array.prototype,Ct=Object.create(kt),St=["push","pop","shift","unshift","splice","sort","reverse"];St.forEach((function(t){var e=kt[t];W(Ct,t,(function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];var i,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2);break}return i&&a.observeArray(i),a.dep.notify(),o}))}));var At=Object.getOwnPropertyNames(Ct),xt=!0;function Nt(t){xt=t}var Ot=function(t){this.value=t,this.dep=new gt,this.vmCount=0,W(t,"__ob__",this),Array.isArray(t)?(Q?Rt(t,Ct):Pt(t,Ct,At),this.observeArray(t)):this.walk(t)};function Rt(t,e){t.__proto__=e}function Pt(t,e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];W(t,o,e[o])}}function Dt(t,e){var n;if(c(t)&&!(t instanceof bt))return w(t,"__ob__")&&t.__ob__ instanceof Ot?n=t.__ob__:xt&&!ct()&&(Array.isArray(t)||f(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Ot(t)),e&&n&&n.vmCount++,n}function Lt(t,e,n,r,i){var o=new gt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set;s&&!u||2!==arguments.length||(n=t[e]);var c=!i&&Dt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return gt.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&Ft(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!==e&&r!==r||s&&!u||(u?u.call(t,e):n=e,c=!i&&Dt(e),o.notify())}})}}function Mt(t,e,n){if(Array.isArray(t)&&p(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Lt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function jt(t,e){if(Array.isArray(t)&&p(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||w(t,e)&&(delete t[e],n&&n.dep.notify())}}function Ft(t){for(var e=void 0,n=0,r=t.length;n<r;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Ft(e)}Ot.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Lt(t,e[n])},Ot.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Dt(t[e])};var Ut=K.optionMergeStrategies;function qt(t,e){if(!e)return t;for(var n,r,i,o=pt?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)n=o[a],"__ob__"!==n&&(r=t[n],i=e[n],w(t,n)?r!==i&&f(r)&&f(i)&&qt(r,i):Mt(t,n,i));return t}function Vt(t,e,n){return n?function(){var r="function"===typeof e?e.call(n,n):e,i="function"===typeof t?t.call(n,n):t;return r?qt(r,i):i}:e?t?function(){return qt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Bt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?Kt(n):n}function Kt(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function zt(t,e,n,r){var i=Object.create(t||null);return e?R(i,e):i}Ut.data=function(t,e,n){return n?Vt(t,e,n):e&&"function"!==typeof e?t:Vt(t,e)},B.forEach((function(t){Ut[t]=Bt})),V.forEach((function(t){Ut[t+"s"]=zt})),Ut.watch=function(t,e,n,r){if(t===at&&(t=void 0),e===at&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var o in R(i,t),e){var a=i[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Ut.props=Ut.methods=Ut.inject=Ut.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return R(i,t),e&&R(i,e),i},Ut.provide=Vt;var Ht=function(t,e){return void 0===e?t:e};function Wt(t,e){var n=t.props;if(n){var r,i,o,a={};if(Array.isArray(n)){r=n.length;while(r--)i=n[r],"string"===typeof i&&(o=T(i),a[o]={type:null})}else if(f(n))for(var s in n)i=n[s],o=T(s),a[o]=f(i)?i:{type:i};else 0;t.props=a}}function Gt(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(f(n))for(var o in n){var a=n[o];r[o]=f(a)?R({from:o},a):{from:a}}else 0}}function $t(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"===typeof r&&(e[n]={bind:r,update:r})}}function Yt(t,e,n){if("function"===typeof e&&(e=e.options),Wt(e,n),Gt(e,n),$t(e),!e._base&&(e.extends&&(t=Yt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Yt(t,e.mixins[r],n);var o,a={};for(o in t)s(o);for(o in e)w(t,o)||s(o);function s(r){var i=Ut[r]||Ht;a[r]=i(t[r],e[r],n,r)}return a}function Qt(t,e,n,r){if("string"===typeof n){var i=t[e];if(w(i,n))return i[n];var o=T(n);if(w(i,o))return i[o];var a=k(o);if(w(i,a))return i[a];var s=i[n]||i[o]||i[a];return s}}function Xt(t,e,n,r){var i=e[t],o=!w(n,t),a=n[t],s=ne(Boolean,i.type);if(s>-1)if(o&&!w(i,"default"))a=!1;else if(""===a||a===S(t)){var u=ne(String,i.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=Jt(r,i,t);var c=xt;Nt(!0),Dt(a),Nt(c)}return a}function Jt(t,e,n){if(w(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof r&&"Function"!==te(e.type)?r.call(t):r}}var Zt=/^\s*function (\w+)/;function te(t){var e=t&&t.toString().match(Zt);return e?e[1]:""}function ee(t,e){return te(t)===te(e)}function ne(t,e){if(!Array.isArray(e))return ee(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(ee(e[n],t))return n;return-1}function re(t,e,n){yt();try{if(e){var r=e;while(r=r.$parent){var i=r.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(r,t,e,n);if(a)return}catch(ka){oe(ka,r,"errorCaptured hook")}}}oe(t,e,n)}finally{_t()}}function ie(t,e,n,r,i){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&d(o)&&!o._handled&&(o.catch((function(t){return re(t,r,i+" (Promise/async)")})),o._handled=!0)}catch(ka){re(ka,r,i)}return o}function oe(t,e,n){if(K.errorHandler)try{return K.errorHandler.call(null,t,e,n)}catch(ka){ka!==t&&ae(ka,null,"config.errorHandler")}ae(t,e,n)}function ae(t,e,n){if(!X&&!J||"undefined"===typeof console)throw t;console.error(t)}var se,ue=!1,ce=[],le=!1;function fe(){le=!1;var t=ce.slice(0);ce.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&ft(Promise)){var he=Promise.resolve();se=function(){he.then(fe),it&&setTimeout(D)},ue=!0}else if(et||"undefined"===typeof MutationObserver||!ft(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())se="undefined"!==typeof setImmediate&&ft(setImmediate)?function(){setImmediate(fe)}:function(){setTimeout(fe,0)};else{var pe=1,de=new MutationObserver(fe),ve=document.createTextNode(String(pe));de.observe(ve,{characterData:!0}),se=function(){pe=(pe+1)%2,ve.data=String(pe)},ue=!0}function ge(t,e){var n;if(ce.push((function(){if(t)try{t.call(e)}catch(ka){re(ka,e,"nextTick")}else n&&n(e)})),le||(le=!0,se()),!t&&"undefined"!==typeof Promise)return new Promise((function(t){n=t}))}var me=new ht;function ye(t){_e(t,me),me.clear()}function _e(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!c(t)||Object.isFrozen(t)||t instanceof bt)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(i){n=t.length;while(n--)_e(t[n],e)}else{r=Object.keys(t),n=r.length;while(n--)_e(t[r[n]],e)}}}var be=E((function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var r="!"===t.charAt(0);return t=r?t.slice(1):t,{name:t,once:n,capture:r,passive:e}}));function we(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return ie(r,null,arguments,e,"v-on handler");for(var i=r.slice(),o=0;o<i.length;o++)ie(i[o],null,t,e,"v-on handler")}return n.fns=t,n}function Ee(t,e,n,r,o,s){var u,c,l,f;for(u in t)c=t[u],l=e[u],f=be(u),i(c)||(i(l)?(i(c.fns)&&(c=t[u]=we(c,s)),a(f.once)&&(c=t[u]=o(f.name,c,f.capture)),n(f.name,c,f.capture,f.passive,f.params)):c!==l&&(l.fns=c,t[u]=l));for(u in e)i(t[u])&&(f=be(u),r(f.name,e[u],f.capture))}function Ie(t,e,n){var r;t instanceof bt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),_(r.fns,u)}i(s)?r=we([u]):o(s.fns)&&a(s.merged)?(r=s,r.fns.push(u)):r=we([s,u]),r.merged=!0,t[e]=r}function Te(t,e,n){var r=e.options.props;if(!i(r)){var a={},s=t.attrs,u=t.props;if(o(s)||o(u))for(var c in r){var l=S(c);ke(a,u,c,l,!0)||ke(a,s,c,l,!1)}return a}}function ke(t,e,n,r,i){if(o(e)){if(w(e,n))return t[n]=e[n],i||delete e[n],!0;if(w(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function Ce(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Se(t){return u(t)?[It(t)]:Array.isArray(t)?xe(t):void 0}function Ae(t){return o(t)&&o(t.text)&&s(t.isComment)}function xe(t,e){var n,r,s,c,l=[];for(n=0;n<t.length;n++)r=t[n],i(r)||"boolean"===typeof r||(s=l.length-1,c=l[s],Array.isArray(r)?r.length>0&&(r=xe(r,(e||"")+"_"+n),Ae(r[0])&&Ae(c)&&(l[s]=It(c.text+r[0].text),r.shift()),l.push.apply(l,r)):u(r)?Ae(c)?l[s]=It(c.text+r):""!==r&&l.push(It(r)):Ae(r)&&Ae(c)?l[s]=It(c.text+r.text):(a(t._isVList)&&o(r.tag)&&i(r.key)&&o(e)&&(r.key="__vlist"+e+"_"+n+"__"),l.push(r)));return l}function Ne(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function Oe(t){var e=Re(t.$options.inject,t);e&&(Nt(!1),Object.keys(e).forEach((function(n){Lt(t,n,e[n])})),Nt(!0))}function Re(t,e){if(t){for(var n=Object.create(null),r=pt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var o=r[i];if("__ob__"!==o){var a=t[o].from,s=e;while(s){if(s._provided&&w(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var u=t[o].default;n[o]="function"===typeof u?u.call(e):u}else 0}}return n}}function Pe(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var o=t[r],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(De)&&delete n[c];return n}function De(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Le(t){return t.isComment&&t.asyncFactory}function Me(t,e,n){var i,o=Object.keys(e).length>0,a=t?!!t.$stable:!o,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(a&&n&&n!==r&&s===n.$key&&!o&&!n.$hasNormal)return n;for(var u in i={},t)t[u]&&"$"!==u[0]&&(i[u]=je(e,u,t[u]))}else i={};for(var c in e)c in i||(i[c]=Fe(e,c));return t&&Object.isExtensible(t)&&(t._normalized=i),W(i,"$stable",a),W(i,"$key",s),W(i,"$hasNormal",o),i}function je(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({});t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Se(t);var e=t&&t[0];return t&&(!e||1===t.length&&e.isComment&&!Le(e))?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function Fe(t,e){return function(){return t[e]}}function Ue(t,e){var n,r,i,a,s;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"===typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(c(t))if(pt&&t[Symbol.iterator]){n=[];var u=t[Symbol.iterator](),l=u.next();while(!l.done)n.push(e(l.value,n.length)),l=u.next()}else for(a=Object.keys(t),n=new Array(a.length),r=0,i=a.length;r<i;r++)s=a[r],n[r]=e(t[s],s,r);return o(n)||(n=[]),n._isVList=!0,n}function qe(t,e,n,r){var i,o=this.$scopedSlots[t];o?(n=n||{},r&&(n=R(R({},r),n)),i=o(n)||("function"===typeof e?e():e)):i=this.$slots[t]||("function"===typeof e?e():e);var a=n&&n.slot;return a?this.$createElement("template",{slot:a},i):i}function Ve(t){return Qt(this.$options,"filters",t,!0)||M}function Be(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Ke(t,e,n,r,i){var o=K.keyCodes[e]||n;return i&&r&&!K.keyCodes[e]?Be(i,r):o?Be(o,t):r?S(r)!==e:void 0===t}function ze(t,e,n,r,i){if(n)if(c(n)){var o;Array.isArray(n)&&(n=P(n));var a=function(a){if("class"===a||"style"===a||y(a))o=t;else{var s=t.attrs&&t.attrs.type;o=r||K.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=T(a),c=S(a);if(!(u in o)&&!(c in o)&&(o[a]=n[a],i)){var l=t.on||(t.on={});l["update:"+a]=function(t){n[a]=t}}};for(var s in n)a(s)}else;return t}function He(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),Ge(r,"__static__"+t,!1)),r}function We(t,e,n){return Ge(t,"__once__"+e+(n?"_"+n:""),!0),t}function Ge(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!==typeof t[r]&&$e(t[r],e+"_"+r,n);else $e(t,e,n)}function $e(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Ye(t,e){if(e)if(f(e)){var n=t.on=t.on?R({},t.on):{};for(var r in e){var i=n[r],o=e[r];n[r]=i?[].concat(i,o):o}}else;return t}function Qe(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var o=t[i];Array.isArray(o)?Qe(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return r&&(e.$key=r),e}function Xe(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"===typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Je(t,e){return"string"===typeof t?e+t:t}function Ze(t){t._o=We,t._n=g,t._s=v,t._l=Ue,t._t=qe,t._q=j,t._i=F,t._m=He,t._f=Ve,t._k=Ke,t._b=ze,t._v=It,t._e=Et,t._u=Qe,t._g=Ye,t._d=Xe,t._p=Je}function tn(t,e,n,i,o){var s,u=this,c=o.options;w(i,"_uid")?(s=Object.create(i),s._original=i):(s=i,i=i._original);var l=a(c._compiled),f=!l;this.data=t,this.props=e,this.children=n,this.parent=i,this.listeners=t.on||r,this.injections=Re(c.inject,i),this.slots=function(){return u.$slots||Me(t.scopedSlots,u.$slots=Pe(n,i)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Me(t.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Me(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,r){var o=dn(s,t,e,n,r,f);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=i),o}:this._c=function(t,e,n,r){return dn(s,t,e,n,r,f)}}function en(t,e,n,i,a){var s=t.options,u={},c=s.props;if(o(c))for(var l in c)u[l]=Xt(l,c,e||r);else o(n.attrs)&&rn(u,n.attrs),o(n.props)&&rn(u,n.props);var f=new tn(n,u,a,i,t),h=s.render.call(null,f._c,f);if(h instanceof bt)return nn(h,n,f.parent,s,f);if(Array.isArray(h)){for(var p=Se(h)||[],d=new Array(p.length),v=0;v<p.length;v++)d[v]=nn(p[v],n,f.parent,s,f);return d}}function nn(t,e,n,r,i){var o=Tt(t);return o.fnContext=n,o.fnOptions=r,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function rn(t,e){for(var n in e)t[T(n)]=e[n]}Ze(tn.prototype);var on={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;on.prepatch(n,n)}else{var r=t.componentInstance=un(t,Rn);r.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,r=e.componentInstance=t.componentInstance;jn(r,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Vn(n,"mounted")),t.data.keepAlive&&(e._isMounted?tr(n):Un(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?qn(e,!0):e.$destroy())}},an=Object.keys(on);function sn(t,e,n,r,s){if(!i(t)){var u=n.$options._base;if(c(t)&&(t=u.extend(t)),"function"===typeof t){var l;if(i(t.cid)&&(l=t,t=Tn(l,u),void 0===t))return In(l,e,n,r,s);e=e||{},Ir(t),o(e.model)&&fn(t.options,e);var f=Te(e,t,s);if(a(t.options.functional))return en(t,f,e,n,r);var h=e.on;if(e.on=e.nativeOn,a(t.options.abstract)){var p=e.slot;e={},p&&(e.slot=p)}cn(e);var d=t.options.name||s,v=new bt("vue-component-"+t.cid+(d?"-"+d:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:f,listeners:h,tag:s,children:r},l);return v}}}function un(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return o(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}function cn(t){for(var e=t.hook||(t.hook={}),n=0;n<an.length;n++){var r=an[n],i=e[r],o=on[r];i===o||i&&i._merged||(e[r]=i?ln(o,i):o)}}function ln(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function fn(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),a=i[r],s=e.model.callback;o(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(i[r]=[s].concat(a)):i[r]=s}var hn=1,pn=2;function dn(t,e,n,r,i,o){return(Array.isArray(n)||u(n))&&(i=r,r=n,n=void 0),a(o)&&(i=pn),vn(t,e,n,r,i)}function vn(t,e,n,r,i){if(o(n)&&o(n.__ob__))return Et();if(o(n)&&o(n.is)&&(e=n.is),!e)return Et();var a,s,u;(Array.isArray(r)&&"function"===typeof r[0]&&(n=n||{},n.scopedSlots={default:r[0]},r.length=0),i===pn?r=Se(r):i===hn&&(r=Ce(r)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||K.getTagNamespace(e),a=K.isReservedTag(e)?new bt(K.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!o(u=Qt(t.$options,"components",e))?new bt(e,n,r,void 0,void 0,t):sn(u,n,t,r,e)):a=sn(e,n,t,r);return Array.isArray(a)?a:o(a)?(o(s)&&gn(a,s),o(n)&&mn(n),a):Et()}function gn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),o(t.children))for(var r=0,s=t.children.length;r<s;r++){var u=t.children[r];o(u.tag)&&(i(u.ns)||a(n)&&"svg"!==u.tag)&&gn(u,e,n)}}function mn(t){c(t.style)&&ye(t.style),c(t.class)&&ye(t.class)}function yn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,i=n&&n.context;t.$slots=Pe(e._renderChildren,i),t.$scopedSlots=r,t._c=function(e,n,r,i){return dn(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return dn(t,e,n,r,i,!0)};var o=n&&n.data;Lt(t,"$attrs",o&&o.attrs||r,null,!0),Lt(t,"$listeners",e._parentListeners||r,null,!0)}var _n,bn=null;function wn(t){Ze(t.prototype),t.prototype.$nextTick=function(t){return ge(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=Me(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{bn=e,t=r.call(e._renderProxy,e.$createElement)}catch(ka){re(ka,e,"render"),t=e._vnode}finally{bn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof bt||(t=Et()),t.parent=i,t}}function En(t,e){return(t.__esModule||pt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function In(t,e,n,r,i){var o=Et();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:r,tag:i},o}function Tn(t,e){if(a(t.error)&&o(t.errorComp))return t.errorComp;if(o(t.resolved))return t.resolved;var n=bn;if(n&&o(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),a(t.loading)&&o(t.loadingComp))return t.loadingComp;if(n&&!o(t.owners)){var r=t.owners=[n],s=!0,u=null,l=null;n.$on("hook:destroyed",(function(){return _(r,n)}));var f=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},h=U((function(n){t.resolved=En(n,e),s?r.length=0:f(!0)})),p=U((function(e){o(t.errorComp)&&(t.error=!0,f(!0))})),v=t(h,p);return c(v)&&(d(v)?i(t.resolved)&&v.then(h,p):d(v.component)&&(v.component.then(h,p),o(v.error)&&(t.errorComp=En(v.error,e)),o(v.loading)&&(t.loadingComp=En(v.loading,e),0===v.delay?t.loading=!0:u=setTimeout((function(){u=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,f(!1))}),v.delay||200)),o(v.timeout)&&(l=setTimeout((function(){l=null,i(t.resolved)&&p(null)}),v.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}function kn(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(o(n)&&(o(n.componentOptions)||Le(n)))return n}}function Cn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Nn(t,e)}function Sn(t,e){_n.$on(t,e)}function An(t,e){_n.$off(t,e)}function xn(t,e){var n=_n;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function Nn(t,e,n){_n=t,Ee(e,n||{},Sn,An,xn,t),_n=void 0}function On(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,o=t.length;i<o;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var s=a.length;while(s--)if(o=a[s],o===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?O(n):n;for(var r=O(arguments,1),i='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)ie(n[o],e,r,e,i)}return e}}var Rn=null;function Pn(t){var e=Rn;return Rn=t,function(){Rn=e}}function Dn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Ln(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,o=Pn(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),o(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Vn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||_(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Vn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Mn(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=Et),Vn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new ir(t,r,D,{before:function(){t._isMounted&&!t._isDestroyed&&Vn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Vn(t,"mounted")),t}function jn(t,e,n,i,o){var a=i.data.scopedSlots,s=t.$scopedSlots,u=!!(a&&!a.$stable||s!==r&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key||!a&&t.$scopedSlots.$key),c=!!(o||t.$options._renderChildren||u);if(t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i),t.$options._renderChildren=o,t.$attrs=i.data.attrs||r,t.$listeners=n||r,e&&t.$options.props){Nt(!1);for(var l=t._props,f=t.$options._propKeys||[],h=0;h<f.length;h++){var p=f[h],d=t.$options.props;l[p]=Xt(p,d,e,t)}Nt(!0),t.$options.propsData=e}n=n||r;var v=t.$options._parentListeners;t.$options._parentListeners=n,Nn(t,n,v),c&&(t.$slots=Pe(o,i.context),t.$forceUpdate())}function Fn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function Un(t,e){if(e){if(t._directInactive=!1,Fn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Un(t.$children[n]);Vn(t,"activated")}}function qn(t,e){if((!e||(t._directInactive=!0,!Fn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)qn(t.$children[n]);Vn(t,"deactivated")}}function Vn(t,e){yt();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,o=n.length;i<o;i++)ie(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),_t()}var Bn=[],Kn=[],zn={},Hn=!1,Wn=!1,Gn=0;function $n(){Gn=Bn.length=Kn.length=0,zn={},Hn=Wn=!1}var Yn=0,Qn=Date.now;if(X&&!et){var Xn=window.performance;Xn&&"function"===typeof Xn.now&&Qn()>document.createEvent("Event").timeStamp&&(Qn=function(){return Xn.now()})}function Jn(){var t,e;for(Yn=Qn(),Wn=!0,Bn.sort((function(t,e){return t.id-e.id})),Gn=0;Gn<Bn.length;Gn++)t=Bn[Gn],t.before&&t.before(),e=t.id,zn[e]=null,t.run();var n=Kn.slice(),r=Bn.slice();$n(),er(n),Zn(r),lt&&K.devtools&&lt.emit("flush")}function Zn(t){var e=t.length;while(e--){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&Vn(r,"updated")}}function tr(t){t._inactive=!1,Kn.push(t)}function er(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Un(t[e],!0)}function nr(t){var e=t.id;if(null==zn[e]){if(zn[e]=!0,Wn){var n=Bn.length-1;while(n>Gn&&Bn[n].id>t.id)n--;Bn.splice(n+1,0,t)}else Bn.push(t);Hn||(Hn=!0,ge(Jn))}}var rr=0,ir=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++rr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ht,this.newDepIds=new ht,this.expression="","function"===typeof e?this.getter=e:(this.getter=$(e),this.getter||(this.getter=D)),this.value=this.lazy?void 0:this.get()};ir.prototype.get=function(){var t;yt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(ka){if(!this.user)throw ka;re(ka,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ye(t),_t(),this.cleanupDeps()}return t},ir.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},ir.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},ir.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():nr(this)},ir.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'+this.expression+'"';ie(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},ir.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ir.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},ir.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||_(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var or={enumerable:!0,configurable:!0,get:D,set:D};function ar(t,e,n){or.get=function(){return this[e][n]},or.set=function(t){this[e][n]=t},Object.defineProperty(t,n,or)}function sr(t){t._watchers=[];var e=t.$options;e.props&&ur(t,e.props),e.methods&&gr(t,e.methods),e.data?cr(t):Dt(t._data={},!0),e.computed&&hr(t,e.computed),e.watch&&e.watch!==at&&mr(t,e.watch)}function ur(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[],o=!t.$parent;o||Nt(!1);var a=function(o){i.push(o);var a=Xt(o,e,n,t);Lt(r,o,a),o in t||ar(t,"_props",o)};for(var s in e)a(s);Nt(!0)}function cr(t){var e=t.$options.data;e=t._data="function"===typeof e?lr(e,t):e||{},f(e)||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);while(i--){var o=n[i];0,r&&w(r,o)||H(o)||ar(t,"_data",o)}Dt(e,!0)}function lr(t,e){yt();try{return t.call(e,e)}catch(ka){return re(ka,e,"data()"),{}}finally{_t()}}var fr={lazy:!0};function hr(t,e){var n=t._computedWatchers=Object.create(null),r=ct();for(var i in e){var o=e[i],a="function"===typeof o?o:o.get;0,r||(n[i]=new ir(t,a||D,D,fr)),i in t||pr(t,i,o)}}function pr(t,e,n){var r=!ct();"function"===typeof n?(or.get=r?dr(e):vr(n),or.set=D):(or.get=n.get?r&&!1!==n.cache?dr(e):vr(n.get):D,or.set=n.set||D),Object.defineProperty(t,e,or)}function dr(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),gt.target&&e.depend(),e.value}}function vr(t){return function(){return t.call(this,this)}}function gr(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?D:N(e[n],t)}function mr(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)yr(t,n,r[i]);else yr(t,n,r)}}function yr(t,e,n,r){return f(n)&&(r=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,r)}function _r(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Mt,t.prototype.$delete=jt,t.prototype.$watch=function(t,e,n){var r=this;if(f(e))return yr(r,t,e,n);n=n||{},n.user=!0;var i=new ir(r,t,e,n);if(n.immediate){var o='callback for immediate watcher "'+i.expression+'"';yt(),ie(e,r,[i.value],r,o),_t()}return function(){i.teardown()}}}var br=0;function wr(t){t.prototype._init=function(t){var e=this;e._uid=br++,e._isVue=!0,t&&t._isComponent?Er(e,t):e.$options=Yt(Ir(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Dn(e),Cn(e),yn(e),Vn(e,"beforeCreate"),Oe(e),sr(e),Ne(e),Vn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function Er(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function Ir(t){var e=t.options;if(t.super){var n=Ir(t.super),r=t.superOptions;if(n!==r){t.superOptions=n;var i=Tr(t);i&&R(t.extendOptions,i),e=t.options=Yt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function Tr(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}function kr(t){this._init(t)}function Cr(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=O(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Sr(t){t.mixin=function(t){return this.options=Yt(this.options,t),this}}function Ar(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var o=t.name||n.options.name;var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Yt(n.options,t),a["super"]=n,a.options.props&&xr(a),a.options.computed&&Nr(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,V.forEach((function(t){a[t]=n[t]})),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=R({},a.options),i[r]=a,a}}function xr(t){var e=t.options.props;for(var n in e)ar(t.prototype,"_props",n)}function Nr(t){var e=t.options.computed;for(var n in e)pr(t.prototype,n,e[n])}function Or(t){V.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&f(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}function Rr(t){return t&&(t.Ctor.options.name||t.tag)}function Pr(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Dr(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var o in n){var a=n[o];if(a){var s=a.name;s&&!e(s)&&Lr(n,o,r,i)}}}function Lr(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,_(n,e)}wr(kr),_r(kr),On(kr),Ln(kr),wn(kr);var Mr=[String,RegExp,Array],jr={name:"keep-alive",abstract:!0,props:{include:Mr,exclude:Mr,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,i=t.keyToCache;if(r){var o=r.tag,a=r.componentInstance,s=r.componentOptions;e[i]={name:Rr(s),tag:o,componentInstance:a},n.push(i),this.max&&n.length>parseInt(this.max)&&Lr(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Lr(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Dr(t,(function(t){return Pr(e,t)}))})),this.$watch("exclude",(function(e){Dr(t,(function(t){return!Pr(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=kn(t),n=e&&e.componentOptions;if(n){var r=Rr(n),i=this,o=i.include,a=i.exclude;if(o&&(!r||!Pr(o,r))||a&&r&&Pr(a,r))return e;var s=this,u=s.cache,c=s.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;u[l]?(e.componentInstance=u[l].componentInstance,_(c,l),c.push(l)):(this.vnodeToCache=e,this.keyToCache=l),e.data.keepAlive=!0}return e||t&&t[0]}},Fr={KeepAlive:jr};function Ur(t){var e={get:function(){return K}};Object.defineProperty(t,"config",e),t.util={warn:dt,extend:R,mergeOptions:Yt,defineReactive:Lt},t.set=Mt,t.delete=jt,t.nextTick=ge,t.observable=function(t){return Dt(t),t},t.options=Object.create(null),V.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,R(t.options.components,Fr),Cr(t),Sr(t),Ar(t),Or(t)}Ur(kr),Object.defineProperty(kr.prototype,"$isServer",{get:ct}),Object.defineProperty(kr.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(kr,"FunctionalRenderContext",{value:tn}),kr.version="2.6.14";var qr=m("style,class"),Vr=m("input,textarea,option,select,progress"),Br=function(t,e,n){return"value"===n&&Vr(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Kr=m("contenteditable,draggable,spellcheck"),zr=m("events,caret,typing,plaintext-only"),Hr=function(t,e){return Qr(e)||"false"===e?"false":"contenteditable"===t&&zr(e)?e:"true"},Wr=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Gr="http://www.w3.org/1999/xlink",$r=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Yr=function(t){return $r(t)?t.slice(6,t.length):""},Qr=function(t){return null==t||!1===t};function Xr(t){var e=t.data,n=t,r=t;while(o(r.componentInstance))r=r.componentInstance._vnode,r&&r.data&&(e=Jr(r.data,e));while(o(n=n.parent))n&&n.data&&(e=Jr(e,n.data));return Zr(e.staticClass,e.class)}function Jr(t,e){return{staticClass:ti(t.staticClass,e.staticClass),class:o(t.class)?[t.class,e.class]:e.class}}function Zr(t,e){return o(t)||o(e)?ti(t,ei(e)):""}function ti(t,e){return t?e?t+" "+e:t:e||""}function ei(t){return Array.isArray(t)?ni(t):c(t)?ri(t):"string"===typeof t?t:""}function ni(t){for(var e,n="",r=0,i=t.length;r<i;r++)o(e=ei(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function ri(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var ii={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},oi=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ai=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),si=function(t){return oi(t)||ai(t)};function ui(t){return ai(t)?"svg":"math"===t?"math":void 0}var ci=Object.create(null);function li(t){if(!X)return!0;if(si(t))return!1;if(t=t.toLowerCase(),null!=ci[t])return ci[t];var e=document.createElement(t);return t.indexOf("-")>-1?ci[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ci[t]=/HTMLUnknownElement/.test(e.toString())}var fi=m("text,number,password,search,email,tel,url");function hi(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function pi(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n}function di(t,e){return document.createElementNS(ii[t],e)}function vi(t){return document.createTextNode(t)}function gi(t){return document.createComment(t)}function mi(t,e,n){t.insertBefore(e,n)}function yi(t,e){t.removeChild(e)}function _i(t,e){t.appendChild(e)}function bi(t){return t.parentNode}function wi(t){return t.nextSibling}function Ei(t){return t.tagName}function Ii(t,e){t.textContent=e}function Ti(t,e){t.setAttribute(e,"")}var ki=Object.freeze({createElement:pi,createElementNS:di,createTextNode:vi,createComment:gi,insertBefore:mi,removeChild:yi,appendChild:_i,parentNode:bi,nextSibling:wi,tagName:Ei,setTextContent:Ii,setStyleScope:Ti}),Ci={create:function(t,e){Si(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Si(t,!0),Si(e))},destroy:function(t){Si(t,!0)}};function Si(t,e){var n=t.data.ref;if(o(n)){var r=t.context,i=t.componentInstance||t.elm,a=r.$refs;e?Array.isArray(a[n])?_(a[n],i):a[n]===i&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(i)<0&&a[n].push(i):a[n]=[i]:a[n]=i}}var Ai=new bt("",{},[]),xi=["create","activate","update","remove","destroy"];function Ni(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&o(t.data)===o(e.data)&&Oi(t,e)||a(t.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function Oi(t,e){if("input"!==t.tag)return!0;var n,r=o(n=t.data)&&o(n=n.attrs)&&n.type,i=o(n=e.data)&&o(n=n.attrs)&&n.type;return r===i||fi(r)&&fi(i)}function Ri(t,e,n){var r,i,a={};for(r=e;r<=n;++r)i=t[r].key,o(i)&&(a[i]=r);return a}function Pi(t){var e,n,r={},s=t.modules,c=t.nodeOps;for(e=0;e<xi.length;++e)for(r[xi[e]]=[],n=0;n<s.length;++n)o(s[n][xi[e]])&&r[xi[e]].push(s[n][xi[e]]);function l(t){return new bt(c.tagName(t).toLowerCase(),{},[],void 0,t)}function f(t,e){function n(){0===--n.listeners&&h(t)}return n.listeners=e,n}function h(t){var e=c.parentNode(t);o(e)&&c.removeChild(e,t)}function p(t,e,n,r,i,s,u){if(o(t.elm)&&o(s)&&(t=s[u]=Tt(t)),t.isRootInsert=!i,!d(t,e,n,r)){var l=t.data,f=t.children,h=t.tag;o(h)?(t.elm=t.ns?c.createElementNS(t.ns,h):c.createElement(h,t),E(t),_(t,f,e),o(l)&&w(t,e),y(n,t.elm,r)):a(t.isComment)?(t.elm=c.createComment(t.text),y(n,t.elm,r)):(t.elm=c.createTextNode(t.text),y(n,t.elm,r))}}function d(t,e,n,r){var i=t.data;if(o(i)){var s=o(t.componentInstance)&&i.keepAlive;if(o(i=i.hook)&&o(i=i.init)&&i(t,!1),o(t.componentInstance))return v(t,e),y(n,t.elm,r),a(s)&&g(t,e,n,r),!0}}function v(t,e){o(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,b(t)?(w(t,e),E(t)):(Si(t),e.push(t))}function g(t,e,n,i){var a,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,o(a=s.data)&&o(a=a.transition)){for(a=0;a<r.activate.length;++a)r.activate[a](Ai,s);e.push(s);break}y(n,t.elm,i)}function y(t,e,n){o(t)&&(o(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function _(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)p(e[r],n,t.elm,null,!0,e,r)}else u(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function b(t){while(t.componentInstance)t=t.componentInstance._vnode;return o(t.tag)}function w(t,n){for(var i=0;i<r.create.length;++i)r.create[i](Ai,t);e=t.data.hook,o(e)&&(o(e.create)&&e.create(Ai,t),o(e.insert)&&n.push(t))}function E(t){var e;if(o(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var n=t;while(n)o(e=n.context)&&o(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent}o(e=Rn)&&e!==t.context&&e!==t.fnContext&&o(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function I(t,e,n,r,i,o){for(;r<=i;++r)p(n[r],o,t,e,!1,n,r)}function T(t){var e,n,i=t.data;if(o(i))for(o(e=i.hook)&&o(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(o(e=t.children))for(n=0;n<t.children.length;++n)T(t.children[n])}function k(t,e,n){for(;e<=n;++e){var r=t[e];o(r)&&(o(r.tag)?(C(r),T(r)):h(r.elm))}}function C(t,e){if(o(e)||o(t.data)){var n,i=r.remove.length+1;for(o(e)?e.listeners+=i:e=f(t.elm,i),o(n=t.componentInstance)&&o(n=n._vnode)&&o(n.data)&&C(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);o(n=t.data.hook)&&o(n=n.remove)?n(t,e):e()}else h(t.elm)}function S(t,e,n,r,a){var s,u,l,f,h=0,d=0,v=e.length-1,g=e[0],m=e[v],y=n.length-1,_=n[0],b=n[y],w=!a;while(h<=v&&d<=y)i(g)?g=e[++h]:i(m)?m=e[--v]:Ni(g,_)?(x(g,_,r,n,d),g=e[++h],_=n[++d]):Ni(m,b)?(x(m,b,r,n,y),m=e[--v],b=n[--y]):Ni(g,b)?(x(g,b,r,n,y),w&&c.insertBefore(t,g.elm,c.nextSibling(m.elm)),g=e[++h],b=n[--y]):Ni(m,_)?(x(m,_,r,n,d),w&&c.insertBefore(t,m.elm,g.elm),m=e[--v],_=n[++d]):(i(s)&&(s=Ri(e,h,v)),u=o(_.key)?s[_.key]:A(_,e,h,v),i(u)?p(_,r,t,g.elm,!1,n,d):(l=e[u],Ni(l,_)?(x(l,_,r,n,d),e[u]=void 0,w&&c.insertBefore(t,l.elm,g.elm)):p(_,r,t,g.elm,!1,n,d)),_=n[++d]);h>v?(f=i(n[y+1])?null:n[y+1].elm,I(t,f,n,d,y,r)):d>y&&k(e,h,v)}function A(t,e,n,r){for(var i=n;i<r;i++){var a=e[i];if(o(a)&&Ni(t,a))return i}}function x(t,e,n,s,u,l){if(t!==e){o(e.elm)&&o(s)&&(e=s[u]=Tt(e));var f=e.elm=t.elm;if(a(t.isAsyncPlaceholder))o(e.asyncFactory.resolved)?R(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(a(e.isStatic)&&a(t.isStatic)&&e.key===t.key&&(a(e.isCloned)||a(e.isOnce)))e.componentInstance=t.componentInstance;else{var h,p=e.data;o(p)&&o(h=p.hook)&&o(h=h.prepatch)&&h(t,e);var d=t.children,v=e.children;if(o(p)&&b(e)){for(h=0;h<r.update.length;++h)r.update[h](t,e);o(h=p.hook)&&o(h=h.update)&&h(t,e)}i(e.text)?o(d)&&o(v)?d!==v&&S(f,d,v,n,l):o(v)?(o(t.text)&&c.setTextContent(f,""),I(f,null,v,0,v.length-1,n)):o(d)?k(d,0,d.length-1):o(t.text)&&c.setTextContent(f,""):t.text!==e.text&&c.setTextContent(f,e.text),o(p)&&o(h=p.hook)&&o(h=h.postpatch)&&h(t,e)}}}function N(t,e,n){if(a(n)&&o(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var O=m("attrs,class,staticClass,staticStyle,key");function R(t,e,n,r){var i,s=e.tag,u=e.data,c=e.children;if(r=r||u&&u.pre,e.elm=t,a(e.isComment)&&o(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(o(u)&&(o(i=u.hook)&&o(i=i.init)&&i(e,!0),o(i=e.componentInstance)))return v(e,n),!0;if(o(s)){if(o(c))if(t.hasChildNodes())if(o(i=u)&&o(i=i.domProps)&&o(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var l=!0,f=t.firstChild,h=0;h<c.length;h++){if(!f||!R(f,c[h],n,r)){l=!1;break}f=f.nextSibling}if(!l||f)return!1}else _(e,c,n);if(o(u)){var p=!1;for(var d in u)if(!O(d)){p=!0,w(e,n);break}!p&&u["class"]&&ye(u["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!i(e)){var u=!1,f=[];if(i(t))u=!0,p(e,f);else{var h=o(t.nodeType);if(!h&&Ni(t,e))x(t,e,f,null,null,s);else{if(h){if(1===t.nodeType&&t.hasAttribute(q)&&(t.removeAttribute(q),n=!0),a(n)&&R(t,e,f))return N(e,f,!0),t;t=l(t)}var d=t.elm,v=c.parentNode(d);if(p(e,f,d._leaveCb?null:v,c.nextSibling(d)),o(e.parent)){var g=e.parent,m=b(e);while(g){for(var y=0;y<r.destroy.length;++y)r.destroy[y](g);if(g.elm=e.elm,m){for(var _=0;_<r.create.length;++_)r.create[_](Ai,g);var w=g.data.hook.insert;if(w.merged)for(var E=1;E<w.fns.length;E++)w.fns[E]()}else Si(g);g=g.parent}}o(v)?k([t],0,0):o(t.tag)&&T(t)}}return N(e,f,u),e.elm}o(t)&&T(t)}}var Di={create:Li,update:Li,destroy:function(t){Li(t,Ai)}};function Li(t,e){(t.data.directives||e.data.directives)&&Mi(t,e)}function Mi(t,e){var n,r,i,o=t===Ai,a=e===Ai,s=Fi(t.data.directives,t.context),u=Fi(e.data.directives,e.context),c=[],l=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,qi(i,"update",e,t),i.def&&i.def.componentUpdated&&l.push(i)):(qi(i,"bind",e,t),i.def&&i.def.inserted&&c.push(i));if(c.length){var f=function(){for(var n=0;n<c.length;n++)qi(c[n],"inserted",e,t)};o?Ie(e,"insert",f):f()}if(l.length&&Ie(e,"postpatch",(function(){for(var n=0;n<l.length;n++)qi(l[n],"componentUpdated",e,t)})),!o)for(n in s)u[n]||qi(s[n],"unbind",t,t,a)}var ji=Object.create(null);function Fi(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)r=t[n],r.modifiers||(r.modifiers=ji),i[Ui(r)]=r,r.def=Qt(e.$options,"directives",r.name,!0);return i}function Ui(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function qi(t,e,n,r,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,r,i)}catch(ka){re(ka,n.context,"directive "+t.name+" "+e+" hook")}}var Vi=[Ci,Di];function Bi(t,e){var n=e.componentOptions;if((!o(n)||!1!==n.Ctor.options.inheritAttrs)&&(!i(t.data.attrs)||!i(e.data.attrs))){var r,a,s,u=e.elm,c=t.data.attrs||{},l=e.data.attrs||{};for(r in o(l.__ob__)&&(l=e.data.attrs=R({},l)),l)a=l[r],s=c[r],s!==a&&Ki(u,r,a,e.data.pre);for(r in(et||rt)&&l.value!==c.value&&Ki(u,"value",l.value),c)i(l[r])&&($r(r)?u.removeAttributeNS(Gr,Yr(r)):Kr(r)||u.removeAttribute(r))}}function Ki(t,e,n,r){r||t.tagName.indexOf("-")>-1?zi(t,e,n):Wr(e)?Qr(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Kr(e)?t.setAttribute(e,Hr(e,n)):$r(e)?Qr(n)?t.removeAttributeNS(Gr,Yr(e)):t.setAttributeNS(Gr,e,n):zi(t,e,n)}function zi(t,e,n){if(Qr(n))t.removeAttribute(e);else{if(et&&!nt&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var Hi={create:Bi,update:Bi};function Wi(t,e){var n=e.elm,r=e.data,a=t.data;if(!(i(r.staticClass)&&i(r.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var s=Xr(e),u=n._transitionClasses;o(u)&&(s=ti(s,ei(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Gi,$i={create:Wi,update:Wi},Yi="__r",Qi="__c";function Xi(t){if(o(t[Yi])){var e=et?"change":"input";t[e]=[].concat(t[Yi],t[e]||[]),delete t[Yi]}o(t[Qi])&&(t.change=[].concat(t[Qi],t.change||[]),delete t[Qi])}function Ji(t,e,n){var r=Gi;return function i(){var o=e.apply(null,arguments);null!==o&&eo(t,i,n,r)}}var Zi=ue&&!(ot&&Number(ot[1])<=53);function to(t,e,n,r){if(Zi){var i=Yn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Gi.addEventListener(t,e,st?{capture:n,passive:r}:n)}function eo(t,e,n,r){(r||Gi).removeEventListener(t,e._wrapper||e,n)}function no(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Gi=e.elm,Xi(n),Ee(n,r,to,eo,Ji,e.context),Gi=void 0}}var ro,io={create:no,update:no};function oo(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,r,a=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in o(u.__ob__)&&(u=e.data.domProps=R({},u)),s)n in u||(a[n]="");for(n in u){if(r=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=r;var c=i(r)?"":String(r);ao(a,c)&&(a.value=c)}else if("innerHTML"===n&&ai(a.tagName)&&i(a.innerHTML)){ro=ro||document.createElement("div"),ro.innerHTML="<svg>"+r+"</svg>";var l=ro.firstChild;while(a.firstChild)a.removeChild(a.firstChild);while(l.firstChild)a.appendChild(l.firstChild)}else if(r!==s[n])try{a[n]=r}catch(ka){}}}}function ao(t,e){return!t.composing&&("OPTION"===t.tagName||so(t,e)||uo(t,e))}function so(t,e){var n=!0;try{n=document.activeElement!==t}catch(ka){}return n&&t.value!==e}function uo(t,e){var n=t.value,r=t._vModifiers;if(o(r)){if(r.number)return g(n)!==g(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}var co={create:oo,update:oo},lo=E((function(t){var e={},n=/;(?![^(]*\))/g,r=/:(.+)/;return t.split(n).forEach((function(t){if(t){var n=t.split(r);n.length>1&&(e[n[0].trim()]=n[1].trim())}})),e}));function fo(t){var e=ho(t.style);return t.staticStyle?R(t.staticStyle,e):e}function ho(t){return Array.isArray(t)?P(t):"string"===typeof t?lo(t):t}function po(t,e){var n,r={};if(e){var i=t;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(n=fo(i.data))&&R(r,n)}(n=fo(t.data))&&R(r,n);var o=t;while(o=o.parent)o.data&&(n=fo(o.data))&&R(r,n);return r}var vo,go=/^--/,mo=/\s*!important$/,yo=function(t,e,n){if(go.test(e))t.style.setProperty(e,n);else if(mo.test(n))t.style.setProperty(S(e),n.replace(mo,""),"important");else{var r=bo(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[r]=n[i];else t.style[r]=n}},_o=["Webkit","Moz","ms"],bo=E((function(t){if(vo=vo||document.createElement("div").style,t=T(t),"filter"!==t&&t in vo)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<_o.length;n++){var r=_o[n]+e;if(r in vo)return r}}));function wo(t,e){var n=e.data,r=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(r.staticStyle)&&i(r.style))){var a,s,u=e.elm,c=r.staticStyle,l=r.normalizedStyle||r.style||{},f=c||l,h=ho(e.data.style)||{};e.data.normalizedStyle=o(h.__ob__)?R({},h):h;var p=po(e,!0);for(s in f)i(p[s])&&yo(u,s,"");for(s in p)a=p[s],a!==f[s]&&yo(u,s,null==a?"":a)}}var Eo={create:wo,update:wo},Io=/\s+/;function To(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Io).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function ko(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Io).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";while(n.indexOf(r)>=0)n=n.replace(r," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Co(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&R(e,So(t.name||"v")),R(e,t),e}return"string"===typeof t?So(t):void 0}}var So=E((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Ao=X&&!nt,xo="transition",No="animation",Oo="transition",Ro="transitionend",Po="animation",Do="animationend";Ao&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Oo="WebkitTransition",Ro="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Po="WebkitAnimation",Do="webkitAnimationEnd"));var Lo=X?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Mo(t){Lo((function(){Lo(t)}))}function jo(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),To(t,e))}function Fo(t,e){t._transitionClasses&&_(t._transitionClasses,e),ko(t,e)}function Uo(t,e,n){var r=Vo(t,e),i=r.type,o=r.timeout,a=r.propCount;if(!i)return n();var s=i===xo?Ro:Do,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=a&&c()};setTimeout((function(){u<a&&c()}),o+1),t.addEventListener(s,l)}var qo=/\b(transform|all)(,|$)/;function Vo(t,e){var n,r=window.getComputedStyle(t),i=(r[Oo+"Delay"]||"").split(", "),o=(r[Oo+"Duration"]||"").split(", "),a=Bo(i,o),s=(r[Po+"Delay"]||"").split(", "),u=(r[Po+"Duration"]||"").split(", "),c=Bo(s,u),l=0,f=0;e===xo?a>0&&(n=xo,l=a,f=o.length):e===No?c>0&&(n=No,l=c,f=u.length):(l=Math.max(a,c),n=l>0?a>c?xo:No:null,f=n?n===xo?o.length:u.length:0);var h=n===xo&&qo.test(r[Oo+"Property"]);return{type:n,timeout:l,propCount:f,hasTransform:h}}function Bo(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Ko(e)+Ko(t[n])})))}function Ko(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function zo(t,e){var n=t.elm;o(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=Co(t.data.transition);if(!i(r)&&!o(n._enterCb)&&1===n.nodeType){var a=r.css,s=r.type,u=r.enterClass,l=r.enterToClass,f=r.enterActiveClass,h=r.appearClass,p=r.appearToClass,d=r.appearActiveClass,v=r.beforeEnter,m=r.enter,y=r.afterEnter,_=r.enterCancelled,b=r.beforeAppear,w=r.appear,E=r.afterAppear,I=r.appearCancelled,T=r.duration,k=Rn,C=Rn.$vnode;while(C&&C.parent)k=C.context,C=C.parent;var S=!k._isMounted||!t.isRootInsert;if(!S||w||""===w){var A=S&&h?h:u,x=S&&d?d:f,N=S&&p?p:l,O=S&&b||v,R=S&&"function"===typeof w?w:m,P=S&&E||y,D=S&&I||_,L=g(c(T)?T.enter:T);0;var M=!1!==a&&!nt,j=Go(R),F=n._enterCb=U((function(){M&&(Fo(n,N),Fo(n,x)),F.cancelled?(M&&Fo(n,A),D&&D(n)):P&&P(n),n._enterCb=null}));t.data.show||Ie(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),R&&R(n,F)})),O&&O(n),M&&(jo(n,A),jo(n,x),Mo((function(){Fo(n,A),F.cancelled||(jo(n,N),j||(Wo(L)?setTimeout(F,L):Uo(n,s,F)))}))),t.data.show&&(e&&e(),R&&R(n,F)),M||j||F()}}}function Ho(t,e){var n=t.elm;o(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=Co(t.data.transition);if(i(r)||1!==n.nodeType)return e();if(!o(n._leaveCb)){var a=r.css,s=r.type,u=r.leaveClass,l=r.leaveToClass,f=r.leaveActiveClass,h=r.beforeLeave,p=r.leave,d=r.afterLeave,v=r.leaveCancelled,m=r.delayLeave,y=r.duration,_=!1!==a&&!nt,b=Go(p),w=g(c(y)?y.leave:y);0;var E=n._leaveCb=U((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),_&&(Fo(n,l),Fo(n,f)),E.cancelled?(_&&Fo(n,u),v&&v(n)):(e(),d&&d(n)),n._leaveCb=null}));m?m(I):I()}function I(){E.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),h&&h(n),_&&(jo(n,u),jo(n,f),Mo((function(){Fo(n,u),E.cancelled||(jo(n,l),b||(Wo(w)?setTimeout(E,w):Uo(n,s,E)))}))),p&&p(n,E),_||b||E())}}function Wo(t){return"number"===typeof t&&!isNaN(t)}function Go(t){if(i(t))return!1;var e=t.fns;return o(e)?Go(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function $o(t,e){!0!==e.data.show&&zo(e)}var Yo=X?{create:$o,activate:$o,remove:function(t,e){!0!==t.data.show?Ho(t,e):e()}}:{},Qo=[Hi,$i,io,co,Eo,Yo],Xo=Qo.concat(Vi),Jo=Pi({nodeOps:ki,modules:Xo});nt&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&aa(t,"input")}));var Zo={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?Ie(n,"postpatch",(function(){Zo.componentUpdated(t,e,n)})):ta(t,e,n.context),t._vOptions=[].map.call(t.options,ra)):("textarea"===n.tag||fi(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",ia),t.addEventListener("compositionend",oa),t.addEventListener("change",oa),nt&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){ta(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,ra);if(i.some((function(t,e){return!j(t,r[e])}))){var o=t.multiple?e.value.some((function(t){return na(t,i)})):e.value!==e.oldValue&&na(e.value,i);o&&aa(t,"change")}}}};function ta(t,e,n){ea(t,e,n),(et||rt)&&setTimeout((function(){ea(t,e,n)}),0)}function ea(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],i)o=F(r,ra(a))>-1,a.selected!==o&&(a.selected=o);else if(j(ra(a),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function na(t,e){return e.every((function(e){return!j(e,t)}))}function ra(t){return"_value"in t?t._value:t.value}function ia(t){t.target.composing=!0}function oa(t){t.target.composing&&(t.target.composing=!1,aa(t.target,"input"))}function aa(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function sa(t){return!t.componentInstance||t.data&&t.data.transition?t:sa(t.componentInstance._vnode)}var ua={bind:function(t,e,n){var r=e.value;n=sa(n);var i=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,zo(n,(function(){t.style.display=o}))):t.style.display=r?o:"none"},update:function(t,e,n){var r=e.value,i=e.oldValue;if(!r!==!i){n=sa(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,r?zo(n,(function(){t.style.display=t.__vOriginalDisplay})):Ho(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}},ca={model:Zo,show:ua},la={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function fa(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?fa(kn(e.children)):t}function ha(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var o in i)e[T(o)]=i[o];return e}function pa(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function da(t){while(t=t.parent)if(t.data.transition)return!0}function va(t,e){return e.key===t.key&&e.tag===t.tag}var ga=function(t){return t.tag||Le(t)},ma=function(t){return"show"===t.name},ya={name:"transition",props:la,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(ga),n.length)){0;var r=this.mode;0;var i=n[0];if(da(this.$vnode))return i;var o=fa(i);if(!o)return i;if(this._leaving)return pa(t,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:u(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var s=(o.data||(o.data={})).transition=ha(this),c=this._vnode,l=fa(c);if(o.data.directives&&o.data.directives.some(ma)&&(o.data.show=!0),l&&l.data&&!va(o,l)&&!Le(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var f=l.data.transition=R({},s);if("out-in"===r)return this._leaving=!0,Ie(f,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),pa(t,i);if("in-out"===r){if(Le(o))return c;var h,p=function(){h()};Ie(s,"afterEnter",p),Ie(s,"enterCancelled",p),Ie(f,"delayLeave",(function(t){h=t}))}}return i}}},_a=R({tag:String,moveClass:String},la);delete _a.mode;var ba={props:_a,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=Pn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=ha(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(r){for(var c=[],l=[],f=0;f<r.length;f++){var h=r[f];h.data.transition=a,h.data.pos=h.elm.getBoundingClientRect(),n[h.key]?c.push(h):l.push(h)}this.kept=t(e,null,c),this.removed=l}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(wa),t.forEach(Ea),t.forEach(Ia),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;jo(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(Ro,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(Ro,t),n._moveCb=null,Fo(n,e))})}})))},methods:{hasMove:function(t,e){if(!Ao)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){ko(n,t)})),To(n,e),n.style.display="none",this.$el.appendChild(n);var r=Vo(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}};function wa(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ea(t){t.data.newPos=t.elm.getBoundingClientRect()}function Ia(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+r+"px,"+i+"px)",o.transitionDuration="0s"}}var Ta={Transition:ya,TransitionGroup:ba};kr.config.mustUseProp=Br,kr.config.isReservedTag=si,kr.config.isReservedAttr=qr,kr.config.getTagNamespace=ui,kr.config.isUnknownElement=li,R(kr.options.directives,ca),R(kr.options.components,Ta),kr.prototype.__patch__=X?Jo:D,kr.prototype.$mount=function(t,e){return t=t&&X?hi(t):void 0,Mn(this,t,e)},X&&setTimeout((function(){K.devtools&&lt&&lt.emit("init",kr)}),0),e["Z"]=kr},1056:function(t,e,n){"use strict";
/*!
  * vuefire v2.2.5
  * (c) 2020 Eduardo San Martin Morote
  * @license MIT
  */
function r(t,e){return e.split(".").reduce((function(t,e){return t[e]}),t)}function i(t,e,n){var r=(""+e).split("."),i=r.pop(),o=r.reduce((function(t,e){return t[e]}),t);return Array.isArray(o)?o.splice(Number(i),1,n):o[i]=n}function o(t){return t&&"object"===typeof t}function a(t){return t.toDate}function s(t){return t&&t.onSnapshot}function u(t,e){var n=!1;return function(){if(!n)return n=!0,t(e())}}function c(t){var e=t.val(),n=o(e)?e:Object.defineProperty({},".value",{value:e});return Object.defineProperty(n,".key",{value:t.key}),n}n.d(e,{S:function(){return I}});var l={reset:!0,serialize:c,wait:!1};function f(t){return Object.defineProperty(t.data()||{},"id",{value:t.id})}function h(t,e,n){var r=[{},{}],i=Object.keys(n).reduce((function(t,e){var r=n[e];return t[r.path]=r.data(),t}),{});function u(t,e,n,r){e=e||{};var c=r[0],l=r[1];for(var f in Object.getOwnPropertyNames(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);n&&!n.enumerable&&Object.defineProperty(c,e,n)})),t){var h=t[f];if(null==h||h instanceof Date||a(h)||h.longitude&&h.latitude)c[f]=h;else if(s(h))c[f]="object"===typeof e&&f in e&&"string"!=typeof e[f]?e[f]:h.path,l[n+f]=h;else if(Array.isArray(h)){c[f]=Array(h.length);for(var p=0;p<h.length;p++){var d=h[p];d&&d.path in i&&(c[f][p]=i[d.path])}u(h,e[f]||c[f],n+f+".",[c[f],l])}else o(h)?(c[f]={},u(h,e[f],n+f+".",[c[f],l])):c[f]=h}}return u(t,e,"",r),r}var p={maxRefDepth:2,reset:!0,serialize:f,wait:!1};function d(t){for(var e in t)t[e].unsub()}function v(t,e,n,i,o,a,s,u){var c=h(t.serialize(i),r(e,n),o),l=c[0],f=c[1];a.set(e,n,l),m(t,e,n,o,f,a,s,u)}function g(t,e){var n=t.ref,r=t.target,i=t.path,o=t.depth,a=t.resolve,s=t.ops,u=Object.create(null),c=n.onSnapshot((function(t){t.exists?v(e,r,i,t,u,s,o,a):(s.set(r,i,null),a())}));return function(){c(),d(u)}}function m(t,e,n,i,o,a,s,u){var c=Object.keys(o),l=Object.keys(i).filter((function(t){return c.indexOf(t)<0}));if(l.forEach((function(t){i[t].unsub(),delete i[t]})),!c.length||++s>t.maxRefDepth)return u(n);var f=0,h=c.length,p=Object.create(null);function d(t){t in p&&++f>=h&&u(n)}c.forEach((function(u){var c=i[u],l=o[u],f=n+"."+u;if(p[f]=!0,c){if(c.path===l.path)return;c.unsub()}i[u]={data:function(){return r(e,f)},unsub:g({ref:l,target:e,path:f,depth:s,ops:a,resolve:d.bind(null,f)},t),path:l.path}}))}function y(t,e){var n=t.vm,r=t.key,i=t.collection,o=t.ops,a=t.resolve,s=t.reject;void 0===e&&(e=p);var u,c=Object.assign({},p,e),l=c.wait?[]:o.set(n,r,[]),f=a,v=[],g={added:function(t){var e=t.newIndex,n=t.doc;v.splice(e,0,Object.create(null));var r=v[e],i=h(c.serialize(n),void 0,r),s=i[0],u=i[1];o.add(l,e,s),m(c,l,e,r,u,o,0,a.bind(null,n))},modified:function(t){var e=t.oldIndex,n=t.newIndex,r=t.doc,i=v[e],s=l[e],u=h(c.serialize(r),s,i),f=u[0],p=u[1];v.splice(n,0,i),o.remove(l,e),o.add(l,n,f),m(c,l,n,i,p,o,0,a)},removed:function(t){var e=t.oldIndex;o.remove(l,e),d(v.splice(e,1)[0])}},y=i.onSnapshot((function(t){var e="function"===typeof t.docChanges?t.docChanges():t.docChanges;if(!u&&e.length){u=!0;for(var i=0,s=e.length,h=Object.create(null),p=0;p<s;p++)h[e[p].doc.id]=!0;a=function(t){var e=t.id;e in h&&++i>=s&&(c.wait&&o.set(n,r,l),f(n[r]),a=function(){})}}e.forEach((function(t){g[t.type](t)})),e.length||(c.wait&&o.set(n,r,l),a(l))}),s);return function(t){if(y(),!1!==t){var e="function"===typeof t?t():[];o.set(n,r,e)}v.forEach(d)}}function _(t,e){var n=t.vm,i=t.key,o=t.document,a=t.resolve,s=t.reject,c=t.ops;void 0===e&&(e=p);var l=Object.assign({},p,e),f=Object.create(null);a=u(a,(function(){return r(n,i)}));var h=o.onSnapshot((function(t){t.exists?v(l,n,i,t,f,c,0,a):(c.set(n,i,null),a(null))}),s);return function(t){if(h(),!1!==t){var e="function"===typeof t?t():null;c.set(n,i,e)}d(f)}}l.serialize,l.reset,l.wait;var b={set:function(t,e,n){return i(t,e,n)},add:function(t,e,n){return t.splice(e,0,n)},remove:function(t,e){return t.splice(e,1)}};function w(t,e,n,r,i){return new Promise((function(o,a){var s;s="where"in n?y({vm:t,key:e,ops:r,collection:n,resolve:o,reject:a},i):_({vm:t,key:e,ops:r,document:n,resolve:o,reject:a},i),t._firestoreUnbinds[e]=s}))}var E={bindName:"$bind",unbindName:"$unbind",serialize:p.serialize,reset:p.reset,wait:p.wait},I=function(t,e){void 0===e&&(e=E);var n=t.config.optionMergeStrategies;n.firestore=n.provide;var r=Object.assign({},E,e),i=r.bindName,o=r.unbindName;t.prototype[o]=function(t,e){this._firestoreUnbinds[t](e),delete this._firestoreUnbinds[t],delete this.$firestoreRefs[t]},t.prototype[i]=function(t,e,n){var i=Object.assign({},r,n);this._firestoreUnbinds[t]&&this[o](t,i.wait?"function"===typeof i.reset&&i.reset:i.reset);var a=w(this,t,e,b,i);return this.$firestoreRefs[t]=e,a},t.mixin({beforeCreate:function(){this._firestoreUnbinds=Object.create(null),this.$firestoreRefs=Object.create(null)},created:function(){var t=this.$options.firestore,e="function"===typeof t?t.call(this):t;if(e)for(var n in e)this[i](n,e[n],r)},beforeDestroy:function(){for(var t in this._firestoreUnbinds)this._firestoreUnbinds[t]();this._firestoreUnbinds=null,this.$firestoreRefs=null}})}}}]);
//# sourceMappingURL=chunk-vendors.fd3ac983.js.map